[1mdiff --git a/.gitignore b/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..81452db[m
[1m--- /dev/null[m
[1m+++ b/.gitignore[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m# See https://help.github.com/articles/ignoring-files for more about ignoring files.[m
[32m+[m[32m#[m
[32m+[m[32m# If you find yourself ignoring temporary files generated by your text editor[m
[32m+[m[32m# or operating system, you probably want to add a global ignore instead:[m
[32m+[m[32m#   git config --global core.excludesfile '~/.gitignore_global'[m
[32m+[m
[32m+[m[32m# Ignore bundler config.[m
[32m+[m[32m/.bundle[m
[32m+[m
[32m+[m[32m# Ignore the default SQLite database.[m
[32m+[m[32m/db/*.sqlite3[m
[32m+[m[32m/db/*.sqlite3-journal[m
[32m+[m
[32m+[m[32m# Ignore all logfiles and tempfiles.[m
[32m+[m[32m/log/*[m
[32m+[m[32m/tmp/*[m
[32m+[m[32m!/log/.keep[m
[32m+[m[32m!/tmp/.keep[m
[32m+[m
[32m+[m[32m# Ignore uploaded files in development[m
[32m+[m[32m/storage/*[m
[32m+[m[32m!/storage/.keep[m
[32m+[m
[32m+[m[32m/node_modules[m
[32m+[m[32m/yarn-error.log[m
[32m+[m
[32m+[m[32m/public/assets[m
[32m+[m[32m.byebug_history[m
[32m+[m
[32m+[m[32m# Ignore master key for decrypting credentials and more.[m
[32m+[m[32m/config/master.key[m
[1mdiff --git a/.ruby-version b/.ruby-version[m
[1mnew file mode 100644[m
[1mindex 0000000..fe30cc1[m
[1m--- /dev/null[m
[1m+++ b/.ruby-version[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32mruby-2.6.6[m
\ No newline at end of file[m
[1mdiff --git a/Gemfile b/Gemfile[m
[1mnew file mode 100644[m
[1mindex 0000000..e445817[m
[1m--- /dev/null[m
[1m+++ b/Gemfile[m
[36m@@ -0,0 +1,65 @@[m
[32m+[m[32msource 'https://rubygems.org'[m
[32m+[m[32mgit_source(:github) { |repo| "https://github.com/#{repo}.git" }[m
[32m+[m
[32m+[m[32mruby '2.6.6'[m
[32m+[m
[32m+[m[32m# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'[m
[32m+[m[32mgem 'rails', '~> 5.2.4', '>= 5.2.4.2'[m
[32m+[m[32m# Use sqlite3 as the database for Active Record[m
[32m+[m[32m# gem 'sqlite3'[m
[32m+[m[32m# Use Puma as the app server[m
[32m+[m[32mgem 'puma', '~> 3.11'[m
[32m+[m[32m# Use SCSS for stylesheets[m
[32m+[m[32mgem 'sass-rails', '~> 5.0'[m
[32m+[m[32m# Use Uglifier as compressor for JavaScript assets[m
[32m+[m[32mgem 'uglifier', '>= 1.3.0'[m
[32m+[m[32m# See https://github.com/rails/execjs#readme for more supported runtimes[m
[32m+[m[32mgem 'duktape'[m
[32m+[m[32m# Use CoffeeScript for .coffee assets and views[m
[32m+[m[32mgem 'coffee-rails', '~> 4.2'[m
[32m+[m[32m# Turbolinks makes navigating your web application faster. Read more: https://github.com/turbolinks/turbolinks[m
[32m+[m[32mgem 'turbolinks', '~> 5'[m
[32m+[m[32m# Build JSON APIs with ease. Read more: https://github.com/rails/jbuildersql[m
[32m+[m[32mgem 'jbuilder', '~> 2.5'[m
[32m+[m[32m# Use Redis adapter to run Action Cable in production[m
[32m+[m[32m# gem 'redis', '~> 4.0'[m
[32m+[m[32m# Use ActiveModel has_secure_password[m
[32m+[m[32m# gem 'bcrypt', '~> 3.1.7'[m
[32m+[m
[32m+[m[32m# Use ActiveStorage variant[m
[32m+[m[32m# gem 'mini_magick', '~> 4.8'[m
[32m+[m
[32m+[m[32m# Use Capistrano for deployment[m
[32m+[m[32m# gem 'capistrano-rails', group: :development[m
[32m+[m
[32m+[m[32m# Reduces boot times through caching; required in config/boot.rb[m
[32m+[m[32mgem 'bootsnap', '>= 1.1.0', require: false[m
[32m+[m
[32m+[m[32mgroup :development, :test do[m
[32m+[m[32m  # Call 'byebug' anywhere in the code to stop execution and get a debugger console[m
[32m+[m[32m  gem 'byebug', platforms: [:mri, :mingw, :x64_mingw][m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mgroup :development do[m
[32m+[m[32m  # Access an interactive console on exception pages or by calling 'console' anywhere in the code.[m
[32m+[m[32m  gem 'web-console', '>= 3.3.0'[m
[32m+[m[32m  gem 'sqlite3'[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mgroup :test do[m
[32m+[m[32m  # Adds support for Capybara system testing and selenium driver[m
[32m+[m[32m  gem 'capybara', '>= 2.15'[m
[32m+[m[32m  gem 'selenium-webdriver'[m
[32m+[m[32m  # Easy installation and use of chromedriver to run system tests with Chrome[m
[32m+[m[32m  gem 'chromedriver-helper'[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32m# Windows does not include zoneinfo files, so bundle the tzinfo-data gem[m
[32m+[m[32mgem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby][m
[32m+[m
[32m+[m[32mgem "jquery-rails"[m
[32m+[m
[32m+[m
[32m+[m[32mgroup :production do[m
[32m+[m[32m  gem 'pg'[m
[32m+[m[32mend[m
[1mdiff --git a/Gemfile.lock b/Gemfile.lock[m
[1mnew file mode 100644[m
[1mindex 0000000..5349f61[m
[1m--- /dev/null[m
[1m+++ b/Gemfile.lock[m
[36m@@ -0,0 +1,215 @@[m
[32m+[m[32mGEM[m
[32m+[m[32m  remote: https://rubygems.org/[m
[32m+[m[32m  specs:[m
[32m+[m[32m    actioncable (5.2.4.2)[m
[32m+[m[32m      actionpack (= 5.2.4.2)[m
[32m+[m[32m      nio4r (~> 2.0)[m
[32m+[m[32m      websocket-driver (>= 0.6.1)[m
[32m+[m[32m    actionmailer (5.2.4.2)[m
[32m+[m[32m      actionpack (= 5.2.4.2)[m
[32m+[m[32m      actionview (= 5.2.4.2)[m
[32m+[m[32m      activejob (= 5.2.4.2)[m
[32m+[m[32m      mail (~> 2.5, >= 2.5.4)[m
[32m+[m[32m      rails-dom-testing (~> 2.0)[m
[32m+[m[32m    actionpack (5.2.4.2)[m
[32m+[m[32m      actionview (= 5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m      rack (~> 2.0, >= 2.0.8)[m
[32m+[m[32m      rack-test (>= 0.6.3)[m
[32m+[m[32m      rails-dom-testing (~> 2.0)[m
[32m+[m[32m      rails-html-sanitizer (~> 1.0, >= 1.0.2)[m
[32m+[m[32m    actionview (5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m      builder (~> 3.1)[m
[32m+[m[32m      erubi (~> 1.4)[m
[32m+[m[32m      rails-dom-testing (~> 2.0)[m
[32m+[m[32m      rails-html-sanitizer (~> 1.0, >= 1.0.3)[m
[32m+[m[32m    activejob (5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m      globalid (>= 0.3.6)[m
[32m+[m[32m    activemodel (5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m    activerecord (5.2.4.2)[m
[32m+[m[32m      activemodel (= 5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m      arel (>= 9.0)[m
[32m+[m[32m    activestorage (5.2.4.2)[m
[32m+[m[32m      actionpack (= 5.2.4.2)[m
[32m+[m[32m      activerecord (= 5.2.4.2)[m
[32m+[m[32m      marcel (~> 0.3.1)[m
[32m+[m[32m    activesupport (5.2.4.2)[m
[32m+[m[32m      concurrent-ruby (~> 1.0, >= 1.0.2)[m
[32m+[m[32m      i18n (>= 0.7, < 2)[m
[32m+[m[32m      minitest (~> 5.1)[m
[32m+[m[32m      tzinfo (~> 1.1)[m
[32m+[m[32m    addressable (2.7.0)[m
[32m+[m[32m      public_suffix (>= 2.0.2, < 5.0)[m
[32m+[m[32m    archive-zip (0.12.0)[m
[32m+[m[32m      io-like (~> 0.3.0)[m
[32m+[m[32m    arel (9.0.0)[m
[32m+[m[32m    bindex (0.8.1)[m
[32m+[m[32m    bootsnap (1.4.6)[m
[32m+[m[32m      msgpack (~> 1.0)[m
[32m+[m[32m    builder (3.2.4)[m
[32m+[m[32m    byebug (11.1.3)[m
[32m+[m[32m    capybara (3.32.1)[m
[32m+[m[32m      addressable[m
[32m+[m[32m      mini_mime (>= 0.1.3)[m
[32m+[m[32m      nokogiri (~> 1.8)[m
[32m+[m[32m      rack (>= 1.6.0)[m
[32m+[m[32m      rack-test (>= 0.6.3)[m
[32m+[m[32m      regexp_parser (~> 1.5)[m
[32m+[m[32m      xpath (~> 3.2)[m
[32m+[m[32m    childprocess (3.0.0)[m
[32m+[m[32m    chromedriver-helper (2.1.1)[m
[32m+[m[32m      archive-zip (~> 0.10)[m
[32m+[m[32m      nokogiri (~> 1.8)[m
[32m+[m[32m    coffee-rails (4.2.2)[m
[32m+[m[32m      coffee-script (>= 2.2.0)[m
[32m+[m[32m      railties (>= 4.0.0)[m
[32m+[m[32m    coffee-script (2.4.1)[m
[32m+[m[32m      coffee-script-source[m
[32m+[m[32m      execjs[m
[32m+[m[32m    coffee-script-source (1.12.2)[m
[32m+[m[32m    concurrent-ruby (1.1.6)[m
[32m+[m[32m    crass (1.0.6)[m
[32m+[m[32m    duktape (2.3.0.0)[m
[32m+[m[32m    erubi (1.9.0)[m
[32m+[m[32m    execjs (2.7.0)[m
[32m+[m[32m    ffi (1.12.2-x64-mingw32)[m
[32m+[m[32m    globalid (0.4.2)[m
[32m+[m[32m      activesupport (>= 4.2.0)[m
[32m+[m[32m    i18n (1.8.2)[m
[32m+[m[32m      concurrent-ruby (~> 1.0)[m
[32m+[m[32m    io-like (0.3.1)[m
[32m+[m[32m    jbuilder (2.10.0)[m
[32m+[m[32m      activesupport (>= 5.0.0)[m
[32m+[m[32m    jquery-rails (4.3.5)[m
[32m+[m[32m      rails-dom-testing (>= 1, < 3)[m
[32m+[m[32m      railties (>= 4.2.0)[m
[32m+[m[32m      thor (>= 0.14, < 2.0)[m
[32m+[m[32m    loofah (2.5.0)[m
[32m+[m[32m      crass (~> 1.0.2)[m
[32m+[m[32m      nokogiri (>= 1.5.9)[m
[32m+[m[32m    mail (2.7.1)[m
[32m+[m[32m      mini_mime (>= 0.1.1)[m
[32m+[m[32m    marcel (0.3.3)[m
[32m+[m[32m      mimemagic (~> 0.3.2)[m
[32m+[m[32m    method_source (1.0.0)[m
[32m+[m[32m    mimemagic (0.3.4)[m
[32m+[m[32m    mini_mime (1.0.2)[m
[32m+[m[32m    mini_portile2 (2.4.0)[m
[32m+[m[32m    minitest (5.14.0)[m
[32m+[m[32m    msgpack (1.3.3-x64-mingw32)[m
[32m+[m[32m    nio4r (2.5.2)[m
[32m+[m[32m    nokogiri (1.10.9-x64-mingw32)[m
[32m+[m[32m      mini_portile2 (~> 2.4.0)[m
[32m+[m[32m    pg (1.2.3-x64-mingw32)[m
[32m+[m[32m    public_suffix (4.0.4)[m
[32m+[m[32m    puma (3.12.4)[m
[32m+[m[32m    rack (2.2.2)[m
[32m+[m[32m    rack-test (1.1.0)[m
[32m+[m[32m      rack (>= 1.0, < 3)[m
[32m+[m[32m    rails (5.2.4.2)[m
[32m+[m[32m      actioncable (= 5.2.4.2)[m
[32m+[m[32m      actionmailer (= 5.2.4.2)[m
[32m+[m[32m      actionpack (= 5.2.4.2)[m
[32m+[m[32m      actionview (= 5.2.4.2)[m
[32m+[m[32m      activejob (= 5.2.4.2)[m
[32m+[m[32m      activemodel (= 5.2.4.2)[m
[32m+[m[32m      activerecord (= 5.2.4.2)[m
[32m+[m[32m      activestorage (= 5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m      bundler (>= 1.3.0)[m
[32m+[m[32m      railties (= 5.2.4.2)[m
[32m+[m[32m      sprockets-rails (>= 2.0.0)[m
[32m+[m[32m    rails-dom-testing (2.0.3)[m
[32m+[m[32m      activesupport (>= 4.2.0)[m
[32m+[m[32m      nokogiri (>= 1.6)[m
[32m+[m[32m    rails-html-sanitizer (1.3.0)[m
[32m+[m[32m      loofah (~> 2.3)[m
[32m+[m[32m    railties (5.2.4.2)[m
[32m+[m[32m      actionpack (= 5.2.4.2)[m
[32m+[m[32m      activesupport (= 5.2.4.2)[m
[32m+[m[32m      method_source[m
[32m+[m[32m      rake (>= 0.8.7)[m
[32m+[m[32m      thor (>= 0.19.0, < 2.0)[m
[32m+[m[32m    rake (13.0.1)[m
[32m+[m[32m    rb-fsevent (0.10.3)[m
[32m+[m[32m    rb-inotify (0.10.1)[m
[32m+[m[32m      ffi (~> 1.0)[m
[32m+[m[32m    regexp_parser (1.7.0)[m
[32m+[m[32m    rubyzip (2.3.0)[m
[32m+[m[32m    sass (3.7.4)[m
[32m+[m[32m      sass-listen (~> 4.0.0)[m
[32m+[m[32m    sass-listen (4.0.0)[m
[32m+[m[32m      rb-fsevent (~> 0.9, >= 0.9.4)[m
[32m+[m[32m      rb-inotify (~> 0.9, >= 0.9.7)[m
[32m+[m[32m    sass-rails (5.1.0)[m
[32m+[m[32m      railties (>= 5.2.0)[m
[32m+[m[32m      sass (~> 3.1)[m
[32m+[m[32m      sprockets (>= 2.8, < 4.0)[m
[32m+[m[32m      sprockets-rails (>= 2.0, < 4.0)[m
[32m+[m[32m      tilt (>= 1.1, < 3)[m
[32m+[m[32m    selenium-webdriver (3.142.7)[m
[32m+[m[32m      childprocess (>= 0.5, < 4.0)[m
[32m+[m[32m      rubyzip (>= 1.2.2)[m
[32m+[m[32m    sprockets (3.7.2)[m
[32m+[m[32m      concurrent-ruby (~> 1.0)[m
[32m+[m[32m      rack (> 1, < 3)[m
[32m+[m[32m    sprockets-rails (3.2.1)[m
[32m+[m[32m      actionpack (>= 4.0)[m
[32m+[m[32m      activesupport (>= 4.0)[m
[32m+[m[32m      sprockets (>= 3.0.0)[m
[32m+[m[32m    sqlite3 (1.4.2)[m
[32m+[m[32m    thor (1.0.1)[m
[32m+[m[32m    thread_safe (0.3.6)[m
[32m+[m[32m    tilt (2.0.10)[m
[32m+[m[32m    turbolinks (5.2.1)[m
[32m+[m[32m      turbolinks-source (~> 5.2)[m
[32m+[m[32m    turbolinks-source (5.2.0)[m
[32m+[m[32m    tzinfo (1.2.7)[m
[32m+[m[32m      thread_safe (~> 0.1)[m
[32m+[m[32m    tzinfo-data (1.2020.1)[m
[32m+[m[32m      tzinfo (>= 1.0.0)[m
[32m+[m[32m    uglifier (4.2.0)[m
[32m+[m[32m      execjs (>= 0.3.0, < 3)[m
[32m+[m[32m    web-console (3.7.0)[m
[32m+[m[32m      actionview (>= 5.0)[m
[32m+[m[32m      activemodel (>= 5.0)[m
[32m+[m[32m      bindex (>= 0.4.0)[m
[32m+[m[32m      railties (>= 5.0)[m
[32m+[m[32m    websocket-driver (0.7.1)[m
[32m+[m[32m      websocket-extensions (>= 0.1.0)[m
[32m+[m[32m    websocket-extensions (0.1.4)[m
[32m+[m[32m    xpath (3.2.0)[m
[32m+[m[32m      nokogiri (~> 1.8)[m
[32m+[m
[32m+[m[32mPLATFORMS[m
[32m+[m[32m  x64-mingw32[m
[32m+[m
[32m+[m[32mDEPENDENCIES[m
[32m+[m[32m  bootsnap (>= 1.1.0)[m
[32m+[m[32m  byebug[m
[32m+[m[32m  capybara (>= 2.15)[m
[32m+[m[32m  chromedriver-helper[m
[32m+[m[32m  coffee-rails (~> 4.2)[m
[32m+[m[32m  duktape[m
[32m+[m[32m  jbuilder (~> 2.5)[m
[32m+[m[32m  jquery-rails[m
[32m+[m[32m  pg[m
[32m+[m[32m  puma (~> 3.11)[m
[32m+[m[32m  rails (~> 5.2.4, >= 5.2.4.2)[m
[32m+[m[32m  sass-rails (~> 5.0)[m
[32m+[m[32m  selenium-webdriver[m
[32m+[m[32m  sqlite3[m
[32m+[m[32m  turbolinks (~> 5)[m
[32m+[m[32m  tzinfo-data[m
[32m+[m[32m  uglifier (>= 1.3.0)[m
[32m+[m[32m  web-console (>= 3.3.0)[m
[32m+[m
[32m+[m[32mRUBY VERSION[m
[32m+[m[32m   ruby 2.6.6p146[m
[32m+[m
[32m+[m[32mBUNDLED WITH[m
[32m+[m[32m   1.17.2[m
[1mdiff --git a/README.md b/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..868a1da[m
[1m--- /dev/null[m
[1m+++ b/README.md[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32m# README[m
[32m+[m
[32m+[m[32mThis README would normally document whatever steps are necessary to get the[m
[32m+[m[32mapplication up and running.[m
[32m+[m
[32m+[m[32mThings you may want to cover:[m
[32m+[m
[32m+[m[32m* Ruby version[m
[32m+[m
[32m+[m[32m* System dependencies[m
[32m+[m
[32m+[m[32m* Configuration[m
[32m+[m
[32m+[m[32m* Database creation[m
[32m+[m
[32m+[m[32m* Database initialization[m
[32m+[m
[32m+[m[32m* How to run the test suite[m
[32m+[m
[32m+[m[32m* Services (job queues, cache servers, search engines, etc.)[m
[32m+[m
[32m+[m[32m* Deployment instructions[m
[32m+[m
[32m+[m[32m* ...[m
[32m+[m[32m"# sub_app"[m[41m [m
[32m+[m[32m"# sub_app"[m[41m [m
[32m+[m[32m# sub_app[m
[32m+[m[32m# sub_app[m
[32m+[m[32m# sub_app[m
[32m+[m[32m# sub_app[m
[32m+[m[32m# sub_app[m
[32m+[m[32m# sub_app[m
[32m+[m[32m# sub_app[m
[1mdiff --git a/Rakefile b/Rakefile[m
[1mnew file mode 100644[m
[1mindex 0000000..e85f913[m
[1m--- /dev/null[m
[1m+++ b/Rakefile[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m# Add your own tasks in files placed in lib/tasks ending in .rake,[m
[32m+[m[32m# for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.[m
[32m+[m
[32m+[m[32mrequire_relative 'config/application'[m
[32m+[m
[32m+[m[32mRails.application.load_tasks[m
[1mdiff --git a/app/assets/config/manifest.js b/app/assets/config/manifest.js[m
[1mnew file mode 100644[m
[1mindex 0000000..b16e53d[m
[1m--- /dev/null[m
[1m+++ b/app/assets/config/manifest.js[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m//= link_tree ../images[m
[32m+[m[32m//= link_directory ../javascripts .js[m
[32m+[m[32m//= link_directory ../stylesheets .css[m
[1mdiff --git a/app/assets/fonts/dejima-mincho-r227.ttf b/app/assets/fonts/dejima-mincho-r227.ttf[m
[1mnew file mode 100644[m
[1mindex 0000000..b3259bd[m
Binary files /dev/null and b/app/assets/fonts/dejima-mincho-r227.ttf differ
[1mdiff --git a/app/assets/images/.keep b/app/assets/images/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/app/assets/javascripts/application.js b/app/assets/javascripts/application.js[m
[1mnew file mode 100644[m
[1mindex 0000000..51e35d4[m
[1m--- /dev/null[m
[1m+++ b/app/assets/javascripts/application.js[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32m// This is a manifest file that'll be compiled into application.js, which will include all the files[m
[32m+[m[32m// listed below.[m
[32m+[m[32m//[m
[32m+[m[32m// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, or any plugin's[m
[32m+[m[32m// vendor/assets/javascripts directory can be referenced here using a relative path.[m
[32m+[m[32m//[m
[32m+[m[32m// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the[m
[32m+[m[32m// compiled file. JavaScript code in this file should be added after the last require_* statement.[m
[32m+[m[32m//[m
[32m+[m[32m// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details[m
[32m+[m[32m// about supported directives.[m
[32m+[m[32m//[m
[32m+[m[32m//= require rails-ujs[m
[32m+[m[32m//= require activestorage[m
[32m+[m[32m//= require turbolinks[m
[32m+[m[32m//= require_tree .[m
[32m+[m
[32m+[m[32m//= require jquery[m
[32m+[m[32m//= require jquery_ujs[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/javascripts/cable.js b/app/assets/javascripts/cable.js[m
[1mnew file mode 100644[m
[1mindex 0000000..739aa5f[m
[1m--- /dev/null[m
[1m+++ b/app/assets/javascripts/cable.js[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m// Action Cable provides the framework to deal with WebSockets in Rails.[m
[32m+[m[32m// You can generate new channels where WebSocket features live using the `rails generate channel` command.[m
[32m+[m[32m//[m
[32m+[m[32m//= require action_cable[m
[32m+[m[32m//= require_self[m
[32m+[m[32m//= require_tree ./channels[m
[32m+[m
[32m+[m[32m(function() {[m
[32m+[m[32m  this.App || (this.App = {});[m
[32m+[m
[32m+[m[32m  App.cable = ActionCable.createConsumer();[m
[32m+[m
[32m+[m[32m}).call(this);[m
[1mdiff --git a/app/assets/javascripts/channels/.keep b/app/assets/javascripts/channels/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/app/assets/javascripts/drafts.coffee b/app/assets/javascripts/drafts.coffee[m
[1mnew file mode 100644[m
[1mindex 0000000..24f83d1[m
[1m--- /dev/null[m
[1m+++ b/app/assets/javascripts/drafts.coffee[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m# Place all the behaviors and hooks related to the matching controller here.[m
[32m+[m[32m# All this logic will automatically be available in application.js.[m
[32m+[m[32m# You can use CoffeeScript in this file: http://coffeescript.org/[m
[1mdiff --git a/app/assets/javascripts/home.coffee b/app/assets/javascripts/home.coffee[m
[1mnew file mode 100644[m
[1mindex 0000000..24f83d1[m
[1m--- /dev/null[m
[1m+++ b/app/assets/javascripts/home.coffee[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m# Place all the behaviors and hooks related to the matching controller here.[m
[32m+[m[32m# All this logic will automatically be available in application.js.[m
[32m+[m[32m# You can use CoffeeScript in this file: http://coffeescript.org/[m
[1mdiff --git a/app/assets/javascripts/rooms.coffee b/app/assets/javascripts/rooms.coffee[m
[1mnew file mode 100644[m
[1mindex 0000000..4e4ef07[m
[1m--- /dev/null[m
[1m+++ b/app/assets/javascripts/rooms.coffee[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m# Place all the behaviors and hooks related to the matching controller here.[m
[32m+[m[32m# All this logic will automatically be available in application.js.[m
[32m+[m[32m# You can use CoffeeScript in this file: http://coffeescript.org/[m
[32m+[m
[32m+[m
[32m+[m
[1mdiff --git a/app/assets/javascripts/users.coffee b/app/assets/javascripts/users.coffee[m
[1mnew file mode 100644[m
[1mindex 0000000..24f83d1[m
[1m--- /dev/null[m
[1m+++ b/app/assets/javascripts/users.coffee[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m# Place all the behaviors and hooks related to the matching controller here.[m
[32m+[m[32m# All this logic will automatically be available in application.js.[m
[32m+[m[32m# You can use CoffeeScript in this file: http://coffeescript.org/[m
[1mdiff --git a/app/assets/stylesheets/application.css b/app/assets/stylesheets/application.css[m
[1mnew file mode 100644[m
[1mindex 0000000..4bd8bb1[m
[1m--- /dev/null[m
[1m+++ b/app/assets/stylesheets/application.css[m
[36m@@ -0,0 +1,102 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * This is a manifest file that'll be compiled into application.css, which will include all the files[m
[32m+[m[32m * listed below.[m
[32m+[m[32m *[m
[32m+[m[32m * Any CSS and SCSS file within this directory, lib/assets/stylesheets, or any plugin's[m
[32m+[m[32m * vendor/assets/stylesheets directory can be referenced here using a relative path.[m
[32m+[m[32m *[m
[32m+[m[32m * You're free to add application-wide styles to this file and they'll appear at the bottom of the[m
[32m+[m[32m * compiled file so the styles you add here take precedence over styles defined in any other CSS/SCSS[m
[32m+[m[32m * files in this directory. Styles in this file should be added after the last require_* statement.[m
[32m+[m[32m * It is generally better to create a new file per style scope.[m
[32m+[m[32m *[m
[32m+[m[32m *= require_tree .[m
[32m+[m[32m *= require_self[m
[32m+[m[32m */[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32mbody{[m
[32m+[m[32m color: #333;[m
[32m+[m[32m font-family: Verdana, sans-serif;[m
[32m+[m[32m margin: 0;[m
[32m+[m[32m padding: 0;[m
[32m+[m[32m list-style: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32ma{[m
[32m+[m[32m  text-decoration: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.content{[m
[32m+[m[32m  position: relative;[m
[32m+[m[32m  z-index: 0;[m
[32m+[m[32m  height: 100%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.background{[m
[32m+[m[32m  background-color: #dddddd;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  height: 100%;[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  z-index: -100;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32mfooter{[m
[32m+[m[32m  background-color: aquamarine;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  height: 100px;[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  bottom: 0%;[m
[32m+[m[32m  z-index: -20;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh1,[m
[32m+[m[32mh2,[m
[32m+[m[32mh3,[m
[32m+[m[32mh4{[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m --------------------------------------PC-------------------------------------- */[m
[32m+[m[32m/* --------------------------------------PC-------------------------------------- */[m
[32m+[m[32m/* --------------------------------------PC-------------------------------------- */[m
[32m+[m
[32m+[m
[32m+[m[32m@media (min-width: 420px) {[m
[32m+[m[41m  [m
[32m+[m[32m  body .body .content,[m
[32m+[m[32m  body .body .background{[m
[32m+[m[32m    width: 420px;[m
[32m+[m[32m    height: 700px;[m
[32m+[m[32m    margin: 0 calc(50% - 210px);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  footer{[m
[32m+[m[32m    background-color: aquamarine;[m
[32m+[m[32m    width: 420px;[m
[32m+[m[32m    margin: 0 calc(50% - 210px);[m
[32m+[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    z-index: -20;[m
[32m+[m[32m    top:700px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .content{[m
[32m+[m[32m    top:50px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@media (min-height: 750px) {[m
[32m+[m[41m  [m
[32m+[m[32m  .content{[m
[32m+[m[32m    top:50px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/assets/stylesheets/drafts.scss b/app/assets/stylesheets/drafts.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..603d652[m
[1m--- /dev/null[m
[1m+++ b/app/assets/stylesheets/drafts.scss[m
[36m@@ -0,0 +1,226 @@[m
[32m+[m[32m// Place all the styles related to the drafts controller here.[m
[32m+[m[32m// They will automatically be included in application.css.[m
[32m+[m[32m// You can use Sass (SCSS) here: http://sass-lang.com/[m
[32m+[m
[32m+[m[32m@font-face{[m
[32m+[m[32m  font-family: 'dejima';[m
[32m+[m[32m  src: font-url('dejima-mincho-r227.ttf') format('truetype');[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.preparation{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m
[32m+[m[32m.preparation-one{[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  padding-top: 50px;[m
[32m+[m[32m  margin-bottom: 20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.preparation-user{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  width: 340px;[m
[32m+[m[32m  height: 60px;[m
[32m+[m[32m  line-height: 60px;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.preparation-name{[m
[32m+[m[32m  width: 180px;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m  margin-left: 5px ;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.preparation-member-one,[m
[32m+[m[32m.preparation-member-two,[m
[32m+[m[32m.preparation-member-three,[m
[32m+[m[32m.preparation-member-four{[m
[32m+[m[32m  font-size: 26px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  text-align: left;[m
[32m+[m[32m  margin-right:5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.preparation-start{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 30px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  padding: 0px 10px;[m
[32m+[m
[32m+[m[32m  height: 50px;[m
[32m+[m[32m  line-height: 50px;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  border: double 5px #947d17;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.lottery{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m
[32m+[m[32m  display: none;[m
[32m+[m[41m  [m
[32m+[m[32m.lottery-one{[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  padding-top: 50px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.lottery-member{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 30px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  padding: 0px 10px;[m
[32m+[m
[32m+[m[32m  width: 180px;[m
[32m+[m[32m  height: 50px;[m
[32m+[m[32m  line-height: 50px;[m
[32m+[m[32m  margin: 0px auto 20px;[m
[32m+[m[32m  border: double 5px #947d17;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.lottery-paper{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  width: 240px;[m
[32m+[m[32m  height: 300px;[m
[32m+[m[32m  margin: auto;[m
[32m+[m[32m  border: solid 2px #333333;[m
[32m+[m
[32m+[m[32m  .lottery-paper-logos{[m
[32m+[m[32m    display: flex;[m
[32m+[m[32m    flex-direction: column;[m
[32m+[m[32m    justify-content: center;[m
[32m+[m[32m  }[m
[32m+[m[32m  .lottery-paper-logo{[m
[32m+[m[32m    width:70%;[m
[32m+[m[32m    margin: 40px auto 0;[m
[32m+[m[32m  }[m
[32m+[m[32m  .lottery-paper-name{[m
[32m+[m[32m    font-size: 34px;[m
[32m+[m[32m    text-align: right;[m
[32m+[m[32m    margin-right: 35px;[m
[32m+[m[32m    font-family: 'dejima';[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.lottery-result{[m
[32m+[m[32m  font-size: 80px;[m
[32m+[m[32m  line-height: 300px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  font-family:serif;[m
[32m+[m
[32m+[m[32m  display: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m.lottery-watching{[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  justify-content: center;[m
[32m+[m
[32m+[m[32m  .lottery-paper{[m
[32m+[m[32m    width: 110px;[m
[32m+[m[32m    height: 180px;[m
[32m+[m[32m    margin: 20px 5px ;[m
[32m+[m[32m    position: relative;[m
[32m+[m[32m  }[m
[32m+[m[41m    [m
[32m+[m[32m  .lottery-paper-logos{[m
[32m+[m[32m    display: flex;[m
[32m+[m[32m    flex-direction: column;[m
[32m+[m[32m    justify-content: center;[m
[32m+[m[32m  }[m
[32m+[m[32m  .lottery-watching-logo{[m
[32m+[m[32m    width:70%;[m
[32m+[m[32m    margin: 40px auto 0;[m
[32m+[m[32m  }[m
[32m+[m[32m  .lottery-watching-name{[m
[32m+[m[32m    font-size: 16px;[m
[32m+[m[32m    text-align: right;[m
[32m+[m[32m    margin-right: 15px;[m
[32m+[m[32m    font-family: 'dejima';[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .lottery-result-name{[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    top: 2px;[m
[32m+[m[32m    left: 5px;[m
[32m+[m
[32m+[m[32m    display: none;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .lottery-result{[m
[32m+[m[32m    font-size: 40px;[m
[32m+[m[32m    line-height: 180px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.lottery-turn{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  width: 180px;[m
[32m+[m[32m  padding: 0px 10px;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  border: solid 3px #999999;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.rotationY{[m
[32m+[m[32m  animation: 2s linear rotationY;[m
[32m+[m[32m}[m
[32m+[m[41m  [m
[32m+[m[32m@keyframes rotationY{[m
[32m+[m[32m  0%{ transform:rotateY(0);}[m
[32m+[m[32m  100%{ transform:rotateY(180deg);}[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.rotationY2{[m
[32m+[m[32manimation: 1s linear rotationY2;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@keyframes rotationY2{[m
[32m+[m[32m  0%{transform:rotateY(90deg);}[m
[32m+[m[32m  100%{transform:rotateY(180deg);}[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.lottery-link{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  width: 180px;[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  padding: 0px 10px;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  border: solid 3px #999999;[m
[32m+[m
[32m+[m[32m  display: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[1mdiff --git a/app/assets/stylesheets/home.scss b/app/assets/stylesheets/home.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..bbb21ff[m
[1m--- /dev/null[m
[1m+++ b/app/assets/stylesheets/home.scss[m
[36m@@ -0,0 +1,198 @@[m
[32m+[m[32m// Place all the styles related to the home controller here.[m
[32m+[m[32m// They will automatically be included in application.css.[m
[32m+[m[32m// You can use Sass (SCSS) here: http://sass-lang.com/[m
[32m+[m
[32m+[m
[32m+[m[32m/* --------------------------------------top-------------------------------------- */[m
[32m+[m[32m/* --------------------------------------top-------------------------------------- */[m
[32m+[m[32m/* --------------------------------------top-------------------------------------- */[m
[32m+[m
[32m+[m
[32m+[m[32m.top{[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.logo{[m
[32m+[m[32m  width:90%;[m
[32m+[m[32m  margin: 30px 5% -10px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.create,[m
[32m+[m[32m.enter{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  color: #333;[m
[32m+[m[32m  font-size: 40px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  height: 60px;[m
[32m+[m[32m  line-height: 60px;[m
[32m+[m[32m  width: 240px;[m
[32m+[m[32m  margin: 0px auto  20px;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  border: double 10px #947d17;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m/* --------------------------------------top-------------------------------------- */[m
[32m+[m
[32m+[m[32m/* --------------------------------------create-------------------------------------- */[m
[32m+[m
[32m+[m[32m.black{[m
[32m+[m[32m  filter: brightness(50%);[m
[32m+[m[32m  pointer-events: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.create-form{[m
[32m+[m[32m  width: 90%;[m
[32m+[m[32m  height: 360px;[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  border-radius: 40px;[m
[32m+[m[32m  box-sizing:  border-box;[m
[32m+[m[32m  border: double 10px #333 ;[m
[32m+[m[41m  [m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[41m  [m
[32m+[m[32m  margin: 0 5%;[m[41m  [m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  z-index: 10;[m
[32m+[m[32m  top: 120px;[m
[32m+[m
[32m+[m[32m  display: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m.cross{[m
[32m+[m[32m  color: red;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m  font-size: 2.5em;[m
[32m+[m[32m  margin: 5px 12px 0 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.rule{[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mh1{[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.form{[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction:column;[m
[32m+[m[32m  justify-content:space-between;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.players,[m
[32m+[m[32m.members{[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  justify-content:space-between;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.players p,[m
[32m+[m[32m.members p{[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m  height: 20px;[m
[32m+[m[32m  line-height: 70px;[m
[32m+[m[32m  margin: 0 20px 0 auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.player,[m
[32m+[m[32m.member{[m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  width: 60px;[m
[32m+[m[32m  height: 50px;[m
[32m+[m[32m  margin: 10px 20% 10px 0px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.submit{[m
[32m+[m[32mbackground-color: white;[m
[32m+[m[32mfont-size: 44px;[m
[32m+[m[32mfont-weight: 900;[m
[32m+[m[32mheight: 60px;[m
[32m+[m[32mline-height: 44px;[m
[32m+[m[32mwidth: 120px;[m
[32m+[m[32mmargin: 10px auto;[m
[32m+[m[32mborder: double 5px #947d17 ;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m/* --------------------------------------create-------------------------------------- */[m
[32m+[m
[32m+[m[32m/* --------------------------------------enter-------------------------------------- */[m
[32m+[m
[32m+[m[32m.enter-form{[m
[32m+[m[32m  width: 90%;[m
[32m+[m[32m  height: 340px;[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  border-radius: 40px;[m
[32m+[m[32m  box-sizing:  border-box;[m
[32m+[m[32m  border: double 10px #333 ;[m
[32m+[m[41m  [m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[41m  [m
[32m+[m[32m  margin: 0 5%;[m[41m  [m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  z-index: 10;[m
[32m+[m[32m  top: 120px;[m
[32m+[m
[32m+[m[32m  display: none;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.room-enter{[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.enter-input1{[m
[32m+[m[32m  font-size: 28px;[m
[32m+[m[32m  height: 40px;[m
[32m+[m[32m  line-height: 40px;[m
[32m+[m
[32m+[m[32m  margin: 10px auto 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.enter-input2{[m
[32m+[m[32m  font-size: 40px;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  height: 50px;[m
[32m+[m[32m  width: 160px;[m
[32m+[m[32m  margin: auto 50px 10px;[m
[32m+[m[32m  border: solid 5px #333 ;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/* --------------------------------------enter-------------------------------------- */[m
[32m+[m
[32m+[m[32m.flash{[m
[32m+[m[32m  background-color: red;[m
[32m+[m[32m  color: white;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  margin: auto;[m
[32m+[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  z-index: 5;[m
[32m+[m[32m  top: 20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m/*[m
[32m+[m[32m --------------------------------------PC-------------------------------------- */[m
[32m+[m[32m/* --------------------------------------PC-------------------------------------- */[m
[32m+[m[32m/* --------------------------------------PC-------------------------------------- */[m
[32m+[m
[32m+[m
[32m+[m
[1mdiff --git a/app/assets/stylesheets/rooms.scss b/app/assets/stylesheets/rooms.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..d93c59d[m
[1m--- /dev/null[m
[1m+++ b/app/assets/stylesheets/rooms.scss[m
[36m@@ -0,0 +1,768 @@[m
[32m+[m[32m// Place all the styles related to the rooms controller here.[m
[32m+[m[32m// They will automatically be included in application.css.[m
[32m+[m[32m// You can use Sass (SCSS) here: http://sass-lang.com/[m
[32m+[m
[32m+[m
[32m+[m[32m@font-face{[m
[32m+[m[32m  font-family: 'dejima';[m
[32m+[m[32m  src: font-url('dejima-mincho-r227.ttf') format('truetype');[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.matching{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m
[32m+[m
[32m+[m[32m.matching-two{[m
[32m+[m[32m  font-size: 28px;[m
[32m+[m[32m  padding-top: 40px;[m
[32m+[m[32m  padding-bottom: 0px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.matching{[m
[32m+[m[32m  font-size: 48px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  width: 240px;[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  border: solid 5px #333333 ;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m  margin: auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.matching-three{[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  margin-top: 10px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.room-rule{[m
[32m+[m[32m  font-size: 16px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.matching-four{[m
[32m+[m[32m  margin: 20px auto 5px;[m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.rotation{[m
[32m+[m[32mwidth: 20%;[m
[32m+[m[32mheight: 20%;[m
[32m+[m[32mpadding: 0px;[m
[32m+[m[32mposition: relative;[m
[32m+[m[32mmargin: 10px auto;[m
[32m+[m[32mmargin-right: 45%;[m
[32m+[m[32manimation: 3s linear infinite rotation1;[m
[32m+[m[32mtransform-origin: 50px 50px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m@keyframes rotation1{[m
[32m+[m[32m  0%{ transform:rotate(0);}[m
[32m+[m[32m  25%{ transform:rotate(360deg); }[m
[32m+[m[32m  50%{ transform:rotate(360deg); }[m
[32m+[m[32m  75%{ transform:rotate(720deg); }[m
[32m+[m[32m  100%{ transform:rotate(720deg); }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.now-member{[m
[32m+[m[32m  font-size: 48px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  margin-top: 10px;[m
[32m+[m[32m  padding-right: 60px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.number-of-members{[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  margin-top: -55px;[m
[32m+[m[32m  margin-left: 100px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.cancel{[m
[32m+[m[32m  color: #D71D3B;[m
[32m+[m[32m  background-color: #fefefe;[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  width: 140px;[m
[32m+[m[32m  height: 28px;[m
[32m+[m[32m  line-height: 28px;[m
[32m+[m[32m  border: solid 3px #333333;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m  margin: 5px 60% 0 10px;[m
[32m+[m[32m  margin-right: 50%;[m
[32m+[m
[32m+[m[32m}[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m// ----------------------------------------------------------------------[m
[32m+[m
[32m+[m
[32m+[m[32m.group{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  position: relative;[m
[32m+[m
[32m+[m[32m  .group-one{[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    padding-top: 50px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .group-two{[m
[32m+[m[32m    font-size: 24px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .name-form{[m
[32m+[m[32m    margin: auto;[m
[32m+[m[32m    margin-bottom: 10px;[m
[32m+[m[32m    display: flex;[m
[32m+[m[32m    flex-direction:row;[m
[32m+[m[32m    margin-left: 80px;[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .name-input{[m
[32m+[m[32m    font-size: 30px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    width: 120px;[m
[32m+[m[32m    height: 36px;[m
[32m+[m[32m    line-height: 42px;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m    border: solid 3px #333333;[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .group-three{[m
[32m+[m[32m    font-size: 30px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    line-height: 42px;[m
[32m+[m[32m    margin-left: 5px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .color-input{[m
[32m+[m[32m    width: 100px;[m
[32m+[m[32m    height: 100px;[m
[32m+[m[32m    margin: auto;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .group-logos{[m
[32m+[m[32m    display:grid;[m
[32m+[m[32m    grid-template-columns: 19% 19% 19% 19% 19%;[m
[32m+[m[32m    margin-bottom: 40px;[m
[32m+[m[32m    margin: 10px;[m
[32m+[m[32m    justify-content: space-between;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .group-logo{[m
[32m+[m[32m    width: 80%;[m
[32m+[m[32m    padding: 5%;[m
[32m+[m[32m    margin: 2px auto;[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    border-radius: 5px;[m[41m    [m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .group-logo-size{[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .group-logo-nonselect{[m
[32m+[m[32m    border: solid 3px #888888;[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .group-logo-select{[m
[32m+[m[32m    border: solid 3px #D71D3B;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .group-submit{[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    font-size: 40px;[m
[32m+[m[32m    font-weight: 900;[m
[32m+[m[32m    height: 50px;[m
[32m+[m[32m    line-height: 50px;[m
[32m+[m[32m    width: 120px;[m
[32m+[m[32m    margin: 20px auto;[m
[32m+[m[32m    border: double 5px #947d17;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.color-input{[m
[32m+[m[32m  visibility:hidden;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.group-confirm{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  top: 25px;[m
[32m+[m[32m  z-index: 10;[m
[32m+[m
[32m+[m[32m  background-color: #dddddd;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  padding: 20px 0 10px;[m
[32m+[m[41m  [m
[32m+[m[32m  display: none;[m
[32m+[m
[32m+[m[32m.group-confirm-logo{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  width: 80%;[m
[32m+[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  border: solid 5px #333333;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.group-confirm-triangle{[m
[32m+[m[32m  width: 80%;[m
[32m+[m[32m  margin: auto;[m
[32m+[m[32m  margin-top: 20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.group-confirm-name{[m
[32m+[m[32m  font-size: 54px;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m  margin-bottom: 10px;[m
[32m+[m[32m  margin-right: 30px;[m
[32m+[m
[32m+[m[32m  font-family: 'dejima';[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.group-confirm-select{[m
[32m+[m[32m  margin: 0px auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  justify-content: space-between;[m
[32m+[m[32m  margin: 0 40px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.group-confirm-ok,[m
[32m+[m[32m.group-confirm-cancel{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 22px;[m
[32m+[m[32m  width: 120px;[m
[32m+[m[32m  height: 40px;[m
[32m+[m[32m  line-height: 40px;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m  margin: 15px auto 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.group-confirm-ok{[m
[32m+[m[32m  font-size: 38px;[m
[32m+[m[32m  height: 44px;[m
[32m+[m[32m  line-height: 40px;[m
[32m+[m
[32m+[m[32m  border: solid 3px #D71D3B;[m
[32m+[m[32m}[m
[32m+[m[32m.group-confirm-cancel{[m
[32m+[m[32m  border: solid 3px #1271B5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.meeting{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m
[32m+[m[32m  .under-construction{[m
[32m+[m[32m    background-color: #f0d214;[m
[32m+[m[32m    width: 75%;[m
[32m+[m[32m    font-size: 34px;[m
[32m+[m
[32m+[m[32m    line-height: 40px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    padding: 0;[m
[32m+[m[32m    margin: 0px auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.meeting-img1{[m
[32m+[m[32m  background-color: #f0d214;[m
[32m+[m
[32m+[m[32m  height: 20px;[m
[32m+[m[32m  width: 75%;[m
[32m+[m[32m  object-position: 50% 60%;[m
[32m+[m[32m  margin: 20px auto 0;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.meeting-img2{[m
[32m+[m[32m  background-color: #f0d214;[m
[32m+[m[32m  height: 20px;[m
[32m+[m[32m  width: 75%;[m
[32m+[m[32m  object-position: 50% 60%;[m
[32m+[m[32m  margin: 0px auto 20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.meeting-nogi,[m
[32m+[m[32m.meeting-keyaki,[m
[32m+[m[32m.meeting-hinata{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  padding: 5px;[m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  margin: 5px auto;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.meeting-nogi{[m
[32m+[m[32m  border: solid 3px #812990;[m
[32m+[m[32m}[m
[32m+[m[32m.meeting-keyaki{[m
[32m+[m[32m  border: solid 3px #5EB954;[m
[32m+[m[32m}[m
[32m+[m[32m.meeting-hinata{[m
[32m+[m[32m  border: solid 3px #7cc8e9;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.meeting-p{[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  margin: 10px auto 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.memo{[m
[32m+[m[32m  width: 90%;[m
[32m+[m[32m  height: 100px;[m
[32m+[m[32m  font-size: 18px;[m
[32m+[m[32m  border: solid 2px #333333;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.meeting-submit{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 36px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  height: 60px;[m
[32m+[m[32m  line-height: 50px;[m
[32m+[m[32m  width: 160px;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  border: double 5px #947d17 ;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.select{[m
[32m+[m[32m  margin: 0px auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  position: relative;[m
[32m+[m[41m  [m
[32m+[m[32m  .select-one{[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    padding-top: 50px;[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .select-member{[m
[32m+[m[32m    font-size: 24px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    margin: 10px auto 0px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .select-members{[m
[32m+[m[32m    width: 220px;[m
[32m+[m[32m    height: 160px;[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    border: double 5px #947d17;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .select-p{[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    margin: 10px auto 5px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .memo{[m
[32m+[m[32m    width: 90%;[m
[32m+[m[32m    height: 100px;[m
[32m+[m[32m    font-size: 18px;[m
[32m+[m[32m    border: solid 2px #333333;[m
[32m+[m[32m    border-radius: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .select-submit{[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    font-size: 44px;[m
[32m+[m[32m    font-weight: 900;[m
[32m+[m[32m    height: 60px;[m
[32m+[m[32m    line-height: 60px;[m
[32m+[m[32m    width: 160px;[m
[32m+[m[32m    margin: 10px auto;[m
[32m+[m[32m    border: double 5px #947d17 ;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.select-confirm{[m
[32m+[m[32m  width: 90%;[m
[32m+[m[32m  height: 360px;[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m  box-sizing:  border-box;[m
[32m+[m[32m  border: double 5px #333 ;[m
[32m+[m[41m  [m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[41m  [m
[32m+[m[32m  margin: 0 5%;[m[41m  [m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  z-index: 10;[m
[32m+[m[32m  top: 120px;[m
[32m+[m
[32m+[m[32m  display: none;[m
[32m+[m[41m  [m
[32m+[m[32m  .select-confirm-one{[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  margin-top: 20px;[m
[32m+[m[32m  margin-bottom: 10px;[m
[32m+[m[32m  padding: 5px 0;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.select-confirm-name,[m
[32m+[m[32m.select-confirm-order{[m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  padding: 0;[m
[32m+[m[32m  text-align: left;[m
[32m+[m[32m  margin-left: 40px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.select-confirm-member{[m
[32m+[m[32m  font-size: 48px;[m
[32m+[m[32m  padding: 5px 0;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  margin: 15px auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.select-confirm-select{[m
[32m+[m[32m  margin: 0px 15px;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  justify-content: space-between;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.select-confirm-cancel,[m
[32m+[m[32m.select-confirm-ok{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[41m  [m
[32m+[m[32m  width: 140px;[m
[32m+[m[32m  height: 42px;[m
[32m+[m[32m  line-height: 42px;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.select-confirm-ok{[m
[32m+[m[32m  font-size: 40px;[m
[32m+[m[32m  height: 48px;[m
[32m+[m[32m  line-height: 44px;[m
[32m+[m[32m  border: solid 3px #D71D3B;[m
[32m+[m[32m}[m
[32m+[m[32m.select-confirm-cancel{[m
[32m+[m[32m  border: solid 3px #1271B5;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.wait{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m
[32m+[m[32m.wait-one{[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  padding-top: 50px;[m
[32m+[m[32m  margin-bottom: 20px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.wait-member{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  font-size: 28px;[m
[32m+[m[32m  width: 340px;[m
[32m+[m[32m  height: 60px;[m
[32m+[m[32m  line-height: 60px;[m
[32m+[m[32m  border: double 5px #947d17;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m  margin: 20px auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.wait-name{[m
[32m+[m[32m  width: 230px;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.wait-select{[m
[32m+[m[32m  color: #D71D3B;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.wait-selectnow{[m
[32m+[m[32m  opacity: 50%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.announcement-space{[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  height: 120px;[m
[32m+[m[32m  line-height: 180px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-start{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  height: 300px;[m
[32m+[m[32m  position: relative;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m.announcement-start-p{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 48px;[m
[32m+[m[32m  font-weight: 900;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  height: 60px;[m
[32m+[m[32m  line-height: 60px;[m
[32m+[m[32m  width: 200px;[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  margin: 125px calc(50% - 105px);[m
[32m+[m[32m  border: double 5px #947d17;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-background{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  width: 100%;[m
[32m+[m[32m  height: 300px;[m
[32m+[m[32m  position: relative;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-one,[m
[32m+[m[32m.announcement-two,[m
[32m+[m[32m.announcement-three,[m
[32m+[m[32m.announcement-four,[m
[32m+[m[32m.announcement-five,[m
[32m+[m[32m.announcement-six,[m
[32m+[m[32m.announcement-seven,[m
[32m+[m[32m.announcement-eight,[m
[32m+[m[32m.announcement-number{[m
[32m+[m[32m  display: none;[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  top: 120px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m.announcement-logo{[m
[32m+[m[32m  width: 50%;[m
[32m+[m[32m  margin: 30px 0px 0px 100px ;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-name{[m
[32m+[m[32m  font-size: 40px;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m  padding: 0px;[m[41m [m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m  margin-right: 85px;[m
[32m+[m
[32m+[m[32m  font-family: 'dejima';[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-group-small{[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-logo-small{[m
[32m+[m[32m  width: 10%;[m
[32m+[m[32m  height: 10%;[m
[32m+[m[32m  margin: 5px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-name-small{[m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  margin: 5px;[m
[32m+[m[32m  margin-left: 0px;[m
[32m+[m[32m  line-height: 40px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-member{[m
[32m+[m[32m  font-size: 50px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  margin: 60px 0px 0px 10%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-name-team{[m
[32m+[m[32m  font-size: 30px;[m
[32m+[m[32m  margin: 0px;[m
[32m+[m[32m  margin-left: 10%;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.announcement-skip{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 20px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  text-align: center;[m
[32m+[m[32m  padding: 3px 10px;[m
[32m+[m[32m  top: 460px;[m
[32m+[m[32m  right: 40px;[m
[32m+[m[32m  position: absolute;[m
[32m+[m[32m  z-index: 10;[m
[32m+[m[32m  border-radius: 10px;[m
[32m+[m[32m  border: solid 3px #999999;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m[32m.result{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m
[32m+[m[32m.result-one{[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  padding-top: 50px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.result-user{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: row;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m[32m  font-size: 24px;[m
[32m+[m[32m  width: 340px;[m
[32m+[m[32m  height: 60px;[m
[32m+[m[32m  line-height: 60px;[m
[32m+[m[32m  border: double 5px #947d17;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m  margin: 15px auto;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.result-name{[m
[32m+[m[32m  width: 190px;[m
[32m+[m[32m  text-align: right;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.result-member{[m
[32m+[m[32m  font-size: 26px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m[32m  text-align: left;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.result-chapter,[m
[32m+[m[32m.result-formation{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: bold;[m
[32m+[m
[32m+[m[32m  height: 50px;[m
[32m+[m[32m  line-height: 50px;[m
[32m+[m[32m  padding: 0px 10px;[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  border-radius: 5px;[m
[32m+[m[32m  border: solid 3px #999999;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.result-formation{[m
[32m+[m[32m  font-size: 28px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[32m+[m
[32m+[m[32m.chapter{[m
[32m+[m[32m  margin: 0 auto;[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-direction: column;[m
[32m+[m[32m  text-align: center;[m[41m [m
[32m+[m
[32m+[m[32m  .chapter-one{[m
[32m+[m[32m    font-size: 32px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m    padding-top: 20px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .chapter-users{[m
[32m+[m[32m    display: flex;[m
[32m+[m[32m    flex-direction: row;[m
[32m+[m[32m    align-items: center;[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  .chapter-user{[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    margin: auto;[m
[32m+[m[32m    width: 24%;[m
[32m+[m[32m    border-radius: 5px;[m
[32m+[m[32m    box-sizing: border-box;[m
[32m+[m[32m    border: solid 2px #333333;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .chapter-name{[m
[32m+[m[32m    font-size: 12px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .chapter-member{[m
[32m+[m[32m    font-size: 12px;[m
[32m+[m[32m    font-weight: bold;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .chapter-p{[m
[32m+[m[32m    font-size: 20px;[m
[32m+[m[32m    margin: 10px auto 5px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .memo{[m
[32m+[m[32m    width: 90%;[m
[32m+[m[32m    height: 160px;[m
[32m+[m[32m    font-size: 18px;[m
[32m+[m[32m    border: solid 2px #333333;[m
[32m+[m[32m    border-radius: 10px;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m.chapter-submit{[m
[32m+[m[32m  background-color: white;[m
[32m+[m[32m  font-size: 32px;[m
[32m+[m[32m  font-weight: 900;[m
[32m+[m[32m  height: 50px;[m
[32m+[m[32m  line-height: 40px;[m
[32m+[m[32m  width: 220px;[m
[32m+[m[32m  margin: 10px auto;[m
[32m+[m[32m  border: double 5px #947d17 ;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[32m+[m
[32m+[m
[32m+[m[32m//----------------------------------------------------------------------[m
[32m+[m
[1mdiff --git a/app/assets/stylesheets/users.scss b/app/assets/stylesheets/users.scss[m
[1mnew file mode 100644[m
[1mindex 0000000..fe3059b[m
[1m--- /dev/null[m
[1m+++ b/app/assets/stylesheets/users.scss[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m// Place all the styles related to the users controller here.[m
[32m+[m[32m// They will automatically be included in application.css.[m
[32m+[m[32m// You can use Sass (SCSS) here: http://sass-lang.com/[m
[32m+[m
[32m+[m[32m// .page{[m
[32m+[m[32m//   color: #333;[m
[32m+[m[32m//   font-family: Verdana, sans-serif;[m
[32m+[m[32m//   list-style: none;[m
[32m+[m[32m//   margin: 0;[m
[32m+[m[32m//   padding: 0;[m
[32m+[m[32m// }[m
[1mdiff --git a/app/channels/application_cable/channel.rb b/app/channels/application_cable/channel.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..d672697[m
[1m--- /dev/null[m
[1m+++ b/app/channels/application_cable/channel.rb[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32mmodule ApplicationCable[m
[32m+[m[32m  class Channel < ActionCable::Channel::Base[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/app/channels/application_cable/connection.rb b/app/channels/application_cable/connection.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..0ff5442[m
[1m--- /dev/null[m
[1m+++ b/app/channels/application_cable/connection.rb[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32mmodule ApplicationCable[m
[32m+[m[32m  class Connection < ActionCable::Connection::Base[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..09705d1[m
[1m--- /dev/null[m
[1m+++ b/app/controllers/application_controller.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mclass ApplicationController < ActionController::Base[m
[32m+[m[32mend[m
[1mdiff --git a/app/controllers/concerns/.keep b/app/controllers/concerns/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/app/controllers/drafts_controller.rb b/app/controllers/drafts_controller.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..d9261bd[m
[1m--- /dev/null[m
[1m+++ b/app/controllers/drafts_controller.rb[m
[36m@@ -0,0 +1,376 @@[m
[32m+[m[32mclass DraftsController < ApplicationController[m
[32m+[m[32mbefore_action :set_room_user[m
[32m+[m[32mbefore_action :memo, {only:[:decide]}[m
[32m+[m
[32m+[m[32mdef set_room_user[m
[32m+[m[32m  @room = Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m  @current_user = User.find_by(id: session[:user_id])[m
[32m+[m[32m  @user1 = User.find_by(id: @room.user1)[m
[32m+[m[32m  @user2 = User.find_by(id: @room.user2)[m
[32m+[m[32m  @user3 = User.find_by(id: @room.user3)[m
[32m+[m[32m  @user4 = User.find_by(id: @room.user4)[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef memo[m
[32m+[m[32m  if params[:memo][m
[32m+[m[32m  @current_user.memo = params[:memo][m
[32m+[m[32m  @current_user.save[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef preparation[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef lottery[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef preparation_second[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef lottery_second[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_select[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_decide[m
[32m+[m[32m  if params[:select][m
[32m+[m[32m    @current_user.select = params[:select][m
[32m+[m[32m    @current_user.save[m
[32m+[m[32m    @room.next = @room.next + 1[m
[32m+[m[32m    @room.save[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_wait")[m
[32m+[m[32m  elsif params[:select].nil?[m[41m [m
[32m+[m[32m    @members = Member.all[m
[32m+[m[32m    flash[:notice] = "メンバーを選択してください"[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_select")[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_to_wait[m
[32m+[m[32m  @room.next = @room.next + 1[m
[32m+[m[32m  @room.save[m
[32m+[m[32m  redirect_to("/drafts/:room_id/second_wait")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_wait[m
[32m+[m
[32m+[m[32m  if @room.next == 0[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_announcement")[m
[32m+[m[32m  end[m
[32m+[m[41m  [m
[32m+[m[32m  if @room.next == @room.number_of_players && @current_user.id == @room.user1[m
[32m+[m[32m    if (@room.number_of_players == 2 && @user1.select && @user2.select) \[m
[32m+[m[32m    || (@room.number_of_players == 3 && @user1.select && @user2.select && @user3.select) \[m
[32m+[m[32m    || (@room.number_of_players == 4 && @user1.select && @user2.select && @user3.select && @user4.select)[m
[32m+[m[41m    [m
[32m+[m[32m        @room.next = 0[m
[32m+[m[32m        @room.save[m
[32m+[m[32m        redirect_to("/drafts/:room_id/second_check")[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_check[m
[32m+[m
[32m+[m[32m  @winning_users = User.where(room_id: session[:room_id]).where(lottery:0).or(User.where(room_id: session[:room_id]).where(lottery:2)).or(User.where(room_id: session[:room_id]).where(lottery:4))[m
[32m+[m[32m  @winning_users.each do |winning_user|[m
[32m+[m[32m    winning_user.lottery = nil[m
[32m+[m[32m    winning_user.save[m[41m [m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  @users = User.where(room_id: session[:room_id]).where(lottery:1).or(User.where(room_id: session[:room_id]).where(lottery:3))[m
[32m+[m[32m  @users.each do |user|[m
[32m+[m[32m    user.lottery = 0[m
[32m+[m[32m    user.save[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  if @room.number_of_players == 2[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_announcement_two")[m
[32m+[m[32m  elsif @room.number_of_players == 3[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_announcement_three")[m
[32m+[m[32m  elsif @room.number_of_players == 4[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_announcement_four")[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_announcement_two[m
[32m+[m[32mif @user1.select == @user2.select[m[41m  [m
[32m+[m[32m  @user1.lottery = 1[m
[32m+[m[32m  @user2.lottery = 1[m
[32m+[m[32melse[m
[32m+[m[32m  # 被りなし[m
[32m+[m[32m  @draft1 = Draft.new([m
[32m+[m[32m    user_id:@user1.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user1.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m  @draft1.save[m
[32m+[m[32m  @draft2 = Draft.new([m
[32m+[m[32m    user_id: @user2.id,[m
[32m+[m[32m    room_id:session[:room_id],[m
[32m+[m[32m    member_name: @user2.select,[m
[32m+[m[32m    order: @room.order)[m[41m [m
[32m+[m[32m  @draft2.save[m
[32m+[m
[32m+[m[32m  @drafts = Draft.where(user_id:session[:user_id])[m
[32m+[m[32m  @room.order =  @drafts.length + 1[m
[32m+[m[32m  @room.save[m[41m [m
[32m+[m[41m  [m
[32m+[m[32m  # 被りなし[m
[32m+[m[32mend[m
[32m+[m[32m@user1.save[m
[32m+[m[32m@user2.save[m
[32m+[m
[32m+[m[32mif User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m  @selecting_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m  @winning_user = @selecting_users.sample[m
[32m+[m[32m  @winning_user.lottery = 2[m
[32m+[m[32m  @winning_user.save[m
[32m+[m[32m  @losing_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m  @losing_users.each do |losing_user|[m
[32m+[m[32m    losing_user.select = nil[m
[32m+[m[32m    losing_user.save[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mredirect_to("/drafts/:room_id/second_announcement")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_announcement_three[m
[32m+[m[32mif @user1.select == @user2.select[m[41m  [m
[32m+[m[32m  if @user1.select == @user3.select[m[41m  [m
[32m+[m[32m    @user1.lottery = 1[m
[32m+[m[32m    @user2.lottery = 1[m
[32m+[m[32m    @user3.lottery = 1[m
[32m+[m[32m  else[m
[32m+[m[32m    @user1.lottery = 1[m
[32m+[m[32m    @user2.lottery = 1[m
[32m+[m[32m  end[m
[32m+[m[32melsif @user1.select == @user3.select[m[41m [m
[32m+[m[32m  @user1.lottery = 1[m
[32m+[m[32m  @user3.lottery = 1[m
[32m+[m[32melsif @user2.select == @user3.select[m[41m [m
[32m+[m[32m  @user2.lottery = 1[m
[32m+[m[32m  @user3.lottery = 1[m
[32m+[m[32melse[m
[32m+[m[32m  # 被りなし[m
[32m+[m[32m  @draft1 = Draft.new([m
[32m+[m[32m    user_id:@user1.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user1.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m  @draft1.save[m
[32m+[m[32m  @draft2 = Draft.new([m
[32m+[m[32m    user_id: @user2.id,[m
[32m+[m[32m    room_id:session[:room_id],[m
[32m+[m[32m    member_name: @user2.select,[m
[32m+[m[32m    order: @room.order)[m[41m [m
[32m+[m[32m  @draft2.save[m
[32m+[m[32m  @draft3 = Draft.new([m
[32m+[m[32m    user_id: @user3.id,[m
[32m+[m[32m    room_id:session[:room_id],[m
[32m+[m[32m    member_name: @user3.select,[m
[32m+[m[32m    order: @room.order)[m[41m [m
[32m+[m[32m  @draft3.save[m
[32m+[m[41m  [m
[32m+[m[32m  @drafts = Draft.where(user_id:session[:user_id])[m
[32m+[m[32m  @room.order =  @drafts.length + 1[m
[32m+[m[32m  @room.save[m[41m [m
[32m+[m
[32m+[m[32m  # 被りなし[m
[32m+[m[32mend[m
[32m+[m[32m@user1.save[m
[32m+[m[32m@user2.save[m
[32m+[m[32m@user3.save[m
[32m+[m
[32m+[m[32mif User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m  @selecting_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m  @winning_user = @selecting_users.sample[m
[32m+[m[32m  @winning_user.lottery = 2[m
[32m+[m[32m  @winning_user.save[m
[32m+[m[32m  @losing_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m  @losing_users.each do |losing_user|[m
[32m+[m[32m    losing_user.select = nil[m
[32m+[m[32m    losing_user.save[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mredirect_to("/drafts/:room_id/second_announcement")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_announcement_four[m
[32m+[m[32m  if @user1.select == @user2.select[m[41m  [m
[32m+[m[32m    if @user1.select == @user3.select[m[41m  [m
[32m+[m[32m      if @user1.select == @user4.select[m[41m  [m
[32m+[m[32m        # user1.select == user2.select == user3.select == user4.select[m
[32m+[m[32m        @user1.lottery = 1[m
[32m+[m[32m        @user2.lottery = 1[m
[32m+[m[32m        @user3.lottery = 1[m
[32m+[m[32m        @user4.lottery = 1[m
[32m+[m
[32m+[m[32m      else[m
[32m+[m[32m        # user1.select == user2.select == user3.select[m
[32m+[m[32m        @user1.lottery = 1[m
[32m+[m[32m        @user2.lottery = 1[m
[32m+[m[32m        @user3.lottery = 1[m
[32m+[m[41m        [m
[32m+[m[32m      end[m
[32m+[m[32m    elsif @user1.select == @user4.select[m[41m  [m
[32m+[m[32m      # user1.select == user2.select == user4.select[m[41m  [m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    elsif @user3.select == @user4.select[m
[32m+[m[32m      # user1.select == user2.select  &&  user3.select == user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 3[m
[32m+[m[32m      @user4.lottery = 3[m
[32m+[m[41m        [m
[32m+[m[32m    else[m
[32m+[m[32m      # user1.select == user2.select[m[41m [m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m  elsif @user2.select == @user3.select[m
[32m+[m[32m    if @user3.select == @user4.select[m
[32m+[m[32m      # user2.select == user3.select == user4.select[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    elsif @user1.select == @user4.select[m
[32m+[m[32m      # user2.select == user3.select  && user1.select == user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 3[m
[32m+[m[32m      @user3.lottery = 3[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    else[m
[32m+[m[32m      # user2.select == user3.select[m[41m [m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m[32m  elsif @user1.select == @user3.select[m
[32m+[m[32m    if @user1.select == @user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    elsif @user2.select == @user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 3[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 3[m
[32m+[m[41m      [m
[32m+[m[32m    else[m
[32m+[m[32m      # user1.select == user3.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m[32m  elsif @user1.select == @user4.select[m
[32m+[m[32m    # user1.select == user4.select[m
[32m+[m[32m    @user1.lottery = 1[m
[32m+[m[32m    @user4.lottery = 1[m
[32m+[m
[32m+[m[32m  elsif @user2.select == @user4.select[m
[32m+[m[32m      # user2.select == user4.select[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m  elsif @user3.select == @user4.select[m
[32m+[m[32m      # user3.select == user4.select[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m  else[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m    @draft1 = Draft.new([m
[32m+[m[32m      user_id:@user1.id,[m
[32m+[m[32m        room_id:session[:room_id],[m
[32m+[m[32m        member_name: @user1.select,[m
[32m+[m[32m        order: @room.order)[m[41m [m
[32m+[m[32m    @draft1.save[m
[32m+[m[32m    @draft2 = Draft.new([m
[32m+[m[32m      user_id: @user2.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user2.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft2.save[m
[32m+[m[32m    @draft3 = Draft.new([m
[32m+[m[32m      user_id: @user3.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user3.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft3.save[m
[32m+[m[32m    @draft4 = Draft.new([m
[32m+[m[32m      user_id: @user4.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user4.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft4.save[m
[32m+[m
[32m+[m[32m    @drafts = Draft.where(user_id:session[:user_id])[m
[32m+[m[32m    @room.order =  @drafts.length + 1[m
[32m+[m[32m    @room.save[m[41m [m
[32m+[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  @user1.save[m
[32m+[m[32m  @user2.save[m
[32m+[m[32m  @user3.save[m
[32m+[m[32m  @user4.save[m
[32m+[m
[32m+[m[32m  if User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m    @selecting_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @winning_user = @selecting_users.sample[m
[32m+[m[32m    @winning_user.lottery = 2[m
[32m+[m[32m    @winning_user.save[m
[32m+[m[32m    @losing_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @losing_users.each do |losing_user|[m
[32m+[m[32m      losing_user.select = nil[m
[32m+[m[32m      losing_user.save[m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m    if User.find_by(room_id:session[:room_id],lottery:3)[m
[32m+[m[32m      @selecting_users2 = User.where(room_id: session[:room_id]).where(lottery:3)[m
[32m+[m[32m      @winning_user2 = @selecting_users2.sample[m
[32m+[m[32m      @winning_user2.lottery = 4[m
[32m+[m[32m      @winning_user2.save[m
[32m+[m[32m      @losing_users2 = User.where(room_id: session[:room_id]).where(lottery:3)[m
[32m+[m[32m      @losing_users2.each do |losing_user2|[m
[32m+[m[32m        losing_user2.select = nil[m
[32m+[m[32m        losing_user2.save[m
[32m+[m[32m      end[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  redirect_to("/drafts/:room_id/second_announcement")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_announcement[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_branch[m
[32m+[m[32m  if User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m    redirect_to("/drafts/:room_id/second_preparation")[m
[32m+[m[32m  else[m
[32m+[m[32m    redirect_to("/rooms/:room_id/result")[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef second_preparation[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mend[m
[1mdiff --git a/app/controllers/home_controller.rb b/app/controllers/home_controller.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..adc6e6e[m
[1m--- /dev/null[m
[1m+++ b/app/controllers/home_controller.rb[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mclass HomeController < ApplicationController[m
[32m+[m[32m  def top[m
[32m+[m[32m    if session[:user_id][m
[32m+[m[32m     session[:user_id] = nil[m
[32m+[m[32m    end[m
[32m+[m[32m    if session[:room_id][m
[32m+[m[32m      session[:room_id] = nil[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/app/controllers/rooms_controller.rb b/app/controllers/rooms_controller.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..b0aa1b1[m
[1m--- /dev/null[m
[1m+++ b/app/controllers/rooms_controller.rb[m
[36m@@ -0,0 +1,432 @@[m
[32m+[m[32mclass RoomsController < ApplicationController[m
[32m+[m[32mbefore_action :set_room_user[m
[32m+[m[32mbefore_action :memo, {only:[:meeting,:select,:decide,:next]}[m
[32m+[m[41m  [m
[32m+[m
[32m+[m[32mdef set_room_user[m
[32m+[m[32m  @room = Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m  @current_user = User.find_by(id: session[:user_id])[m
[32m+[m[32m  @user1 = User.find_by(id: @room.user1)[m
[32m+[m[32m  @user2 = User.find_by(id: @room.user2)[m
[32m+[m[32m  @user3 = User.find_by(id: @room.user3)[m
[32m+[m[32m  @user4 = User.find_by(id: @room.user4)[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef matching[m
[32m+[m
[32m+[m[32m  unless Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m    @current_user = User.find_by(id: session[:user_id])[m
[32m+[m[32m    @current_user.destroy[m
[32m+[m[32m    reset_session[m
[32m+[m[32m    flash[:notice] = "ルームが削除されました"[m
[32m+[m[32m    redirect_to("/")[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  @users = User.where(room_id: session[:room_id])[m
[32m+[m
[32m+[m[32m  if @users.length == @room.number_of_players && @current_user.id == @room.user1[m
[32m+[m[32m    redirect_to("/rooms/:room_id/create")[m
[32m+[m[32m  end[m
[32m+[m[41m  [m
[32m+[m[32m  if  @room.next[m
[32m+[m[32m    redirect_to("/rooms/:room_id/group")[m
[32m+[m[32m  end[m
[32m+[m[41m  [m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef create[m
[32m+[m[32m  @room.next = 0[m
[32m+[m[32m  @room.save[m
[32m+[m[32m  redirect_to("/rooms/:room_id/group")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef group[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef group_confirm[m[41m  [m
[32m+[m[32m  if User.find_by(name:"#{params[:name]}坂46",room_id:session[:room_id])[m
[32m+[m[32m    flash[:notice] = "他のプレーヤーと同じグループ名です"[m
[32m+[m[32m    @current_user.color = params[:color][m[41m [m
[32m+[m[32m    @current_user.save[m
[32m+[m[32m    redirect_to("/rooms/:room_id/group")[m
[32m+[m[32m  else[m
[32m+[m[32m  @current_user.name = params[:name] + "坂46"[m
[32m+[m[32m  @current_user.logo =  "/logo/" + params[:color].delete("#") + ".png"[m
[32m+[m[32m    if params[:color] == "#ffffff"[m
[32m+[m[32m    @current_user.color = "#333333"[m[41m [m
[32m+[m[32m    else[m
[32m+[m[32m    @current_user.color = params[:color][m[41m [m
[32m+[m[32m    end[m
[32m+[m[32m  @current_user.save[m
[32m+[m[32m  redirect_to("/rooms/:room_id/meeting")[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef memo[m
[32m+[m[32m  if params[:memo][m
[32m+[m[32m  @current_user.memo = params[:memo][m
[32m+[m[32m  @current_user.save[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef meeting[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef select[m
[32m+[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef decide[m
[32m+[m[32m  if params[:select][m
[32m+[m[32m    if @room.next[m
[32m+[m[32m      @room.next = nil[m[41m [m
[32m+[m[32m      @room.save[m
[32m+[m[32m      if @user1 && @user1.select[m
[32m+[m[32m        @user1.select = nil[m
[32m+[m[32m        @user1.save[m
[32m+[m[32m      end[m
[32m+[m[32m      if @user2 && @user2.select[m
[32m+[m[32m        @user2.select = nil[m
[32m+[m[32m        @user2.save[m
[32m+[m[32m      end[m
[32m+[m[32m      if @user3 && @user3.select[m
[32m+[m[32m        @user3.select = nil[m
[32m+[m[32m        @user3.save[m
[32m+[m[32m      end[m
[32m+[m[32m      if @user4 && @user4.select[m
[32m+[m[32m        @user4.select = nil[m
[32m+[m[32m        @user4.save[m
[32m+[m[32m      end[m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m    if @current_user.lottery[m
[32m+[m[32m      @current_user.lottery = nil[m
[32m+[m[32m      @current_user.save[m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m    @current_user.select = params[:select][m
[32m+[m[32m    @current_user.save[m
[32m+[m[32m    redirect_to("/rooms/:room_id/wait")[m
[32m+[m[32m  elsif params[:select].nil?[m[41m [m
[32m+[m[32m    @members = Member.all[m
[32m+[m[32m    flash[:notice] = "メンバーを選択してください"[m
[32m+[m[32m    redirect_to("/rooms/:room_id/select")[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef wait[m
[32m+[m
[32m+[m[32m  if @room.next[m[41m [m
[32m+[m[32m    redirect_to("/rooms/:room_id/announcement")[m
[32m+[m
[32m+[m[32m  elsif (@room.number_of_players == 2 && @user1.select && @user2.select) \[m
[32m+[m[32m    || (@room.number_of_players == 3 && @user1.select && @user2.select && @user3.select) \[m
[32m+[m[32m    || (@room.number_of_players == 4 && @user1.select && @user2.select && @user3.select && @user4.select)[m
[32m+[m[41m   [m
[32m+[m[32m    if @current_user.id == @room.user1[m
[32m+[m[32m      @room.next = 0[m
[32m+[m[32m      @room.save[m
[32m+[m[32m      redirect_to("/rooms/:room_id/check")[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef check[m
[32m+[m[32m  if @room.number_of_players == 2[m
[32m+[m[32m    redirect_to("/rooms/:room_id/announcement_two")[m
[32m+[m[32m  elsif @room.number_of_players == 3[m
[32m+[m[32m    redirect_to("/rooms/:room_id/announcement_three")[m
[32m+[m[32m  elsif @room.number_of_players == 4[m
[32m+[m[32m    redirect_to("/rooms/:room_id/announcement_four")[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef announcement_two[m
[32m+[m[32m  if @user1.select == @user2.select[m[41m  [m
[32m+[m[32m    @user1.lottery = 1[m
[32m+[m[32m    @user2.lottery = 1[m
[32m+[m[32m  else[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m    @draft1 = Draft.new([m
[32m+[m[32m      user_id:@user1.id,[m
[32m+[m[32m        room_id:session[:room_id],[m
[32m+[m[32m        member_name: @user1.select,[m
[32m+[m[32m        order: @room.order)[m[41m [m
[32m+[m[32m    @draft1.save[m
[32m+[m[32m    @draft2 = Draft.new([m
[32m+[m[32m      user_id: @user2.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user2.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft2.save[m
[32m+[m
[32m+[m[32m    @drafts = Draft.where(user_id:session[:user_id])[m
[32m+[m[32m    @room.order =  @drafts.length + 1[m
[32m+[m[32m    @room.save[m[41m [m
[32m+[m[41m    [m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m  end[m
[32m+[m[32m  @user1.save[m
[32m+[m[32m  @user2.save[m
[32m+[m
[32m+[m[32m  if User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m    @selecting_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @winning_user = @selecting_users.sample[m
[32m+[m[32m    @winning_user.lottery = 2[m
[32m+[m[32m    @winning_user.save[m
[32m+[m[32m    @losing_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @losing_users.each do |losing_user|[m
[32m+[m[32m      losing_user.select = nil[m
[32m+[m[32m      losing_user.save[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  redirect_to("/rooms/:room_id/announcement")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef announcement_three[m
[32m+[m[32m  if @user1.select == @user2.select[m[41m  [m
[32m+[m[32m    if @user1.select == @user3.select[m[41m  [m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m    else[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m    end[m
[32m+[m[32m  elsif @user1.select == @user3.select[m[41m [m
[32m+[m[32m    @user1.lottery = 1[m
[32m+[m[32m    @user3.lottery = 1[m
[32m+[m[32m  elsif @user2.select == @user3.select[m[41m [m
[32m+[m[32m    @user2.lottery = 1[m
[32m+[m[32m    @user3.lottery = 1[m
[32m+[m[32m  else[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m    @draft1 = Draft.new([m
[32m+[m[32m      user_id:@user1.id,[m
[32m+[m[32m        room_id:session[:room_id],[m
[32m+[m[32m        member_name: @user1.select,[m
[32m+[m[32m        order: @room.order)[m[41m [m
[32m+[m[32m    @draft1.save[m
[32m+[m[32m    @draft2 = Draft.new([m
[32m+[m[32m      user_id: @user2.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user2.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft2.save[m
[32m+[m[32m    @draft3 = Draft.new([m
[32m+[m[32m      user_id: @user3.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user3.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft3.save[m
[32m+[m[41m    [m
[32m+[m[32m    @drafts = Draft.where(user_id:session[:user_id])[m
[32m+[m[32m    @room.order =  @drafts.length + 1[m
[32m+[m[32m    @room.save[m[41m [m
[32m+[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m  end[m
[32m+[m[32m  @user1.save[m
[32m+[m[32m  @user2.save[m
[32m+[m[32m  @user3.save[m
[32m+[m
[32m+[m[32m  if User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m    @selecting_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @winning_user = @selecting_users.sample[m
[32m+[m[32m    @winning_user.lottery = 2[m
[32m+[m[32m    @winning_user.save[m
[32m+[m[32m    @losing_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @losing_users.each do |losing_user|[m
[32m+[m[32m      losing_user.select = nil[m
[32m+[m[32m      losing_user.save[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  redirect_to("/rooms/:room_id/announcement")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef announcement_four[m
[32m+[m[32m  if @user1.select == @user2.select[m[41m  [m
[32m+[m[32m    if @user1.select == @user3.select[m[41m  [m
[32m+[m[32m      if @user1.select == @user4.select[m[41m  [m
[32m+[m[32m        # user1.select == user2.select == user3.select == user4.select[m
[32m+[m[32m        @user1.lottery = 1[m
[32m+[m[32m        @user2.lottery = 1[m
[32m+[m[32m        @user3.lottery = 1[m
[32m+[m[32m        @user4.lottery = 1[m
[32m+[m
[32m+[m[32m      else[m
[32m+[m[32m        # user1.select == user2.select == user3.select[m
[32m+[m[32m        @user1.lottery = 1[m
[32m+[m[32m        @user2.lottery = 1[m
[32m+[m[32m        @user3.lottery = 1[m
[32m+[m[41m        [m
[32m+[m[32m      end[m
[32m+[m[32m    elsif @user1.select == @user4.select[m[41m  [m
[32m+[m[32m      # user1.select == user2.select == user4.select[m[41m  [m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    elsif @user3.select == @user4.select[m
[32m+[m[32m      # user1.select == user2.select  &&  user3.select == user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 3[m
[32m+[m[32m      @user4.lottery = 3[m
[32m+[m[41m        [m
[32m+[m[32m    else[m
[32m+[m[32m      # user1.select == user2.select[m[41m [m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m  elsif @user2.select == @user3.select[m
[32m+[m[32m    if @user3.select == @user4.select[m
[32m+[m[32m      # user2.select == user3.select == user4.select[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    elsif @user1.select == @user4.select[m
[32m+[m[32m      # user2.select == user3.select  && user1.select == user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 3[m
[32m+[m[32m      @user3.lottery = 3[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    else[m
[32m+[m[32m      # user2.select == user3.select[m[41m [m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m[32m  elsif @user1.select == @user3.select[m
[32m+[m[32m    if @user1.select == @user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    elsif @user2.select == @user4.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user2.lottery = 3[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 3[m
[32m+[m[41m      [m
[32m+[m[32m    else[m
[32m+[m[32m      # user1.select == user3.select[m
[32m+[m[32m      @user1.lottery = 1[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m[32m  elsif @user1.select == @user4.select[m
[32m+[m[32m    # user1.select == user4.select[m
[32m+[m[32m    @user1.lottery = 1[m
[32m+[m[32m    @user4.lottery = 1[m
[32m+[m
[32m+[m[32m  elsif @user2.select == @user4.select[m
[32m+[m[32m      # user2.select == user4.select[m
[32m+[m[32m      @user2.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m  elsif @user3.select == @user4.select[m
[32m+[m[32m      # user3.select == user4.select[m
[32m+[m[32m      @user3.lottery = 1[m
[32m+[m[32m      @user4.lottery = 1[m
[32m+[m[41m      [m
[32m+[m[32m  else[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m    @draft1 = Draft.new([m
[32m+[m[32m      user_id:@user1.id,[m
[32m+[m[32m        room_id:session[:room_id],[m
[32m+[m[32m        member_name: @user1.select,[m
[32m+[m[32m        order: @room.order)[m[41m [m
[32m+[m[32m    @draft1.save[m
[32m+[m[32m    @draft2 = Draft.new([m
[32m+[m[32m      user_id: @user2.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user2.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft2.save[m
[32m+[m[32m    @draft3 = Draft.new([m
[32m+[m[32m      user_id: @user3.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user3.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft3.save[m
[32m+[m[32m    @draft4 = Draft.new([m
[32m+[m[32m      user_id: @user4.id,[m
[32m+[m[32m      room_id:session[:room_id],[m
[32m+[m[32m      member_name: @user4.select,[m
[32m+[m[32m      order: @room.order)[m[41m [m
[32m+[m[32m    @draft4.save[m
[32m+[m
[32m+[m[32m    @drafts = Draft.where(user_id:session[:user_id])[m
[32m+[m[32m    @room.order =  @drafts.length + 1[m
[32m+[m[32m    @room.save[m[41m [m
[32m+[m
[32m+[m[32m    # 被りなし[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  @user1.save[m
[32m+[m[32m  @user2.save[m
[32m+[m[32m  @user3.save[m
[32m+[m[32m  @user4.save[m
[32m+[m
[32m+[m[32m  if User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m    @selecting_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @winning_user = @selecting_users.sample[m
[32m+[m[32m    @winning_user.lottery = 2[m
[32m+[m[32m    @winning_user.save[m
[32m+[m[32m    @losing_users = User.where(room_id: session[:room_id]).where(lottery:1)[m
[32m+[m[32m    @losing_users.each do |losing_user|[m
[32m+[m[32m      losing_user.select = nil[m
[32m+[m[32m      losing_user.save[m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m    if User.find_by(room_id:session[:room_id],lottery:3)[m
[32m+[m[32m      @selecting_users2 = User.where(room_id: session[:room_id]).where(lottery:3)[m
[32m+[m[32m      @winning_user2 = @selecting_users2.sample[m
[32m+[m[32m      @winning_user2.lottery = 4[m
[32m+[m[32m      @winning_user2.save[m
[32m+[m[32m      @losing_users2 = User.where(room_id: session[:room_id]).where(lottery:3)[m
[32m+[m[32m      @losing_users2.each do |losing_user2|[m
[32m+[m[32m        losing_user2.select = nil[m
[32m+[m[32m        losing_user2.save[m
[32m+[m[32m      end[m
[32m+[m[41m      [m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  redirect_to("/rooms/:room_id/announcement")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef announcement[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef branch[m
[32m+[m[32m  if User.find_by(room_id:session[:room_id],lottery:1)[m
[32m+[m[32m    redirect_to("/drafts/:room_id/preparation")[m
[32m+[m[32m  else[m
[32m+[m[32m    redirect_to("/rooms/:room_id/result")[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef result[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef chapter[m[41m [m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef next[m
[32m+[m[32m  redirect_to("/rooms/:room_id/select")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m
[32m+[m[32mend[m
\ No newline at end of file[m
[1mdiff --git a/app/controllers/users_controller.rb b/app/controllers/users_controller.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..49afe7b[m
[1m--- /dev/null[m
[1m+++ b/app/controllers/users_controller.rb[m
[36m@@ -0,0 +1,88 @@[m
[32m+[m[32mclass UsersController < ApplicationController[m
[32m+[m
[32m+[m[32mdef create[m
[32m+[m[32m  @room = Room.new([m
[32m+[m[32m   number_of_players: params[:number_of_players],[m
[32m+[m[32m   number_of_members: params[:number_of_members],[m
[32m+[m[32m   order: 1)[m
[32m+[m[32m  while[m[41m [m
[32m+[m[32m    random = rand(1..100)[m
[32m+[m[32m    unless Room.find_by(room_id: random)[m
[32m+[m[32m    @room.room_id = random[m
[32m+[m[32m    break[m[41m  [m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m[32m  @room.save[m
[32m+[m[32m  session[:room_id] = @room.room_id[m
[32m+[m[32m  @user = User.new(room_id: @room.room_id)[m
[32m+[m[32m  @user.save[m
[32m+[m[32m  session[:user_id] = @user.id[m
[32m+[m[32m  @room.user1 = @user.id[m
[32m+[m[32m  @room.save[m
[32m+[m[32m  redirect_to("/rooms/#{session[:room_id]}/matching")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef enter[m
[32m+[m[32m    params[:room_id].tr!("０-９","0-9")[m
[32m+[m[32m    if @room = Room.find_by(room_id: params[:room_id])[m
[32m+[m[32m      @users = User.where(room_id: @room.room_id)[m
[32m+[m
[32m+[m[32m      if @room.number_of_players > @users.length[m
[32m+[m[32m      @user = User.new(room_id: @room.room_id)[m
[32m+[m[32m      @user.save[m
[32m+[m
[32m+[m[32m      if @room.user2.nil?[m
[32m+[m[32m        @room.user2 = @user.id[m
[32m+[m[32m      elsif @room.user3.nil?[m
[32m+[m[32m        @room.user3 = @user.id[m
[32m+[m[32m      elsif @room.user4.nil?[m
[32m+[m[32m        @room.user4 = @user.id[m
[32m+[m[32m      end[m
[32m+[m
[32m+[m[32m      @room.save[m
[32m+[m[32m      session[:user_id] = @user.id[m
[32m+[m[32m      session[:room_id] = @room.room_id[m
[32m+[m[32m      redirect_to("/rooms/#{session[:room_id]}/matching")[m
[32m+[m[41m      [m
[32m+[m[32m      else[m
[32m+[m[32m      flash[:notice] = "人数の上限を超えています"[m
[32m+[m[32m      redirect_to("/")[m
[32m+[m[32m      end[m[41m  [m
[32m+[m
[32m+[m[32m    else[m
[32m+[m[32m      flash[:notice] = "ルームがありません"[m
[32m+[m[32m      redirect_to("/")[m
[32m+[m[32m    end[m
[32m+[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef cancel[m
[32m+[m[32m  @room = Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m    if session[:user_id] == @room.user2[m
[32m+[m[32m      @room.user2 = nil[m
[32m+[m[32m      @room.save[m
[32m+[m[32m    elsif session[:user_id] == @room.user3[m
[32m+[m[32m      @room.user3 = nil[m
[32m+[m[32m      @room.save[m
[32m+[m[32m    elsif session[:user_id] == @room.user4[m
[32m+[m[32m      @room.user4 = nil[m
[32m+[m[32m      @room.save[m
[32m+[m[32m    end[m
[32m+[m[32m    @current_user = User.find_by(id: session[:user_id])[m
[32m+[m[32m    @current_user.destroy[m
[32m+[m[32m    reset_session[m
[32m+[m[32m    flash[:notice] = "ルームを退室しました"[m
[32m+[m[32m    redirect_to("/")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mdef delete[m
[32m+[m[32m  @room = Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m  @room.destroy[m
[32m+[m[32m  @current_user = User.find_by(id: session[:user_id])[m
[32m+[m[32m  @current_user.destroy[m
[32m+[m[32m  reset_session[m
[32m+[m[32m  flash[:notice] = "ルームを削除しました"[m
[32m+[m[32m  redirect_to("/")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mend[m
\ No newline at end of file[m
[1mdiff --git a/app/helpers/application_helper.rb b/app/helpers/application_helper.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..de6be79[m
[1m--- /dev/null[m
[1m+++ b/app/helpers/application_helper.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mmodule ApplicationHelper[m
[32m+[m[32mend[m
[1mdiff --git a/app/helpers/drafts_helper.rb b/app/helpers/drafts_helper.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..5482e42[m
[1m--- /dev/null[m
[1m+++ b/app/helpers/drafts_helper.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mmodule DraftsHelper[m
[32m+[m[32mend[m
[1mdiff --git a/app/helpers/home_helper.rb b/app/helpers/home_helper.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..23de56a[m
[1m--- /dev/null[m
[1m+++ b/app/helpers/home_helper.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mmodule HomeHelper[m
[32m+[m[32mend[m
[1mdiff --git a/app/helpers/rooms_helper.rb b/app/helpers/rooms_helper.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..1d0f4c7[m
[1m--- /dev/null[m
[1m+++ b/app/helpers/rooms_helper.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mmodule RoomsHelper[m
[32m+[m[32mend[m
[1mdiff --git a/app/helpers/users_helper.rb b/app/helpers/users_helper.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..2310a24[m
[1m--- /dev/null[m
[1m+++ b/app/helpers/users_helper.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mmodule UsersHelper[m
[32m+[m[32mend[m
[1mdiff --git a/app/jobs/application_job.rb b/app/jobs/application_job.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..a009ace[m
[1m--- /dev/null[m
[1m+++ b/app/jobs/application_job.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mclass ApplicationJob < ActiveJob::Base[m
[32m+[m[32mend[m
[1mdiff --git a/app/mailers/application_mailer.rb b/app/mailers/application_mailer.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..286b223[m
[1m--- /dev/null[m
[1m+++ b/app/mailers/application_mailer.rb[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32mclass ApplicationMailer < ActionMailer::Base[m
[32m+[m[32m  default from: 'from@example.com'[m
[32m+[m[32m  layout 'mailer'[m
[32m+[m[32mend[m
[1mdiff --git a/app/models/application_record.rb b/app/models/application_record.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..10a4cba[m
[1m--- /dev/null[m
[1m+++ b/app/models/application_record.rb[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32mclass ApplicationRecord < ActiveRecord::Base[m
[32m+[m[32m  self.abstract_class = true[m
[32m+[m[32mend[m
[1mdiff --git a/app/models/concerns/.keep b/app/models/concerns/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/app/models/draft.rb b/app/models/draft.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..b696afa[m
[1m--- /dev/null[m
[1m+++ b/app/models/draft.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mclass Draft < ApplicationRecord[m
[32m+[m
[32m+[m[32m  # belongs_to :users[m
[32m+[m
[32m+[m[32mend[m
[1mdiff --git a/app/models/member.rb b/app/models/member.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..8b44e8f[m
[1m--- /dev/null[m
[1m+++ b/app/models/member.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mclass Member < ApplicationRecord[m
[32m+[m[32mend[m
[1mdiff --git a/app/models/room.rb b/app/models/room.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..19becdb[m
[1m--- /dev/null[m
[1m+++ b/app/models/room.rb[m
[36m@@ -0,0 +1,2 @@[m
[32m+[m[32mclass Room < ApplicationRecord[m
[32m+[m[32mend[m
[1mdiff --git a/app/models/user.rb b/app/models/user.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..b74f4a3[m
[1m--- /dev/null[m
[1m+++ b/app/models/user.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mclass User < ApplicationRecord[m
[32m+[m
[32m+[m[32m  # has_many :drafts[m
[32m+[m
[32m+[m[32mend[m
[1mdiff --git a/app/views/drafts/preparation.html.erb b/app/views/drafts/preparation.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..ab9807f[m
[1m--- /dev/null[m
[1m+++ b/app/views/drafts/preparation.html.erb[m
[36m@@ -0,0 +1,229 @@[m
[32m+[m
[32m+[m[32m<div class="preparation">[m
[32m+[m
[32m+[m[32m<% @user_winning1 = User.find_by(room_id:session[:room_id],lottery:2) %>[m
[32m+[m[32m<% @user_winning2 = User.find_by(room_id:session[:room_id],lottery:4) %>[m
[32m+[m
[32m+[m[32m<div class="preparation-one">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------1---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user1">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user1.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user1.lottery == 1 || @user1.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user1.lottery == 3 || @user1.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 1px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user1.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------2---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user2">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user2.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user2.lottery == 1 || @user2.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user2.lottery == 3 || @user2.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 1px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user2.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------3---------------------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 3 %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user3">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user3.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user3.lottery == 1 || @user3.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user3.lottery == 3 || @user3.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 1px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user3.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------4---------------------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 4 %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user4">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user4.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user4.lottery == 1 || @user4.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-four"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user4{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user4.lottery == 3 || @user4.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-four"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user4{border: solid 1px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-four"><%= @user4.select %></div>[m
[32m+[m[32m<style>.preparation-user4{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# -----------------------------------0---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-start">[m
[32m+[m[32m<%= "#{@user_winning1.select} 抽選開始" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.preparation-start').click(function(){[m
[32m+[m[32m  $('.preparation').fadeOut(250);[m
[32m+[m[32m  $('.lottery').delay(250).fadeIn(500);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<%# ----------------------------------lottery---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="lottery">[m
[32m+[m
[32m+[m[32m<div class="lottery-one">競合抽選</div>[m
[32m+[m
[32m+[m[32m<div class="lottery-member"><%= @user_winning1.select %></div>[m
[32m+[m
[32m+[m[32m<% if @current_user.lottery == 2 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper .lottery-paper-logos .lottery-paper-name{[m
[32m+[m[32mcolor: <%=@current_user.color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="lottery-paper">[m
[32m+[m[32m<div class="lottery-paper-logos">[m
[32m+[m[32m<%= image_tag @current_user.logo ,class:'lottery-paper-logo'%>[m
[32m+[m[32m<div class="lottery-paper-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="lottery-result">獲得</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% elsif @current_user.lottery == 1 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper .lottery-paper-logos .lottery-paper-name{[m
[32m+[m[32mcolor: <%=@current_user.color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="lottery-paper">[m
[32m+[m[32m<div class="lottery-paper-logos">[m
[32m+[m[32m<%= image_tag @current_user.logo ,class:'lottery-paper-logo'%>[m
[32m+[m[32m<div class="lottery-paper-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="lottery-result">外れ</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% else %>[m
[32m+[m
[32m+[m[32m<% @users = User.where(room_id: session[:room_id]).where(lottery:1).or(User.where(room_id: session[:room_id]).where(lottery:2)).order(:created_at) %>[m
[32m+[m
[32m+[m[32m<div class="lottery-watching">[m
[32m+[m
[32m+[m[32m  <% @users.each do |user| %>[m
[32m+[m
[32m+[m[32m      <div class="lottery-paper">[m
[32m+[m[32m      <div class="lottery-paper-logos">[m
[32m+[m[32m      <%= image_tag user.logo ,class:'lottery-watching-logo'%>[m
[32m+[m[32m      <div class="lottery-watching-name">[m
[32m+[m[32m      <%= user.name[0..-3] %>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      </div>[m
[32m+[m[41m      [m
[32m+[m[32m      <% if user.lottery == 2 %>[m
[32m+[m[32m      <div class="lottery-result">獲得</div>[m
[32m+[m[32m      <% elsif user.lottery == 1 %>[m
[32m+[m[32m      <div class="lottery-result">外れ</div>[m
[32m+[m[32m      <% end %>[m
[32m+[m[32m      <div class="lottery-result-name"><%= user.name %></div>[m
[32m+[m[41m      [m
[32m+[m[32m      </div>[m
[32m+[m[41m      [m
[32m+[m[32m  <% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper:nth-child(1)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[0].color%>[m
[32m+[m[32m}[m
[32m+[m[32m.lottery-paper:nth-child(2)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[1].color%>[m
[32m+[m[32m}[m
[32m+[m[32m<% if @users.length == 3%>[m
[32m+[m[32m.lottery-paper:nth-child(3)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[2].color%>[m
[32m+[m[32m}[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="lottery-turn">結果を見る</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.lottery-turn').click(function(){[m
[32m+[m[32m  $('.lottery-paper').addClass('rotationY');[m
[32m+[m[32m  $('.lottery-paper-logos').delay(900).fadeOut(100);[m
[32m+[m[32m  $('.lottery-result').delay(1000).queue(function() {[m
[32m+[m[32m    $(this).show().addClass('rotationY2');[m[41m [m
[32m+[m[32m  });[m
[32m+[m[32m  $(this).fadeOut();[m
[32m+[m[32m  $('.lottery-result-name').delay(2000).fadeIn();[m
[32m+[m[32m  $('.lottery-link').delay(2000).fadeIn();[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<div class="lottery-link">[m
[32m+[m[32m<% if User.find_by(room_id:session[:room_id],lottery:4) %>[m
[32m+[m[32m<%= link_to  "抽選②へ", "/drafts/#{session[:room_id]}/preparation_second" ,{method: "post"} %>[m
[32m+[m[32m<% elsif @current_user.select %>[m
[32m+[m[32m<%= link_to  "選択を待つ", "/drafts/#{session[:room_id]}/second_to_wait" ,{method: "post"} %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= link_to  "選択へ", "/drafts/#{session[:room_id]}/second_select" ,{method: "post"} %>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/views/drafts/preparation_second.html.erb b/app/views/drafts/preparation_second.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..2604b88[m
[1m--- /dev/null[m
[1m+++ b/app/views/drafts/preparation_second.html.erb[m
[36m@@ -0,0 +1,224 @@[m
[32m+[m[32m<div class="preparation">[m
[32m+[m
[32m+[m[32m<% @user_winning1 = User.find_by(room_id:session[:room_id],lottery:2) %>[m
[32m+[m[32m<% @user_winning2 = User.find_by(room_id:session[:room_id],lottery:4) %>[m
[32m+[m
[32m+[m[32m<div class="preparation-one">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------1---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user1">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user1.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user1.lottery == 1 || @user1.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 1px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user1.lottery == 3 || @user1.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 3px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user1.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------2---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user2">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user2.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user2.lottery == 1 || @user2.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 1px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user2.lottery == 3 || @user2.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 3px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user2.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------3---------------------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 3 %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user3">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user3.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user3.lottery == 1 || @user3.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 1px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user3.lottery == 3 || @user3.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 3px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user3.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------4---------------------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 4 %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user4">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@user4.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @user4.lottery == 1 || @user4.lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-four"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user4{border: solid 1px #D71D3B;}</style>[m
[32m+[m[32m<% elsif @user4.lottery == 3 || @user4.lottery == 4 %>[m
[32m+[m[32m<div class="preparation-member-four"><%= @user_winning2.select %></div>[m
[32m+[m[32m<style>.preparation-user4{border: solid 3px #1271B5;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-four"><%= @user4.select %></div>[m
[32m+[m[32m<style>.preparation-user4{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------0---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-start">[m
[32m+[m[32m<%= "#{@user_winning2.select} 抽選開始" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.preparation-start').click(function(){[m
[32m+[m[32m  $('.preparation').fadeOut(250);[m
[32m+[m[32m  $('.lottery').delay(250).fadeIn(500);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<%# ----------------------------------lottery---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="lottery">[m
[32m+[m
[32m+[m[32m<div class="lottery-one">競合抽選</div>[m
[32m+[m
[32m+[m[32m<div class="lottery-member"><%= @user_winning2.select %></div>[m
[32m+[m
[32m+[m[32m<% if @current_user.lottery == 4 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper .lottery-paper-logos .lottery-paper-name{[m
[32m+[m[32mcolor: <%=@current_user.color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="lottery-paper">[m
[32m+[m[32m<div class="lottery-paper-logos">[m
[32m+[m[32m<%= image_tag @current_user.logo ,class:'lottery-paper-logo'%>[m
[32m+[m[32m<div class="lottery-paper-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="lottery-result">獲得</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% elsif @current_user.lottery == 3 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper .lottery-paper-logos .lottery-paper-name{[m
[32m+[m[32mcolor: <%=@current_user.color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="lottery-paper">[m
[32m+[m[32m<div class="lottery-paper-logos">[m
[32m+[m[32m<%= image_tag @current_user.logo ,class:'lottery-paper-logo'%>[m
[32m+[m[32m<div class="lottery-paper-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="lottery-result">外れ</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% else %>[m
[32m+[m
[32m+[m[32m<% @users = User.where(room_id: session[:room_id]).where(lottery:3).or(User.where(room_id: session[:room_id]).where(lottery:4)).order(:created_at)%>[m
[32m+[m
[32m+[m[32m<div class="lottery-watching">[m
[32m+[m
[32m+[m[32m  <% @users.each do |user| %>[m
[32m+[m[32m    <div class="lottery-watching-item">[m
[32m+[m
[32m+[m[32m      <div class="lottery-watching-name"><%= user.name %></div>[m
[32m+[m
[32m+[m[32m      <div class="lottery-paper">[m
[32m+[m[32m      <div class="lottery-paper-logos">[m
[32m+[m[32m      <%= image_tag user.logo ,class:'lottery-watching-logo'%>[m
[32m+[m[32m      <div class="lottery-watching-name">[m
[32m+[m[32m      <%= user.name[0..-3] %>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      </div>[m
[32m+[m
[32m+[m[32m      <% if user.lottery == 4 %>[m
[32m+[m[32m      <div class="lottery-result">獲得</div>[m
[32m+[m[32m      <% elsif user.lottery == 3 %>[m
[32m+[m[32m      <div class="lottery-result">外れ</div>[m
[32m+[m[32m      <% end %>[m
[32m+[m[32m      <div class="lottery-result-name"><%= user.name %></div>[m
[32m+[m[41m      [m
[32m+[m[32m      </div>[m
[32m+[m[41m      [m
[32m+[m[32m  <% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper:nth-child(1)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[0].color%>[m
[32m+[m[32m}[m
[32m+[m[32m.lottery-paper:nth-child(2)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[1].color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="lottery-turn">結果を見る</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.lottery-turn').click(function(){[m
[32m+[m[32m  $('.lottery-paper').addClass('rotationY');[m
[32m+[m[32m  $('.lottery-paper-logos').delay(900).fadeOut(100);[m
[32m+[m[32m  $('.lottery-result').delay(1000).queue(function() {[m
[32m+[m[32m    $(this).show().addClass('rotationY2');[m[41m [m
[32m+[m[32m  });[m
[32m+[m[32m  $(this).fadeOut();[m
[32m+[m[32m  $('.lottery-link').delay(2000).fadeIn();[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<div class="lottery-link">[m
[32m+[m[32m<% if @current_user.select %>[m
[32m+[m[32m<%= link_to  "選択を待つ", "/drafts/#{session[:room_id]}/second_to_wait" ,{method: "post"} %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= link_to  "選択へ", "/drafts/#{session[:room_id]}/second_select" ,{method: "post"} %>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[1mdiff --git a/app/views/drafts/second_announcement.html.erb b/app/views/drafts/second_announcement.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..c76b115[m
[1m--- /dev/null[m
[1m+++ b/app/views/drafts/second_announcement.html.erb[m
[36m@@ -0,0 +1,143 @@[m
[32m+[m[32m<% if User.find_by(room_id:session[:room_id],lottery:1) %>[m
[32m+[m[32m<div class="announcement-space">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="announcement-space">[m
[32m+[m[32m<%= "第#{@room.order-1}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<div class="announcement-skip">[m
[32m+[m[32m<%= link_to  "スキップ", "/drafts/#{session[:room_id]}/branch" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-start">[m
[32m+[m[32m<div class="announcement-start-p">START</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% @users = User.where(room_id: session[:room_id]).where(lottery:0).or(User.where(room_id: session[:room_id]).where(lottery:1)).or(User.where(room_id: session[:room_id]).where(lottery:2)).order(:created_at) %>[m
[32m+[m
[32m+[m[32m<%# ---------------------JS CSS--------------------- %>[m
[32m+[m
[32m+[m[32m<% if @users.length == 1 %>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  function second_preparation(){[m
[32m+[m[32m   window.location.href = '/drafts/<%=session[:room_id]%>/branch';[m
[32m+[m[32m}[m
[32m+[m[32m $('.announcement-start-p').click(function(){[m
[32m+[m[32m  $('.announcement-number:eq(0) > .announcement-name').css('color','<%=@users[0].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(1) > .announcement-group-small > .announcement-name-small').css('color','<%=@users[0].color%>');[m
[32m+[m
[32m+[m[32m  $('.announcement-start').fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(0).delay(0).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(1).delay(2000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  setTimeout("second_preparation()", 5000);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @users.length == 2 %>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  function second_preparation(){[m
[32m+[m[32m   window.location.href = '/drafts/<%=session[:room_id]%>/branch';[m
[32m+[m[32m}[m
[32m+[m[32m $('.announcement-start-p').click(function(){[m
[32m+[m[32m  $('.announcement-number:eq(0) > .announcement-name').css('color','<%=@users[0].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(1) > .announcement-group-small > .announcement-name-small').css('color','<%=@users[0].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(2) > .announcement-name').css('color','<%=@users[1].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(3) > .announcement-group-small > .announcement-name-small').css('color','<%=@users[1].color%>');[m
[32m+[m
[32m+[m[32m  $('.announcement-start').fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(0).delay(0).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(1).delay(2000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(2).delay(5000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(3).delay(7000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  setTimeout("second_preparation()", 10000);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @users.length == 3 %>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m  function second_preparation(){[m
[32m+[m[32m   window.location.href = '/drafts/<%=session[:room_id]%>/branch';[m
[32m+[m[32m}[m
[32m+[m[32m $('.announcement-start-p').click(function(){[m
[32m+[m[32m  $('.announcement-number:eq(0) > .announcement-name').css('color','<%=@users[0].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(1) > .announcement-group-small > .announcement-name-small').css('color','<%=@users[0].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(2) > .announcement-name').css('color','<%=@users[1].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(3) > .announcement-group-small > .announcement-name-small').css('color','<%=@users[1].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(4) > .announcement-name').css('color','<%=@users[2].color%>');[m
[32m+[m[32m  $('.announcement-number:eq(5) > .announcement-group-small > .announcement-name-small').css('color','<%=@users[2].color%>');[m
[32m+[m
[32m+[m[32m  $('.announcement-start').fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(0).delay(0).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(1).delay(2000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(2).delay(5000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(3).delay(7000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(4).delay(10000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-number').eq(5).delay(12000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  setTimeout("second_preparation()", 15000);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="announcement">[m
[32m+[m
[32m+[m[32m<%# ---------------------1--------------------- %>[m
[32m+[m
[32m+[m[32m<% @user_winning1 = User.find_by(room_id:session[:room_id],lottery:2) %>[m
[32m+[m
[32m+[m[32m<% @users.each_with_index do |user,i| %>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-number">[m
[32m+[m[32m<%= image_tag user.logo ,class:'announcement-logo' %>[m
[32m+[m[32m<div class='announcement-name'>[m
[32m+[m[32m<%= user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-number">[m
[32m+[m
[32m+[m[32m<div class="announcement-group-small">[m
[32m+[m[32m<%= image_tag user.logo ,class:'announcement-logo-small' %>[m
[32m+[m[32m<div class="announcement-name-small">[m
[32m+[m[32m<%= user.name %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if user.lottery == 1 %>[m
[32m+[m[32m<div class="announcement-member">[m
[32m+[m[32m<%= @user_winning1.select %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% @member = Member.find_by(name: @user_winning1.select) %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="announcement-member">[m
[32m+[m[32m<%= user.select %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% @member = Member.find_by(name: user.select) %>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<div class="announcement-name-team">[m
[32m+[m[32m<%= @member.team %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ---------------------0--------------------- %>[m
[32m+[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[1mdiff --git a/app/views/drafts/second_preparation.html.erb b/app/views/drafts/second_preparation.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..d74017a[m
[1m--- /dev/null[m
[1m+++ b/app/views/drafts/second_preparation.html.erb[m
[36m@@ -0,0 +1,202 @@[m
[32m+[m
[32m+[m[32m<div class="preparation">[m
[32m+[m
[32m+[m[32m<% @user_winning1 = User.find_by(room_id:session[:room_id],lottery:2) %>[m
[32m+[m[32m<% @users = User.where(room_id: session[:room_id]).where(lottery:0).or(User.where(room_id: session[:room_id]).where(lottery:1)).or(User.where(room_id: session[:room_id]).where(lottery:2)).order(:created_at) %>[m
[32m+[m
[32m+[m[32m<div class="preparation-one">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------1---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user1">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@users[0].name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @users[0].lottery == 1 || @users[0].lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-one"><%= @users[0].select %></div>[m
[32m+[m[32m<style>.preparation-user1{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------2---------------------------------- %>[m
[32m+[m
[32m+[m[32m<% if @users.length >= 2 %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user2">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@users[1].name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @users[1].lottery == 1 || @users[1].lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-two"><%= @users[1].select %></div>[m
[32m+[m[32m<style>.preparation-user2{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ----------------------------------3---------------------------------- %>[m
[32m+[m
[32m+[m[32m<% if @users.length >= 3 %>[m
[32m+[m
[32m+[m[32m<div class="preparation-user preparation-user3">[m
[32m+[m[32m<div class="preparation-name">[m
[32m+[m[32m<%= "#{@users[2].name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @users[2].lottery == 1 || @users[2].lottery == 2 %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @user_winning1.select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 3px #D71D3B;}</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="preparation-member-three"><%= @users[2].select %></div>[m
[32m+[m[32m<style>.preparation-user3{border: solid 1px #333333;}</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<%# ----------------------------------4---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="preparation-start">[m
[32m+[m[32m<%= "#{@user_winning1.select} 抽選開始" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.preparation-start').click(function(){[m
[32m+[m[32m  $('.preparation').fadeOut(500);[m
[32m+[m[32m  $('.lottery').fadeIn(500);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<%# ----------------------------------lottery---------------------------------- %>[m
[32m+[m
[32m+[m[32m<div class="lottery">[m
[32m+[m
[32m+[m[32m<div class="lottery-one">競合抽選</div>[m
[32m+[m
[32m+[m[32m<div class="lottery-member"><%= @user_winning1.select %></div>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @current_user.lottery == 2 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper .lottery-paper-logos .lottery-paper-name{[m
[32m+[m[32mcolor: <%=@current_user.color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="lottery-paper">[m
[32m+[m[32m<div class="lottery-paper-logos">[m
[32m+[m[32m<%= image_tag @current_user.logo ,class:'lottery-paper-logo'%>[m
[32m+[m[32m<div class="lottery-paper-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="lottery-result">獲得</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% elsif @current_user.lottery == 1 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper .lottery-paper-logos .lottery-paper-name{[m
[32m+[m[32mcolor: <%=@current_user.color%>[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="lottery-paper">[m
[32m+[m[32m<div class="lottery-paper-logos">[m
[32m+[m[32m<%= image_tag @current_user.logo ,class:'lottery-paper-logo'%>[m
[32m+[m[32m<div class="lottery-paper-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="lottery-result">外れ</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% else %>[m
[32m+[m
[32m+[m[32m<% @watching_users = User.where(room_id: session[:room_id]).where(lottery:1).or(User.where(room_id: session[:room_id]).where(lottery:2)).order(:created_at)%>[m
[32m+[m
[32m+[m[32m<div class="lottery-watching">[m
[32m+[m
[32m+[m[32m  <% @watching_users.each do |user| %>[m
[32m+[m
[32m+[m[32m      <div class="lottery-paper">[m
[32m+[m[32m      <div class="lottery-paper-logos">[m
[32m+[m[32m      <%= image_tag user.logo ,class:'lottery-watching-logo'%>[m
[32m+[m[32m      <div class="lottery-watching-name">[m
[32m+[m[32m      <%= user.name[0..-3] %>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      </div>[m
[32m+[m[41m      [m
[32m+[m[32m      <% if user.lottery == 2 %>[m
[32m+[m[32m      <div class="lottery-result">獲得</div>[m
[32m+[m[32m      <% elsif user.lottery == 1 %>[m
[32m+[m[32m      <div class="lottery-result">外れ</div>[m
[32m+[m[32m      <% end %>[m
[32m+[m[32m      <div class="lottery-result-name"><%= user.name %></div>[m
[32m+[m
[32m+[m[32m      </div>[m
[32m+[m[41m      [m
[32m+[m[32m  <% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.lottery-paper:nth-child(1)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[0].color%>[m
[32m+[m[32m}[m
[32m+[m[32m.lottery-paper:nth-child(2)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[1].color%>[m
[32m+[m[32m}[m
[32m+[m[32m<% if @users.length == 3%>[m
[32m+[m[32m.lottery-paper:nth-child(3)  .lottery-paper-logos .lottery-watching-name{[m
[32m+[m[32mcolor: <%=@users[2].color%>[m
[32m+[m[32m}[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="lottery-turn">結果を見る</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.lottery-turn').click(function(){[m
[32m+[m[32m  $('.lottery-paper').addClass('rotationY');[m
[32m+[m[32m    $('.lottery-paper-logos').delay(900).fadeOut(100);[m
[32m+[m[32m  $('.lottery-result').delay(1000).queue(function() {[m
[32m+[m[32m    $(this).show().addClass('rotationY2');[m[41m [m
[32m+[m[32m  });[m
[32m+[m[32m  $(this).fadeOut();[m
[32m+[m[32m  $('.lottery-link').delay(2000).fadeIn();[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<div class="lottery-link">[m
[32m+[m[32m<% if @current_user.select %>[m
[32m+[m[32m<%= link_to  "選択を待つ", "/drafts/#{session[:room_id]}/second_to_wait" ,{method: "post"} %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= link_to  "選択へ", "/drafts/#{session[:room_id]}/second_select" ,{method: "post"} %>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m
[1mdiff --git a/app/views/drafts/second_select.html.erb b/app/views/drafts/second_select.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..d672666[m
[1m--- /dev/null[m
[1m+++ b/app/views/drafts/second_select.html.erb[m
[36m@@ -0,0 +1,162 @@[m
[32m+[m[32m<div class="select">[m
[32m+[m
[32m+[m[32m<div class="initial">[m
[32m+[m
[32m+[m[32m<div class="flash">[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-one">[m
[32m+[m[32m<h1>セレクト画面</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="select-member">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= form_tag("/drafts/#{session[:room_id]}/second_decide")  do %>[m
[32m+[m[32m<select id="select" name="select"  size=5 class="select-members">[m
[32m+[m
[32m+[m[32m  <option disabled>-----乃木坂46-----</option>[m
[32m+[m[32m  <% @nogi_members = Member.where(team:"乃木坂46") %>[m
[32m+[m
[32m+[m[32m  <% @nogi_members.each do |member| %>[m
[32m+[m[32m    <% if @draft_now = Draft.find_by(member_name: member.name,room_id:session[:room_id])%>[m
[32m+[m[32m    <% @user_now = User.find_by(id: @draft_now.user_id) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:0) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:2) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:4) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery: nil) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m[41m    [m
[32m+[m[32m    <% else %>[m
[32m+[m[32m    <option><%= member.name %></option>[m
[32m+[m[32m    <% end%>[m
[32m+[m
[32m+[m[32m  <% end%>[m
[32m+[m
[32m+[m
[32m+[m[32m  <option disabled>-----欅坂46-----</option>[m
[32m+[m[32m  <% @keyaki_members = Member.where(team:"欅坂46") %>[m
[32m+[m
[32m+[m[32m  <% @keyaki_members.each do |member| %>[m
[32m+[m[32m    <% if @draft_now = Draft.find_by(member_name: member.name,room_id:session[:room_id])%>[m
[32m+[m[32m    <% @user_now = User.find_by(id: @draft_now.user_id) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:0) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:2) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:4) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery: nil) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m[41m    [m
[32m+[m[32m    <% else %>[m
[32m+[m[32m    <option><%= member.name %></option>[m
[32m+[m[32m    <% end%>[m
[32m+[m[32m  <% end%>[m
[32m+[m
[32m+[m
[32m+[m[32m  <option disabled>-----日向坂46-----</option>[m
[32m+[m[32m  <% @hinata_members = Member.where(team:"日向坂46") %>[m
[32m+[m
[32m+[m[32m  <% @hinata_members.each do |member| %>[m
[32m+[m[32m    <% if @draft_now = Draft.find_by(member_name: member.name,room_id:session[:room_id])%>[m
[32m+[m[32m    <% @user_now = User.find_by(id: @draft_now.user_id) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:0) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:2) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery:4) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m
[32m+[m[32m    <% elsif @user_now = User.find_by(room_id:session[:room_id],select:member.name,lottery: nil) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m[41m [m
[32m+[m[41m    [m
[32m+[m[32m    <% else %>[m
[32m+[m[32m    <option><%= member.name %></option>[m
[32m+[m[32m    <% end%>[m
[32m+[m[32m  <% end%>[m
[32m+[m
[32m+[m[32m</select>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="select-p">メモ</div>[m
[32m+[m
[32m+[m[32m<textarea name="memo" class="memo">[m
[32m+[m[32m<%= @current_user.memo %>[m
[32m+[m[32m</textarea>[m
[32m+[m
[32m+[m[32m<div class="select-submit">選択</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.select-submit').click(function(){[m
[32m+[m[32m   var select = $('.select-members').val();[m
[32m+[m[32m   if(select){[m
[32m+[m[32m     $('.select-confirm-member').text(select);[m
[32m+[m[32m   }else{[m
[32m+[m[32m    $('.flash').text("メンバーを選択してください");[m
[32m+[m[32m    $('.flash').show().delay(1000).fadeOut('slow');[m
[32m+[m[32m    return;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   $('.select-confirm').delay().fadeIn();[m
[32m+[m[32m   $('.background,.initial').delay().addClass('black');[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="select-confirm">[m
[32m+[m
[32m+[m[32m<div class="select-confirm-one">[m
[32m+[m[32m<h1>セレクト確認</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-name">[m
[32m+[m[32m<%= @current_user.name %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-order">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-member">[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-select">[m
[32m+[m[32m<div class="select-confirm-cancel">キャンセル</div>[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.select-confirm-cancel').click(function(){[m
[32m+[m[32m   $('.select-confirm').fadeOut();[m
[32m+[m[32m   $('.background,.initial').removeClass('black');[m
[32m+[m[32m   $('.select-confirm-member').text("");[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<input type="submit" value="OK" class="select-confirm-ok">[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/views/drafts/second_wait.html.erb b/app/views/drafts/second_wait.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..cc4b166[m
[1m--- /dev/null[m
[1m+++ b/app/views/drafts/second_wait.html.erb[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32m<div class="wait">[m
[32m+[m
[32m+[m[32m<div class="wait-one">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<% @users = User.where(room_id:session[:room_id]).where(lottery:1).or(User.where(room_id:session[:room_id]).where(lottery:3))%>[m
[32m+[m[32m<% @users.each do |user|%>[m
[32m+[m[32m<div class="wait-member">[m
[32m+[m
[32m+[m[32m<div class="wait-name">[m
[32m+[m[32m<%= "#{user.name}："%>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% if user.select %>[m
[32m+[m[32m<div class="wait-select">選択済</div>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="wait-selectnow">選択中</div>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="wait-column">コラム</div>[m
[32m+[m[32m<div class="wait-please">しばらくお待ちください</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32mwindow.addEventListener('load',function(){[m
[32m+[m[32m  setInterval('location.reload()',3000);[m
[32m+[m[32m});[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/home/top.html.erb b/app/views/home/top.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..339c7a5[m
[1m--- /dev/null[m
[1m+++ b/app/views/home/top.html.erb[m
[36m@@ -0,0 +1,106 @@[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="top">[m
[32m+[m
[32m+[m[32m<div class="initial">[m
[32m+[m
[32m+[m[32m<%= image_tag '/logo-original.png' ,class:'logo' %>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="create">部屋を作る</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.create').click(function(){[m
[32m+[m[32m   $('.create-form').fadeIn();[m
[32m+[m[32m   $('.background,.initial').addClass('black');[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<div class="enter">入室する</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.enter').click(function(){[m
[32m+[m[32m   $('.enter-form').fadeIn();[m
[32m+[m[32m   $('.background,.initial').addClass('black');[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="create-form">[m
[32m+[m
[32m+[m[32m<div class="cross">[m
[32m+[m[32m<i class="fas fa-times-circle"></i>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.cross').click(function() {[m
[32m+[m[32m      $('.create-form').fadeOut();[m
[32m+[m[32m      $('.background,.initial').removeClass('black');[m
[32m+[m[32m      });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<div class="rule">[m
[32m+[m[32m<h1>ルール設定</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="form">[m
[32m+[m[32m<%= form_tag("/users/create") do %>[m
[32m+[m[41m  [m
[32m+[m[32m<div class="players">[m
[32m+[m[32m  <p>プレーヤー数：</p>[m
[32m+[m[32m  <%= select_tag 'number_of_players', options_for_select(["2", "3", "4"]),class:'player'%>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="members">[m
[32m+[m[32m  <p>　メンバー数：</p>[m
[32m+[m[32m  <%= select_tag 'number_of_members',[m
[32m+[m[32m   options_for_select(["2", "3", "4", "5","6","7","8","9","10","11","12", "13", "14", "15","16","17","18","19","20","21"]),class:'member'%>[m
[32m+[m[32m   <br>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= submit_tag "作成" ,class:'submit'%>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="enter-form">[m
[32m+[m
[32m+[m[32m<div class="cross">[m
[32m+[m[32m<i class="fas fa-times-circle"></i>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.cross').click(function() {[m
[32m+[m[32m      $('.enter-form').fadeOut();[m
[32m+[m[32m      $('.background,.initial').removeClass('black');[m
[32m+[m[32m      });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<div class="room-enter">[m
[32m+[m[32m<h1>ルーム入室</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= form_tag("/users/enter") do %>[m
[32m+[m[32m  <div class="enter-input1">ルームID</div>[m
[32m+[m[32m  <input name="room_id" class="enter-input2">[m
[32m+[m[32m  <input type="submit" value="入室" class="submit">[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="flash">[m
[32m+[m[32m<% if flash[:notice] %>[m
[32m+[m[32m<%= flash[:notice] %>[m
[32m+[m[32m<script>[m
[32m+[m[32mwindow.onload = function(){[m
[32m+[m[32m      $('.flash').delay(1000).fadeOut('slow');[m
[32m+[m[32m    }[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..97167b3[m
[1m--- /dev/null[m
[1m+++ b/app/views/layouts/application.html.erb[m
[36m@@ -0,0 +1,61 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m[32m<html>[m
[32m+[m[32m  <head>[m
[32m+[m[32m    <title>坂道ドラフト</title>[m
[32m+[m[32m    <link rel="icon" href="/947d17.ico">[m
[32m+[m
[32m+[m[32m    <%= csrf_meta_tags %>[m
[32m+[m[32m    <%= csp_meta_tag %>[m
[32m+[m
[32m+[m[32m    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">[m
[32m+[m
[32m+[m[32m    <%= stylesheet_link_tag  'application', media: 'all', 'data-turbolinks-track': 'reload' %>[m
[32m+[m[32m    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">[m
[32m+[m
[32m+[m[32m    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>[m
[32m+[m[32m    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>[m
[32m+[m[32m    <%# <script type="text/javascript" src="ajax.js?ver=1.0"></script> %>[m
[32m+[m[32m  </head>[m
[32m+[m
[32m+[m[32m  <body>[m
[32m+[m[41m    [m
[32m+[m[32m   <div class="body">[m
[32m+[m
[32m+[m[32m   <div class="background">[m
[32m+[m[32m   </div>[m
[32m+[m[32m   <div class="content">[m
[32m+[m[32m    <%= yield %>[m
[32m+[m[32m   </div>[m
[32m+[m[41m   [m
[32m+[m[32m   </div>[m
[32m+[m
[32m+[m[32m  </body>[m
[32m+[m
[32m+[m[32m  <footer>[m
[32m+[m
[32m+[m[32m    <%= link_to  "トップへ", "/" ,class:"footer"%>[m
[32m+[m
[32m+[m
[32m+[m[32m    <% if @current_user %>[m
[32m+[m[32m    <%= @current_user.id %>[m
[32m+[m[41m    [m
[32m+[m[32m    <% if @current_user.name %>[m
[32m+[m[32m    <%= @current_user.name %>[m
[32m+[m[32m    <% end %>[m
[32m+[m
[32m+[m[32m    <% if @current_user.select %>[m
[32m+[m[32m    <%= @current_user.select %>[m
[32m+[m[32m    <% end %>[m
[32m+[m[41m [m
[32m+[m[32m    <% if @current_user.lottery %>[m
[32m+[m[32m    <%= @current_user.lottery %>[m
[32m+[m[32m    <% end %>[m
[32m+[m[32m    <% end %>[m
[32m+[m
[32m+[m[32m    <% if @room = Room.find_by(room_id: session[:room_id]) %>[m
[32m+[m[32m    <%= "next#{@room.next}" %>[m
[32m+[m[32m    <% end %>[m
[32m+[m
[32m+[m[32m  </footer>[m
[32m+[m
[32m+[m[32m</html>[m
[1mdiff --git a/app/views/layouts/mailer.html.erb b/app/views/layouts/mailer.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..cbd34d2[m
[1m--- /dev/null[m
[1m+++ b/app/views/layouts/mailer.html.erb[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m[32m<html>[m
[32m+[m[32m  <head>[m
[32m+[m[32m    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />[m
[32m+[m[32m    <style>[m
[32m+[m[32m      /* Email styles need to be inline */[m
[32m+[m[32m    </style>[m
[32m+[m[32m  </head>[m
[32m+[m
[32m+[m[32m  <body>[m
[32m+[m[32m    <%= yield %>[m
[32m+[m[32m  </body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/app/views/layouts/mailer.text.erb b/app/views/layouts/mailer.text.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..37f0bdd[m
[1m--- /dev/null[m
[1m+++ b/app/views/layouts/mailer.text.erb[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m<%= yield %>[m
[1mdiff --git a/app/views/rooms/announcement.html.erb b/app/views/rooms/announcement.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..9a8dc68[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/announcement.html.erb[m
[36m@@ -0,0 +1,272 @@[m
[32m+[m[32m<% if User.find_by(room_id:session[:room_id],lottery:1) %>[m
[32m+[m[32m<div class="announcement-space">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="announcement-space">[m
[32m+[m[32m<%= "第#{@room.order-1}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<div class="announcement-skip">[m
[32m+[m[32m<%= link_to  "スキップ", "/rooms/#{session[:room_id]}/branch" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-start">[m
[32m+[m[32m<div class="announcement-start-p">START</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<%# ---------------------JS CSS--------------------- %>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.announcement-one .announcement-name,[m
[32m+[m[32m.announcement-two .announcement-name-small{[m
[32m+[m[32m  color: <%=@user1.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m.announcement-three .announcement-name,[m
[32m+[m[32m.announcement-four .announcement-name-small{[m
[32m+[m[32m  color: <%=@user2.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players == 2 %>[m
[32m+[m[32m<script>[m
[32m+[m[32m  function preparation(){[m
[32m+[m[32m   window.location.href = '/rooms/<%=session[:room_id]%>/branch';[m
[32m+[m[32m}[m
[32m+[m[32m $('.announcement-start-p').click(function(){[m
[32m+[m[32m  $('.announcement-start').fadeOut(1000);[m
[32m+[m[32m  $('.announcement-one').delay(0).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-two').delay(2000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-three').delay(5000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-four').delay(7000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  setTimeout("preparation()", 10000);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players == 3 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.announcement-five .announcement-name,[m
[32m+[m[32m.announcement-six .announcement-name-small{[m
[32m+[m[32m  color: <%=@user3.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<script>[m
[32m+[m[32m  function preparation(){[m
[32m+[m[32m   window.location.href = '/rooms/<%=session[:room_id]%>/branch';[m
[32m+[m[32m}[m
[32m+[m[32m $('.announcement-start-p').click(function(){[m
[32m+[m[32m  $('.announcement-start').fadeOut(1000);[m
[32m+[m[32m  $('.announcement-one').delay(0).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-two').delay(2000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-three').delay(5000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-four').delay(7000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-five').delay(10000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-six').delay(12000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  setTimeout("preparation()", 15000);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players == 4 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.announcement-five .announcement-name,[m
[32m+[m[32m.announcement-six .announcement-name-small{[m
[32m+[m[32m  color: <%=@user3.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m.announcement-seven .announcement-name,[m
[32m+[m[32m.announcement-eight .announcement-name-small{[m
[32m+[m[32m  color: <%=@user4.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<script>[m
[32m+[m[32m  function preparation(){[m
[32m+[m[32m   window.location.href = '/rooms/<%=session[:room_id]%>/branch';[m
[32m+[m[32m}[m
[32m+[m[32m $('.announcement-start-p').click(function(){[m
[32m+[m[32m  $('.announcement-start').fadeOut(1000);[m
[32m+[m[32m  $('.announcement-one').delay(0).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-two').delay(2000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-three').delay(5000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-four').delay(7000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-five').delay(10000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-six').delay(12000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-seven').delay(15000).fadeIn(1000).delay(1000).fadeOut(1000);[m
[32m+[m[32m  $('.announcement-eight').delay(17000).fadeIn(1000).delay(2000).fadeOut(1000);[m
[32m+[m[32m  setTimeout("preparation()", 20000);[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<% @user_winning1 = User.find_by(room_id:session[:room_id],lottery:2) %>[m
[32m+[m[32m<% @user_winning2 = User.find_by(room_id:session[:room_id],lottery:4) %>[m
[32m+[m
[32m+[m[32m<div class="announcement">[m
[32m+[m
[32m+[m[32m<%# ---------------------1--------------------- %>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-one">[m
[32m+[m[32m<%= image_tag @user1.logo ,class:'announcement-logo' %>[m
[32m+[m[32m<div class="announcement-name">[m
[32m+[m[32m<%= @user1.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-two">[m
[32m+[m
[32m+[m[32m<div class="announcement-group-small">[m
[32m+[m[32m<%= image_tag @user1.logo ,class:'announcement-logo-small' %>[m
[32m+[m[32m<div class="announcement-name-small">[m
[32m+[m[32m<%= @user1.name %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-member">[m
[32m+[m[32m<% if @user1.lottery == 1 %>[m
[32m+[m[32m<%= @user_winning1.select %>[m
[32m+[m[32m<% @member1 = Member.find_by(name:@user_winning1.select)%>[m
[32m+[m[32m<% elsif @user1.lottery == 3 %>[m
[32m+[m[32m<%= @user_winning2.select %>[m
[32m+[m[32m<% @member1 = Member.find_by(name:@user_winning2.select)%>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= @user1.select %>[m
[32m+[m[32m<% @member1 = Member.find_by(name:@user1.select)%>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-name-team">[m
[32m+[m[32m<%= @member1.team %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<%# ---------------------2--------------------- %>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-three">[m
[32m+[m[32m<%= image_tag @user2.logo ,class:'announcement-logo' %>[m
[32m+[m[32m<div class="announcement-name">[m
[32m+[m[32m<%= @user2.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-four">[m
[32m+[m
[32m+[m[32m<div class="announcement-group-small">[m
[32m+[m[32m<%= image_tag @user2.logo ,class:'announcement-logo-small' %>[m
[32m+[m[32m<div class="announcement-name-small">[m
[32m+[m[32m<%= @user2.name %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-member">[m
[32m+[m[32m<% if @user2.lottery == 1 %>[m
[32m+[m[32m<%= @user_winning1.select %>[m
[32m+[m[32m<% @member2 = Member.find_by(name:@user_winning1.select)%>[m
[32m+[m[32m<% elsif @user2.lottery == 3 %>[m
[32m+[m[32m<%= @user_winning2.select %>[m
[32m+[m[32m<% @member2 = Member.find_by(name:@user_winning2.select)%>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= @user2.select %>[m
[32m+[m[32m<% @member2 = Member.find_by(name:@user2.select)%>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-name-team">[m
[32m+[m[32m<%= @member2.team %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# ---------------------3--------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 3 %>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-five">[m
[32m+[m[32m<%= image_tag @user3.logo ,class:'announcement-logo' %>[m
[32m+[m[32m<div class="announcement-name">[m
[32m+[m[32m<%= @user3.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-six">[m
[32m+[m
[32m+[m[32m<div class="announcement-group-small">[m
[32m+[m[32m<%= image_tag @user3.logo ,class:'announcement-logo-small' %>[m
[32m+[m[32m<div class="announcement-name-small">[m
[32m+[m[32m<%= @user3.name %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-member">[m
[32m+[m[32m<% if @user3.lottery == 1 %>[m
[32m+[m[32m<%= @user_winning1.select %>[m
[32m+[m[32m<% @member3 = Member.find_by(name:@user_winning1.select)%>[m
[32m+[m[32m<% elsif @user3.lottery == 3 %>[m
[32m+[m[32m<%= @user_winning2.select %>[m
[32m+[m[32m<% @member3 = Member.find_by(name:@user_winning2.select)%>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= @user3.select %>[m
[32m+[m[32m<% @member3 = Member.find_by(name:@user3.select)%>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-name-team">[m
[32m+[m[32m<%= @member3.team %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ---------------------4--------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 4 %>[m
[32m+[m
[32m+[m[32m<div class="announcement-background announcement-seven">[m
[32m+[m[32m<%= image_tag @user4.logo ,class:'announcement-logo' %>[m
[32m+[m[32m<div class="announcement-name">[m
[32m+[m[32m<%= @user4.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="announcement-background  announcement-eight">[m
[32m+[m
[32m+[m[32m<div class="announcement-group-small">[m
[32m+[m[32m<%= image_tag @user4.logo ,class:'announcement-logo-small' %>[m
[32m+[m[32m<div class="announcement-name-small">[m
[32m+[m[32m<%= @user4.name %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-member">[m
[32m+[m[32m<% if @user4.lottery == 1 %>[m
[32m+[m[32m<%= @user_winning1.select %>[m
[32m+[m[32m<% @member4 = Member.find_by(name:@user_winning1.select)%>[m
[32m+[m[32m<% elsif @user4.lottery == 3 %>[m
[32m+[m[32m<%= @user_winning2.select %>[m
[32m+[m[32m<% @member4 = Member.find_by(name:@user_winning2.select)%>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= @user4.select %>[m
[32m+[m[32m<% @member4 = Member.find_by(name:@user4.select)%>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="announcement-name-team">[m
[32m+[m[32m<%= @member4.team %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# ---------------------0--------------------- %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[1mdiff --git a/app/views/rooms/chapter.html.erb b/app/views/rooms/chapter.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..2099710[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/chapter.html.erb[m
[36m@@ -0,0 +1,159 @@[m
[32m+[m
[32m+[m[32m<div class="chapter">[m
[32m+[m
[32m+[m[32m<div class="chapter-one">途中経過</div>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.chapter-name-one{[m
[32m+[m[32m  color: <%=@user1.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m.chapter-name-two{[m
[32m+[m[32m  color: <%=@user2.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="chapter-users">[m
[32m+[m
[32m+[m[32m<%# --------------------1-------------------- %>[m
[32m+[m
[32m+[m[32m<div class="chapter-user">[m
[32m+[m
[32m+[m[32m<div class="chapter-name chapter-name-one">[m
[32m+[m[32m<%= @user1.name %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% @draft1s = Draft.where(user_id:@user1.id) %>[m
[32m+[m[32m<% @draft1s.each_with_index do |draft1,i| %>[m
[32m+[m
[32m+[m[32m<div class="chapter-member">[m
[32m+[m[32m<%= "#{i+1}:#{draft1.member_name}" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# --------------------2-------------------- %>[m
[32m+[m
[32m+[m[32m<div class="chapter-user">[m
[32m+[m
[32m+[m[32m<div class="chapter-name chapter-name-two">[m
[32m+[m[32m<%= @user2.name %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% @draft2s = Draft.where(user_id:@user2.id).order(order: :asc) %>[m
[32m+[m[32m<% @draft2s.each_with_index do |draft2,i| %>[m
[32m+[m
[32m+[m[32m<div class="chapter-member">[m
[32m+[m[32m<%= "#{i+1}:#{draft2.member_name}" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%# --------------------3-------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 3 %>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.chapter-name-three{[m
[32m+[m[32m  color: <%=@user3.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="chapter-user">[m
[32m+[m
[32m+[m[32m<div class="chapter-name chapter-name-three">[m
[32m+[m[32m<%= @user3.name %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% @draft3s = Draft.where(user_id:@user3.id).order(order: :asc) %>[m
[32m+[m[32m<% @draft3s.each_with_index do |draft3,i| %>[m
[32m+[m
[32m+[m[32m<div class="chapter-member">[m
[32m+[m[32m<%= "#{i+1}:#{draft3.member_name}" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<%# --------------------4-------------------- %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 4 %>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.chapter-name-four{[m
[32m+[m[32m  color: <%=@user3.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="chapter-user">[m
[32m+[m
[32m+[m[32m<div class="chapter-name chapter-name-four">[m
[32m+[m[32m<%= @user4.name %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% @draft4s = Draft.where(user_id:@user4.id).order(order: :asc) %>[m
[32m+[m[32m<% @draft4s.each_with_index do |draft4,i| %>[m
[32m+[m
[32m+[m[32m<div class="chapter-member">[m
[32m+[m[32m<%= "#{i+1}:#{draft4.member_name}" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%# --------------------0-------------------- %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @draft1s.length <= 10 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.chapter .memo{[m
[32m+[m[32m  height: 160px;[m
[32m+[m[32m}[m
[32m+[m[32m.chapter .chapter-member{[m
[32m+[m[32m  font-size: 12px;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<% elsif @draft1s.length <= 15 %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.chapter .memo{[m
[32m+[m[32m  height: 140px;[m
[32m+[m[32m}[m
[32m+[m[32m.chapter-member{[m
[32m+[m[32m  font-size: 10px;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<style>[m
[32m+[m[32m.chapter .memo{[m
[32m+[m[32m  height: 100px;[m
[32m+[m[32m}[m
[32m+[m[32m.chapter-member{[m
[32m+[m[32m  font-size: 8px;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<%= form_tag("/rooms/#{session[:room_id]}/next") do %>[m
[32m+[m[32m<div class="chapter-p">メモ</div>[m
[32m+[m[32m<textarea name="memo" class="memo">[m
[32m+[m[32m<%= @current_user.memo %>[m
[32m+[m[32m</textarea>[m
[32m+[m[32m<br>[m
[32m+[m[32m<input type="submit" value= "<%= "第#{@room.order}巡選択へ" %>" class="chapter-submit">[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/views/rooms/group.html.erb b/app/views/rooms/group.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..a9ae3db[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/group.html.erb[m
[36m@@ -0,0 +1,206 @@[m
[32m+[m[32m<div class="group">[m
[32m+[m
[32m+[m[32m<div class="initial">[m
[32m+[m
[32m+[m[32m<div class="group-one">[m
[32m+[m[32m<h1>グループ設定</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="flash">[m
[32m+[m[32m<% if flash[:notice] %>[m
[32m+[m[32m<%= flash[:notice] %>[m
[32m+[m[32m<script>[m
[32m+[m[32mwindow.onload = function(){[m
[32m+[m[32m      $('.flash').delay(1000).fadeOut('slow');[m
[32m+[m[32m    }[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= form_tag("/rooms/#{session[:room_id]}/group_confirm") do %>[m
[32m+[m
[32m+[m[32m  <div class="group-two">グループ名</div>[m
[32m+[m[32m  <div class="name-form">[m
[32m+[m[32m  <input name="name" placeholder="４字以下" class="name-input">[m
[32m+[m[32m  <div class="group-three">坂46</div>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <div class="group-two">グループロゴ</div>[m
[32m+[m[41m  [m
[32m+[m[32m  <div class="group-logos">[m
[32m+[m[41m  [m
[32m+[m[32m  <%# 紫 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/812990.png', id:'812990', class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 青 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/192f60.png', id:'192f60' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 水色 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/7cc8e9.png', id:'7cc8e9' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# ターコイズ %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/009b9f.png' , id:'009b9f' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 緑 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/00552e.png' , id:'00552e' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 黄緑 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/5eb954.png'  , id:'5EB954' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 黄色 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/ffdc28.png' , id:'ffdc28',class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# オレンジ %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/ee7800.png' , id:'ee7800' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# ピンク %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/eb6ea0.png', id:'eb6ea0' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 赤 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/e60033.png', id:'e60033',class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 黒 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/333333.png' , id:'333333' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m[41m  [m
[32m+[m[32m  <%# 白 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/ffffff.png' , id:'ffffff' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 金 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/947d17.png' , id:'947d17' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m[32m  <%# 銀 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/c0c0c0.png' , id:'c0c0c0' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m[41m  [m
[32m+[m[32m  <%# 銅 %>[m
[32m+[m[32m  <div class="group-logo">[m
[32m+[m[32m  <%= image_tag '/logo/b87333.png' , id:'b87333' ,class:'group-logo-size' %>[m
[32m+[m[32m  </div>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @current_user.color %>[m
[32m+[m[32m<script>[m
[32m+[m[32mwindow.addEventListener('load',function(){[m
[32m+[m[32m  $('.group-logos > .group-logo').addClass('group-logo-nonselect');[m
[32m+[m[32m  $('#<%=@current_user.color[1..7]%>').parent().addClass('group-logo-select');[m
[32m+[m[32m});[m
[32m+[m[32m</script>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<script>[m
[32m+[m[32m  window.addEventListener('load',function(){[m
[32m+[m[32m    $('.group-logos > .group-logo').addClass('group-logo-nonselect');[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.group-logo').click(function(){[m
[32m+[m[32m   $('.group-logos > .group-logo').removeClass('group-logo-select');[m
[32m+[m[32m  $(this).addClass('group-logo-select');[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="group-submit">決定</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.group-submit').click(function(){[m
[32m+[m
[32m+[m[32m   var name = $('.name-input').val();[m
[32m+[m
[32m+[m[32m   if(name){[m
[32m+[m[32m     if(name.length <= 4){[m
[32m+[m[32m        $('.group-confirm-name').text(`${name}坂`);[m
[32m+[m[32m     }else{[m
[32m+[m[32m        $('.name-input').val("");[m
[32m+[m[32m        $('.flash').text("４文字以下で入力してください");[m
[32m+[m[32m        $('.flash').show().delay(1000).fadeOut('slow');[m
[32m+[m[32m        return;[m
[32m+[m[32m      }[m
[32m+[m[32m    }else{[m
[32m+[m[32m        $('.flash').text("グループ名を入力してください");[m
[32m+[m[32m        $('.flash').show().delay(1000).fadeOut('slow');[m
[32m+[m[32m        return;[m
[32m+[m[32m    }[m
[32m+[m[41m   [m
[32m+[m
[32m+[m[32m   var color = $('.group-logo-select > .group-logo-size').attr('id');[m
[32m+[m
[32m+[m[32m   if(color){[m
[32m+[m[32m     $('.group-confirm-triangle').attr('src',`/logo/${color}.png`);[m
[32m+[m[32m     $('.color-input').val(`#${color}`);[m
[32m+[m
[32m+[m[32m     if(color == 'ffffff'){[m
[32m+[m[32m        $('.group-confirm-name').css('color','#333333');[m
[32m+[m[32m     }else{[m
[32m+[m[32m       $('.group-confirm-name').css('color',`#${color}`);[m
[32m+[m[32m     }[m
[32m+[m
[32m+[m[32m   }else{[m
[32m+[m[32m     $('.flash').text("グループロゴを選択してください");[m
[32m+[m[32m     $('.flash').show().delay(1000).fadeOut('slow');[m
[32m+[m[32m      return;[m
[32m+[m[32m   }[m
[32m+[m[41m  [m
[32m+[m[32m   $('.background,.initial').delay().addClass('black');[m
[32m+[m[32m   $('.group-confirm').delay().fadeIn();[m
[32m+[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<input name="color" class="color-input">[m
[32m+[m
[32m+[m[32m<div class="group-confirm">[m
[32m+[m
[32m+[m[32m<div class="group-confirm-logo">[m
[32m+[m[32m<img src="/logo/812990.png", class="group-confirm-triangle">[m
[32m+[m[32m<div class="group-confirm-name">[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="group-confirm-select">[m
[32m+[m[32m<div class="group-confirm-cancel">キャンセル</div>[m
[32m+[m[32m<input type="submit" value="OK" class="group-confirm-ok">[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.group-confirm-cancel').click(function(){[m
[32m+[m[32m   $('.background,.initial').removeClass('black');[m
[32m+[m[32m   $('.group-confirm').fadeOut();[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/views/rooms/matching.html.erb b/app/views/rooms/matching.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..dbef974[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/matching.html.erb[m
[36m@@ -0,0 +1,81 @@[m
[32m+[m
[32m+[m[32m<div class="matching">[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="matching-two">[m
[32m+[m[32m<h2>ルームID</h2>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="matching">[m
[32m+[m[32m<%= @room.room_id %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="matching-three">[m
[32m+[m[32m<h3>-ルール-</h3>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="room-rule">[m
[32m+[m[32m<%= "プレーヤー数:　#{@room.number_of_players}人"%><br>[m
[32m+[m[32m<%= "メンバー数:　#{@room.number_of_members}人" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="matching-four">[m
[32m+[m[32m<h4>マッチング中．．．</h4>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= image_tag '/logo/947d17.png' ,class:'rotation' %>[m
[32m+[m
[32m+[m[32m<div id="ajaxreload">[m
[32m+[m[32m<% @users = User.where(room_id: session[:room_id]) %>[m
[32m+[m[32m<div class="now-member">[m
[32m+[m[32m<%= "#{@users.length}人" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="number-of-members">[m
[32m+[m[32m<%= "/#{@room.number_of_players}人"%>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32mwindow.addEventListener('load',function(){[m
[32m+[m[32m  setInterval('location.reload()',3000);[m
[32m+[m[32m});[m
[32m+[m[32m// function dojQueryAjax() {[m
[32m+[m[32m//     $.ajax({[m
[32m+[m[32m//         type: "get",[m
[32m+[m[32m//         url: "matching.html.erb",[m[41m [m
[32m+[m[32m//         date: "html"[m
[32m+[m[32m//         cache: false,[m[41m [m
[32m+[m[32m//         success: function (data) {[m
[32m+[m[32m//             $('#ajaxreload').html(data);[m
[32m+[m[32m//         },[m
[32m+[m[32m//         error: function () {[m
[32m+[m[32m//             // alert("通信エラー");[m
[32m+[m[32m//         }[m
[32m+[m[32m//     });[m
[32m+[m[32m// }[m
[32m+[m[32m// window.addEventListener('load', function () {[m
[32m+[m[32m//     setInterval(dojQueryAjax, 3000);[m
[32m+[m[32m// });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @current_user.id == @room.user1 %>[m
[32m+[m[32m<div class="cancel">[m
[32m+[m[32m<%= link_to "/users/delete", {method: "post"}  do %>[m
[32m+[m[32m<i class="fas fa-times"></i> ルーム削除[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="cancel">[m
[32m+[m[32m<%= link_to "/users/cancel", {method: "post"}  do %>[m
[32m+[m[32m<i class="fas fa-times"></i> キャンセル[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m</div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/rooms/meeting.html.erb b/app/views/rooms/meeting.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..8b88a59[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/meeting.html.erb[m
[36m@@ -0,0 +1,39 @@[m
[32m+[m
[32m+[m[32m<div class="meeting">[m
[32m+[m
[32m+[m
[32m+[m[32m<%= image_tag '/under-construction.png' ,class:'meeting-img1' %>[m
[32m+[m
[32m+[m[32m<div class="under-construction">[m
[32m+[m[32m<%= "#{@current_user.name[0..-3]}会議中" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= image_tag '/under-construction.png' ,class:'meeting-img2' %>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="meeting-nogi">[m
[32m+[m[32m<a href="https://www.nogizaka46.com/member/" target="_blank">乃木坂46メンバー</a>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="meeting-keyaki">[m
[32m+[m[32m<a href="https://www.keyakizaka46.com/s/k46o/search/artist" target="_blank">欅坂46メンバー　</a>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="meeting-hinata">[m
[32m+[m[32m<a href="https://www.hinatazaka46.com/s/official/search/artist?ima=0000&link=ROBO004" target="_blank">日向坂46メンバー</a>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<%= form_tag("/rooms/#{session[:room_id]}/select") do %>[m
[32m+[m
[32m+[m[32m<div class="meeting-p">メモ</div>[m
[32m+[m
[32m+[m[32m<textarea name="memo" class="memo">[m
[32m+[m[32m<%= @current_user.memo %>[m
[32m+[m[32m</textarea>[m
[32m+[m
[32m+[m[32m<input type="submit" value="選択へ" class="meeting-submit" >[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/rooms/result.html.erb b/app/views/rooms/result.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..34c5654[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/result.html.erb[m
[36m@@ -0,0 +1,81 @@[m
[32m+[m[32m<div class="result">[m
[32m+[m
[32m+[m[32m<div class="result-one">[m
[32m+[m[32m<%= "第#{@room.order-1}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.result-user1{[m
[32m+[m[32m  color: <%=@user1.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m.result-user2{[m
[32m+[m[32m  color: <%=@user2.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="result-user">[m
[32m+[m[32m<div class="result-name result-user1">[m
[32m+[m[32m<%= "#{@user1.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="result-member">[m
[32m+[m[32m<%= @user1.select %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="result-user">[m
[32m+[m[32m<div class="result-name result-user2">[m
[32m+[m[32m<%= "#{@user2.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="result-member">[m
[32m+[m[32m<%= @user2.select %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 3 %>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.result-user3{[m
[32m+[m[32m  color: <%=@user3.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="result-user">[m
[32m+[m[32m<div class="result-name result-user3">[m
[32m+[m[32m<%= "#{@user3.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="result-member">[m
[32m+[m[32m<%= @user3.select %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 4 %>[m
[32m+[m
[32m+[m[32m<style>[m
[32m+[m[32m.result-user4{[m
[32m+[m[32m  color: <%=@user4.color%>;[m
[32m+[m[32m}[m
[32m+[m[32m</style>[m
[32m+[m
[32m+[m[32m<div class="result-user">[m
[32m+[m[32m<div class="result-name result-user4">[m
[32m+[m[32m<%= "#{@user4.name}：" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<div class="result-member">[m
[32m+[m[32m<%= @user4.select %>[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<% if (@room.order - 1) == @room.number_of_members %>[m
[32m+[m[32m<div class="result-formation">[m
[32m+[m[32m<%= link_to  "フォーメーション設定へ", "/rooms/#{session[:room_id]}/formation" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="result-chapter">[m
[32m+[m[32m<%= link_to  "途中経過へ" , "/rooms/#{session[:room_id]}/chapter" %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[1mdiff --git a/app/views/rooms/select.html.erb b/app/views/rooms/select.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..91c5052[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/select.html.erb[m
[36m@@ -0,0 +1,120 @@[m
[32m+[m[32m<div class="select">[m
[32m+[m
[32m+[m[32m<div class="initial">[m
[32m+[m
[32m+[m[32m<div class="flash">[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-one">[m
[32m+[m[32m<h1>セレクト画面</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-member">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<%= form_tag("/rooms/#{session[:room_id]}/decide")  do %>[m
[32m+[m[32m<select id="select" name="select"  size=5 class="select-members">[m
[32m+[m
[32m+[m[32m  <option disabled>-----乃木坂46-----</option>[m
[32m+[m[32m  <% @nogi_members = Member.where(team:"乃木坂46") %>[m
[32m+[m
[32m+[m[32m  <% @nogi_members.each do |member| %>[m
[32m+[m[32m    <% if @draft_now = Draft.find_by(member_name: member.name,room_id:session[:room_id])%>[m
[32m+[m[32m    <% @user_now = User.find_by(id: @draft_now.user_id) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m
[32m+[m[32m    <% else %>[m
[32m+[m[32m    <option><%= member.name %></option>[m
[32m+[m[32m    <% end%>[m
[32m+[m[32m  <% end%>[m
[32m+[m
[32m+[m[32m  <option disabled>-----欅坂46-----</option>[m
[32m+[m[32m  <% @keyaki_members = Member.where(team:"欅坂46") %>[m
[32m+[m
[32m+[m[32m  <% @keyaki_members.each do |member| %>[m
[32m+[m[32m    <% if @draft_now = Draft.find_by(member_name: member.name,room_id:session[:room_id])%>[m
[32m+[m[32m    <% @user_now = User.find_by(id: @draft_now.user_id) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m
[32m+[m[32m    <% else %>[m
[32m+[m[32m    <option><%= member.name %></option>[m
[32m+[m[32m    <% end%>[m
[32m+[m[32m  <% end%>[m
[32m+[m
[32m+[m[32m  <option disabled>-----日向坂46-----</option>[m
[32m+[m[32m  <% @hinata_members = Member.where(team:"日向坂46") %>[m
[32m+[m
[32m+[m[32m  <% @hinata_members.each do |member| %>[m
[32m+[m[32m    <% if @draft_now = Draft.find_by(member_name: member.name,room_id:session[:room_id])%>[m
[32m+[m[32m    <% @user_now = User.find_by(id: @draft_now.user_id) %>[m
[32m+[m[32m    <option disabled><%= "#{member.name}:#{@user_now.name}" %></option>[m
[32m+[m[32m    <% else %>[m
[32m+[m[32m    <option><%= member.name %></option>[m
[32m+[m[32m    <% end%>[m
[32m+[m[32m  <% end%>[m
[32m+[m
[32m+[m
[32m+[m[32m</select>[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="select-p">メモ</div>[m
[32m+[m
[32m+[m[32m<textarea name="memo" class="memo">[m
[32m+[m[32m<%= @current_user.memo %>[m
[32m+[m[32m</textarea>[m
[32m+[m
[32m+[m[32m<div class="select-submit">選択</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.select-submit').click(function(){[m
[32m+[m[32m   var select = $('.select-members').val();[m
[32m+[m[32m   if(select){[m
[32m+[m[32m     $('.select-confirm-member').text(select);[m
[32m+[m[32m   }else{[m
[32m+[m[32m    $('.flash').text("メンバーを選択してください");[m
[32m+[m[32m    $('.flash').show().delay(1000).fadeOut('slow');[m
[32m+[m[32m    return;[m
[32m+[m[32m   }[m
[32m+[m
[32m+[m[32m   $('.select-confirm').delay().fadeIn();[m
[32m+[m[32m   $('.background,.initial').delay().addClass('black');[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m<div class="select-confirm">[m
[32m+[m
[32m+[m[32m<div class="select-confirm-one">[m
[32m+[m[32m<h1>セレクト確認</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-name">[m
[32m+[m[32m<%= @current_user.name %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-order">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-member">[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="select-confirm-select">[m
[32m+[m[32m<div class="select-confirm-cancel">キャンセル</div>[m
[32m+[m[32m<script>[m
[32m+[m[32m $('.select-confirm-cancel').click(function(){[m
[32m+[m[32m   $('.select-confirm').fadeOut();[m
[32m+[m[32m   $('.background,.initial').removeClass('black');[m
[32m+[m[32m   $('.select-confirm-member').text("");[m
[32m+[m[32m  });[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<input type="submit" value="OK" class="select-confirm-ok">[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/rooms/wait.html.erb b/app/views/rooms/wait.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..6a9b839[m
[1m--- /dev/null[m
[1m+++ b/app/views/rooms/wait.html.erb[m
[36m@@ -0,0 +1,85 @@[m
[32m+[m[32m<div class="wait">[m
[32m+[m
[32m+[m[32m<div class="wait-one">[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="wait-member">[m
[32m+[m[32m<div class="wait-name">[m
[32m+[m[32m<% if @user1.name %>[m
[32m+[m[32m<%= "#{@user1.name}：" %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m名称未設定：[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% if @user1.select %>[m
[32m+[m[32m<div class="wait-select">選択済</div>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<div class="wait-selectnow">選択中</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="wait-member">[m
[32m+[m[32m<div class="wait-name">[m
[32m+[m[32m<% if @user2.name %>[m
[32m+[m[32m<%= "#{@user2.name}：" %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m名称未設定：[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% if @user2.select %>[m
[32m+[m[32m<div class="wait-select">選択済</div>[m
[32m+[m[32m<% else %>[m
[32m+[m
[32m+[m[32m<div class="wait-selectnow">選択中</div>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 3 %>[m
[32m+[m[32m<div class="wait-member">[m
[32m+[m[32m<div class="wait-name">[m
[32m+[m[32m<% if @user3.name %>[m
[32m+[m[32m<%= "#{@user3.name}：" %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m名称未設定：[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% if @user3.select %>[m
[32m+[m[32m<div class="wait-select">選択済</div>[m
[32m+[m[32m<% else %>[m
[32m+[m
[32m+[m[32m<div class="wait-selectnow">選択中</div>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m
[32m+[m[32m<% if @room.number_of_players >= 4 %>[m
[32m+[m[32m<div class="wait-member">[m
[32m+[m[32m<div class="wait-name">[m
[32m+[m[32m<% if @user4.name %>[m
[32m+[m[32m<%= "#{@user4.name}：" %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m名称未設定：[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% if @user4.select %>[m
[32m+[m[32m<div class="wait-select">選択済</div>[m
[32m+[m[32m<% else %>[m
[32m+[m
[32m+[m[32m<div class="wait-selectnow">選択中</div>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<script>[m
[32m+[m[32mwindow.addEventListener('load',function(){[m
[32m+[m[32m  setInterval('location.reload()',3000);[m
[32m+[m[32m});[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m
[1mdiff --git a/app/views/trash/group_confirm.html.erb b/app/views/trash/group_confirm.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..bb9f6f3[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/group_confirm.html.erb[m
[36m@@ -0,0 +1,32 @@[m
[32m+[m[32m<div class="group-confirm">[m
[32m+[m
[32m+[m[32m<div class="group-confirm-one">[m
[32m+[m[32m<h1>グループ確認</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="group-confirm-logo">[m
[32m+[m
[32m+[m[32m<%= image_tag '/logo/812990.png' ,class:'group-confirm-triangle' %>[m
[32m+[m
[32m+[m[32m<div class="group-confirm-name">[m
[32m+[m[32m<%= @current_user.name[0..-3] %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="group-confirm-select">[m
[32m+[m
[32m+[m[32m<%= link_to "/rooms/:room_id/group_cancel", {method: "post"}  do %>[m
[32m+[m[32m<div class="group-confirm-cancel">キャンセル[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%= link_to "/rooms/:room_id/meeting" do %>[m
[32m+[m[32m<div class="group-confirm-ok">OK[m
[32m+[m[32m</div>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/trash/lottery.html.erb b/app/views/trash/lottery.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..8b13789[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/lottery.html.erb[m
[36m@@ -0,0 +1 @@[m
[32m+[m
[1mdiff --git a/app/views/trash/lottery_second.html.erb b/app/views/trash/lottery_second.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..08d154e[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/lottery_second.html.erb[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32m<h1>競合抽選</h1>[m
[32m+[m[32m<% @user = User.find_by(lottery:0) %>[m
[32m+[m[32m<%= @user.select %>[m
[32m+[m
[32m+[m[32m<% if @current_user.lottery == 0 %>[m
[32m+[m[32m<p>当たりだよ</p>[m
[32m+[m
[32m+[m[32m<% elsif @current_user.lottery == 2 %>[m
[32m+[m[32m<p>外れだよ</p>[m
[32m+[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<% @users = User.where(room_id: session[:room_id]).where(lottery = 2).or(User.where(room_id: session[:room_id]).where(lottery = 0))%>[m
[32m+[m
[32m+[m[32m  <% @users.each do |user| %>[m
[32m+[m[32m    <%= user.name %>[m
[32m+[m[32m    <% if user.lottery == 0 %>[m
[32m+[m[32m      当たり[m
[32m+[m[32m    <% else %>[m
[32m+[m[32m      外れ[m
[32m+[m[32m    <% end %>[m
[32m+[m[32m  <% end %>[m
[32m+[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<% elsif @current_user.select %>[m
[32m+[m[32m<%= link_to  "選択へ", "/rooms/#{session[:room_id]}/lottery_result_second" ,{method: "post"} %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= link_to  "選択を待つ", "/rooms/#{session[:room_id]}/second_wait",{method: "post"}  %>[m
[32m+[m[32m<% end %>[m
[1mdiff --git a/app/views/trash/next.html.erb b/app/views/trash/next.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..6915df7[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/next.html.erb[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m<%=  %>[m
[32m+[m
[32m+[m[32m<%= @user1.name %>[m
[32m+[m[32m<br>[m
[32m+[m[32m<% @drafts1.each do |draft| %>[m
[32m+[m[32m<%= draft.member_name %>[m
[32m+[m[32m<br>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m<%= @user1.select %>[m
[32m+[m[32m<br>[m
[32m+[m
[32m+[m[32m<% if (@room.order - 1) == @room.number_of_members %>[m
[32m+[m[32m<%= link_to  "フォーメーション設定へ", "rooms/#{session[:room_id]}/formation" %>[m
[32m+[m[32m<% else %>[m
[32m+[m[32m<%= form_tag("/rooms/#{session[:room_id]}/select") do %>[m
[32m+[m[32m<p>メモ</p>[m
[32m+[m[32m<textarea name="memo"></textarea>[m
[32m+[m[32m<br>[m
[32m+[m[32m<input type="submit" value= "<%= "第#{@room.order}巡選択へ" %>" >[m
[32m+[m[32m<% end %>[m
[32m+[m[32m<% end %>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/trash/second_select_confirm.html.erb b/app/views/trash/second_select_confirm.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..8d9fb2e[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/second_select_confirm.html.erb[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m<h1>セレクト確認</h1>[m
[32m+[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= @current_user.name %>[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= @current_user.select_beta %>[m
[32m+[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= link_to  "OK", "/drafts/:room_id/second_decide",{method: "post"} %>[m
[32m+[m[32m<%= link_to  "キャンセル", "/drafts/:room_id/second_select_cancel", {method: "post"} %>[m
[1mdiff --git a/app/views/trash/select_confirm.html.erb b/app/views/trash/select_confirm.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..2126945[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/select_confirm.html.erb[m
[36m@@ -0,0 +1,30 @@[m
[32m+[m[32m<h1>セレクト確認</h1>[m
[32m+[m
[32m+[m[32m<%= "第#{@room.order}巡選択希望メンバー" %>[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= @current_user.name %>[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= @current_user.select_beta %>[m
[32m+[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= link_to  "OK", "/rooms/:room_id/decide",{method: "post"} %>[m
[32m+[m[32m<%= link_to  "キャンセル", "/rooms/:room_id/select_cancel", {method: "post"} %>[m
[32m+[m
[32m+[m[32m# def select_confirm[m
[32m+[m[32m#   if params[:select][m
[32m+[m[32m#     @current_user.select_beta = params[:select][m
[32m+[m[32m#     @current_user.save[m
[32m+[m[32m#   elsif params[:select].nil? && @current_user.select_beta.nil?[m
[32m+[m[32m#     @members = Member.all[m
[32m+[m[32m#     flash[:notice] = "メンバーを選択してください"[m
[32m+[m[32m#     redirect_to("/rooms/:room_id/select")[m
[32m+[m[32m#   elsif  @current_user.select_beta[m
[32m+[m
[32m+[m[32m#   end[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m# def select_cancel[m
[32m+[m[32m#   @current_user.select_beta = nil[m
[32m+[m[32m#   @current_user.save[m
[32m+[m[32m#   redirect_to("/rooms/:room_id/select")[m
[32m+[m[32m# end[m
\ No newline at end of file[m
[1mdiff --git a/app/views/trash/users/captain.html.erb b/app/views/trash/users/captain.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..cbaedc2[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/users/captain.html.erb[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m
[32m+[m[32m<div class="page">[m
[32m+[m
[32m+[m[32m<div class="page">[m
[32m+[m
[32m+[m[32m<div class="rule">[m
[32m+[m[32m<h1>ルール設定</h1>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="form">[m
[32m+[m[32m<%= form_tag("/users/create_confirm") do %>[m
[32m+[m[41m  [m
[32m+[m[32m<div class="players">[m
[32m+[m[32m  <p>プレーヤー数：</p>[m
[32m+[m[32m  <%= select_tag 'number_of_players', options_for_select(["2", "3", "4"]),class:'player'%>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m<div class="members">[m
[32m+[m[32m  <p>　メンバー数：</p>[m
[32m+[m[32m  <%= select_tag 'number_of_members',[m
[32m+[m[32m   options_for_select(["2", "3", "4", "5","6","7","8","9","10","11","12", "13", "14", "15","16","17","18","19","20","21"]),class:'member'%>[m
[32m+[m[32m   <br>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m  <%= submit_tag "作成" ,class:'submit'%>[m
[32m+[m[32m<% end %>[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[32m+[m[32m</div>[m
\ No newline at end of file[m
[1mdiff --git a/app/views/trash/users/create_confirm.html.erb b/app/views/trash/users/create_confirm.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..5de14b9[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/users/create_confirm.html.erb[m
[36m@@ -0,0 +1,44 @@[m
[32m+[m
[32m+[m[32m<script type="text/javascript">[m
[32m+[m[32mwindow.addEventListener('beforeunload', function(e) {[m
[32m+[m[32m    e.returnValue = 'ページをから離れると、\nデータが失われゲームが続行できなくなる可能性があります。';[m
[32m+[m[32m}, false);[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m# def captain[m
[32m+[m[32m#   reset_session[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m# def new[m
[32m+[m[32m#   reset_session[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m# def create_confirm[m
[32m+[m[32m#   if Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m#     @room = Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m#   else[m
[32m+[m[41m    [m
[32m+[m[32m#   end[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m# def create_cancel[m
[32m+[m[32m#   @room = Room.find_by(room_id: session[:room_id])[m
[32m+[m[32m#   @room.destroy[m
[32m+[m[32m#   reset_session[m
[32m+[m[32m#   redirect_to("/users/captain")[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m<div class="page">[m
[32m+[m
[32m+[m[32m<div class="confirm">設定確認</div>[m
[32m+[m
[32m+[m[32m<%= "プレーヤー数:#{@room.number_of_players}人"%>[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= "メンバー数:#{@room.number_of_members}人"%>[m
[32m+[m
[32m+[m[32m<br>[m
[32m+[m[32m<%= link_to  "OK", "/users/create", {method: "post"}  %>[m
[32m+[m[32m<%= link_to  "キャンセル", "/users/create_cancel", {method: "post"} %>[m
[32m+[m
[32m+[m[32m</div>[m
[32m+[m
[1mdiff --git a/app/views/trash/users/new.html.erb b/app/views/trash/users/new.html.erb[m
[1mnew file mode 100644[m
[1mindex 0000000..c126e87[m
[1m--- /dev/null[m
[1m+++ b/app/views/trash/users/new.html.erb[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32m<h1>ルーム入室</h1>[m
[32m+[m
[32m+[m[32m<% if flash[:notice] %>[m
[32m+[m[32m<%=  flash[:notice] %>[m
[32m+[m[32m<% end %>[m
[32m+[m
[32m+[m[32m<%= form_tag("/users/enter") do %>[m
[32m+[m[32m  <p>ルームID</p>[m
[32m+[m[32m  <input name="room_id">[m
[32m+[m[32m  <br>[m
[32m+[m[32m  <input type="submit" value="入室">[m
[32m+[m[32m<% end %>[m
[1mdiff --git a/bin/bundle b/bin/bundle[m
[1mnew file mode 100644[m
[1mindex 0000000..8d5f7a5[m
[1m--- /dev/null[m
[1m+++ b/bin/bundle[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m#!/usr/bin/env ruby.exe[m
[32m+[m[32mENV['BUNDLE_GEMFILE'] ||= File.expand_path('../Gemfile', __dir__)[m
[32m+[m[32mload Gem.bin_path('bundler', 'bundle')[m
[1mdiff --git a/bin/rails b/bin/rails[m
[1mnew file mode 100644[m
[1mindex 0000000..bec72ac[m
[1m--- /dev/null[m
[1m+++ b/bin/rails[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32m#!/usr/bin/env ruby.exe[m
[32m+[m[32mAPP_PATH = File.expand_path('../config/application', __dir__)[m
[32m+[m[32mrequire_relative '../config/boot'[m
[32m+[m[32mrequire 'rails/commands'[m
[1mdiff --git a/bin/rake b/bin/rake[m
[1mnew file mode 100644[m
[1mindex 0000000..f6ed5a2[m
[1m--- /dev/null[m
[1m+++ b/bin/rake[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32m#!/usr/bin/env ruby.exe[m
[32m+[m[32mrequire_relative '../config/boot'[m
[32m+[m[32mrequire 'rake'[m
[32m+[m[32mRake.application.run[m
[1mdiff --git a/bin/setup b/bin/setup[m
[1mnew file mode 100644[m
[1mindex 0000000..237a371[m
[1m--- /dev/null[m
[1m+++ b/bin/setup[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32m#!/usr/bin/env ruby.exe[m
[32m+[m[32mrequire 'fileutils'[m
[32m+[m[32minclude FileUtils[m
[32m+[m
[32m+[m[32m# path to your application root.[m
[32m+[m[32mAPP_ROOT = File.expand_path('..', __dir__)[m
[32m+[m
[32m+[m[32mdef system!(*args)[m
[32m+[m[32m  system(*args) || abort("\n== Command #{args} failed ==")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mchdir APP_ROOT do[m
[32m+[m[32m  # This script is a starting point to setup your application.[m
[32m+[m[32m  # Add necessary setup steps to this file.[m
[32m+[m
[32m+[m[32m  puts '== Installing dependencies =='[m
[32m+[m[32m  system! 'gem install bundler --conservative'[m
[32m+[m[32m  system('bundle check') || system!('bundle install')[m
[32m+[m
[32m+[m[32m  # Install JavaScript dependencies if using Yarn[m
[32m+[m[32m  # system('bin/yarn')[m
[32m+[m
[32m+[m[32m  # puts "\n== Copying sample files =="[m
[32m+[m[32m  # unless File.exist?('config/database.yml')[m
[32m+[m[32m  #   cp 'config/database.yml.sample', 'config/database.yml'[m
[32m+[m[32m  # end[m
[32m+[m
[32m+[m[32m  puts "\n== Preparing database =="[m
[32m+[m[32m  system! 'bin/rails db:setup'[m
[32m+[m
[32m+[m[32m  puts "\n== Removing old logs and tempfiles =="[m
[32m+[m[32m  system! 'bin/rails log:clear tmp:clear'[m
[32m+[m
[32m+[m[32m  puts "\n== Restarting application server =="[m
[32m+[m[32m  system! 'bin/rails restart'[m
[32m+[m[32mend[m
[1mdiff --git a/bin/update b/bin/update[m
[1mnew file mode 100644[m
[1mindex 0000000..1db4ab5[m
[1m--- /dev/null[m
[1m+++ b/bin/update[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m#!/usr/bin/env ruby.exe[m
[32m+[m[32mrequire 'fileutils'[m
[32m+[m[32minclude FileUtils[m
[32m+[m
[32m+[m[32m# path to your application root.[m
[32m+[m[32mAPP_ROOT = File.expand_path('..', __dir__)[m
[32m+[m
[32m+[m[32mdef system!(*args)[m
[32m+[m[32m  system(*args) || abort("\n== Command #{args} failed ==")[m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32mchdir APP_ROOT do[m
[32m+[m[32m  # This script is a way to update your development environment automatically.[m
[32m+[m[32m  # Add necessary update steps to this file.[m
[32m+[m
[32m+[m[32m  puts '== Installing dependencies =='[m
[32m+[m[32m  system! 'gem install bundler --conservative'[m
[32m+[m[32m  system('bundle check') || system!('bundle install')[m
[32m+[m
[32m+[m[32m  # Install JavaScript dependencies if using Yarn[m
[32m+[m[32m  # system('bin/yarn')[m
[32m+[m
[32m+[m[32m  puts "\n== Updating database =="[m
[32m+[m[32m  system! 'bin/rails db:migrate'[m
[32m+[m
[32m+[m[32m  puts "\n== Removing old logs and tempfiles =="[m
[32m+[m[32m  system! 'bin/rails log:clear tmp:clear'[m
[32m+[m
[32m+[m[32m  puts "\n== Restarting application server =="[m
[32m+[m[32m  system! 'bin/rails restart'[m
[32m+[m[32mend[m
[1mdiff --git a/bin/yarn b/bin/yarn[m
[1mnew file mode 100644[m
[1mindex 0000000..3389822[m
[1m--- /dev/null[m
[1m+++ b/bin/yarn[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m#!/usr/bin/env ruby.exe[m
[32m+[m[32mAPP_ROOT = File.expand_path('..', __dir__)[m
[32m+[m[32mDir.chdir(APP_ROOT) do[m
[32m+[m[32m  begin[m
[32m+[m[32m    exec "yarnpkg", *ARGV[m
[32m+[m[32m  rescue Errno::ENOENT[m
[32m+[m[32m    $stderr.puts "Yarn executable was not detected in the system."[m
[32m+[m[32m    $stderr.puts "Download Yarn at https://yarnpkg.com/en/docs/install"[m
[32m+[m[32m    exit 1[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/config.ru b/config.ru[m
[1mnew file mode 100644[m
[1mindex 0000000..f7ba0b5[m
[1m--- /dev/null[m
[1m+++ b/config.ru[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m# This file is used by Rack-based servers to start the application.[m
[32m+[m
[32m+[m[32mrequire_relative 'config/environment'[m
[32m+[m
[32m+[m[32mrun Rails.application[m
[1mdiff --git a/config/application.rb b/config/application.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..94a333c[m
[1m--- /dev/null[m
[1m+++ b/config/application.rb[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32mrequire_relative 'boot'[m
[32m+[m
[32m+[m[32mrequire 'rails/all'[m
[32m+[m
[32m+[m[32m# Require the gems listed in Gemfile, including any gems[m
[32m+[m[32m# you've limited to :test, :development, or :production.[m
[32m+[m[32mBundler.require(*Rails.groups)[m
[32m+[m
[32m+[m[32mmodule SubApp[m
[32m+[m[32m  class Application < Rails::Application[m
[32m+[m[32m    # Initialize configuration defaults for originally generated Rails version.[m
[32m+[m[32m    config.load_defaults 5.2[m
[32m+[m[32m    config.time_zone = 'Asia/Tokyo'[m
[32m+[m
[32m+[m[32m    # Settings in config/environments/* take precedence over those specified here.[m
[32m+[m[32m    # Application configuration can go into files in config/initializers[m
[32m+[m[32m    # -- all .rb files in that directory are automatically loaded after loading[m
[32m+[m[32m    # the framework and any gems in your application.[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/config/boot.rb b/config/boot.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..b9e460c[m
[1m--- /dev/null[m
[1m+++ b/config/boot.rb[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32mENV['BUNDLE_GEMFILE'] ||= File.expand_path('../Gemfile', __dir__)[m
[32m+[m
[32m+[m[32mrequire 'bundler/setup' # Set up gems listed in the Gemfile.[m
[32m+[m[32mrequire 'bootsnap/setup' # Speed up boot time by caching expensive operations.[m
[1mdiff --git a/config/cable.yml b/config/cable.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..88f2cdf[m
[1m--- /dev/null[m
[1m+++ b/config/cable.yml[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mdevelopment:[m
[32m+[m[32m  adapter: async[m
[32m+[m
[32m+[m[32mtest:[m
[32m+[m[32m  adapter: async[m
[32m+[m
[32m+[m[32mproduction:[m
[32m+[m[32m  adapter: redis[m
[32m+[m[32m  url: <%= ENV.fetch("REDIS_URL") { "redis://localhost:6379/1" } %>[m
[32m+[m[32m  channel_prefix: sub_app_production[m
[1mdiff --git a/config/credentials.yml.enc b/config/credentials.yml.enc[m
[1mnew file mode 100644[m
[1mindex 0000000..fc1227f[m
[1m--- /dev/null[m
[1m+++ b/config/credentials.yml.enc[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m68f3TWyAFi1eM/AgjRcpJ5qrv4wRMXBm4VPIhEDTMwH2/cXt7Fw1byFA4TNUp2vBqYaNijIH5NRc9XJ+PEw2u+Cyk7INu+33WN4YpsjYCeTLm80RUrxDijMGaua26PirSPOLBcDn9UdjiItPxn6du1ylg7OZhBADKTMXYnrNeN3rg9T8+79akRjaNrZo7XCXSLoePUNdN2drmil13CUeiG/ywfH6pgvrpq5cQj8ngqCKToIoXzX4WyzDHlo9lCFkTu3o16+wIi5CYxOXiXadnq5uHNjielPmmk5GjUAihPROBDj7Zt+SnHKN9gopJOpyeJYx3xQcrCRs7vmIbUCTzivbYoPqWYFAf14lwJq5i9D7n9BKDwMqTT0mErNu1ho1yId1OxfOhzIWAKI829WsUa6U7aHW2OccPNkr--f5A/2PCwSyavXgWZ--NCayW+RHEMs78shsKmKp7Q==[m
\ No newline at end of file[m
[1mdiff --git a/config/database.yml b/config/database.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..ba59086[m
[1m--- /dev/null[m
[1m+++ b/config/database.yml[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32m# SQLite version 3.x[m
[32m+[m[32m#   gem install sqlite3[m
[32m+[m[32m#[m
[32m+[m[32m#   Ensure the SQLite 3 gem is defined in your Gemfile[m
[32m+[m[32m#   gem 'sqlite3'[m
[32m+[m[32m#[m
[32m+[m[32mdefault: &default[m
[32m+[m[32m  adapter: sqlite3[m
[32m+[m[32m  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>[m
[32m+[m[32m  timeout: 5000[m
[32m+[m
[32m+[m[32mdevelopment:[m
[32m+[m[32m  <<: *default[m
[32m+[m[32m  database: db/development.sqlite3[m
[32m+[m
[32m+[m[32m# Warning: The database defined as "test" will be erased and[m
[32m+[m[32m# re-generated from your development database when you run "rake".[m
[32m+[m[32m# Do not set this db to the same as development or production.[m
[32m+[m[32mtest:[m
[32m+[m[32m  <<: *default[m
[32m+[m[32m  database: db/test.sqlite3[m
[32m+[m
[32m+[m[32mproduction:[m
[32m+[m[32m  <<: *default[m
[32m+[m[32m  database: db/production.sqlite3[m
[32m+[m[32m  encoding: unicode[m
\ No newline at end of file[m
[1mdiff --git a/config/environment.rb b/config/environment.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..426333b[m
[1m--- /dev/null[m
[1m+++ b/config/environment.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m# Load the Rails application.[m
[32m+[m[32mrequire_relative 'application'[m
[32m+[m
[32m+[m[32m# Initialize the Rails application.[m
[32m+[m[32mRails.application.initialize![m
[1mdiff --git a/config/environments/development.rb b/config/environments/development.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..366e75a[m
[1m--- /dev/null[m
[1m+++ b/config/environments/development.rb[m
[36m@@ -0,0 +1,61 @@[m
[32m+[m[32mRails.application.configure do[m
[32m+[m[32m  # Settings specified here will take precedence over those in config/application.rb.[m
[32m+[m
[32m+[m[32m  # In the development environment your application's code is reloaded on[m
[32m+[m[32m  # every request. This slows down response time but is perfect for development[m
[32m+[m[32m  # since you don't have to restart the web server when you make code changes.[m
[32m+[m[32m  config.cache_classes = false[m
[32m+[m
[32m+[m[32m  # Do not eager load code on boot.[m
[32m+[m[32m  config.eager_load = false[m
[32m+[m
[32m+[m[32m  # Show full error reports.[m
[32m+[m[32m  config.consider_all_requests_local = true[m
[32m+[m
[32m+[m[32m  # Enable/disable caching. By default caching is disabled.[m
[32m+[m[32m  # Run rails dev:cache to toggle caching.[m
[32m+[m[32m  if Rails.root.join('tmp', 'caching-dev.txt').exist?[m
[32m+[m[32m    config.action_controller.perform_caching = true[m
[32m+[m
[32m+[m[32m    config.cache_store = :memory_store[m
[32m+[m[32m    config.public_file_server.headers = {[m
[32m+[m[32m      'Cache-Control' => "public, max-age=#{2.days.to_i}"[m
[32m+[m[32m    }[m
[32m+[m[32m  else[m
[32m+[m[32m    config.action_controller.perform_caching = false[m
[32m+[m
[32m+[m[32m    config.cache_store = :null_store[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  # Store uploaded files on the local file system (see config/storage.yml for options)[m
[32m+[m[32m  config.active_storage.service = :local[m
[32m+[m
[32m+[m[32m  # Don't care if the mailer can't send.[m
[32m+[m[32m  config.action_mailer.raise_delivery_errors = false[m
[32m+[m
[32m+[m[32m  config.action_mailer.perform_caching = false[m
[32m+[m
[32m+[m[32m  # Print deprecation notices to the Rails logger.[m
[32m+[m[32m  config.active_support.deprecation = :log[m
[32m+[m
[32m+[m[32m  # Raise an error on page load if there are pending migrations.[m
[32m+[m[32m  config.active_record.migration_error = :page_load[m
[32m+[m
[32m+[m[32m  # Highlight code that triggered database queries in logs.[m
[32m+[m[32m  config.active_record.verbose_query_logs = true[m
[32m+[m
[32m+[m[32m  # Debug mode disables concatenation and preprocessing of assets.[m
[32m+[m[32m  # This option may cause significant delays in view rendering with a large[m
[32m+[m[32m  # number of complex assets.[m
[32m+[m[32m  config.assets.debug = true[m
[32m+[m
[32m+[m[32m  # Suppress logger output for asset requests.[m
[32m+[m[32m  config.assets.quiet = true[m
[32m+[m
[32m+[m[32m  # Raises error for missing translations[m
[32m+[m[32m  # config.action_view.raise_on_missing_translations = true[m
[32m+[m
[32m+[m[32m  # Use an evented file watcher to asynchronously detect changes in source code,[m
[32m+[m[32m  # routes, locales, etc. This feature depends on the listen gem.[m
[32m+[m[32m  # config.file_watcher = ActiveSupport::EventedFileUpdateChecker[m
[32m+[m[32mend[m
[1mdiff --git a/config/environments/production.rb b/config/environments/production.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..4fcd07c[m
[1m--- /dev/null[m
[1m+++ b/config/environments/production.rb[m
[36m@@ -0,0 +1,94 @@[m
[32m+[m[32mRails.application.configure do[m
[32m+[m[32m  # Settings specified here will take precedence over those in config/application.rb.[m
[32m+[m
[32m+[m[32m  # Code is not reloaded between requests.[m
[32m+[m[32m  config.cache_classes = true[m
[32m+[m
[32m+[m[32m  # Eager load code on boot. This eager loads most of Rails and[m
[32m+[m[32m  # your application in memory, allowing both threaded web servers[m
[32m+[m[32m  # and those relying on copy on write to perform better.[m
[32m+[m[32m  # Rake tasks automatically ignore this option for performance.[m
[32m+[m[32m  config.eager_load = true[m
[32m+[m
[32m+[m[32m  # Full error reports are disabled and caching is turned on.[m
[32m+[m[32m  config.consider_all_requests_local       = false[m
[32m+[m[32m  config.action_controller.perform_caching = true[m
[32m+[m
[32m+[m[32m  # Ensures that a master key has been made available in either ENV["RAILS_MASTER_KEY"][m
[32m+[m[32m  # or in config/master.key. This key is used to decrypt credentials (and other encrypted files).[m
[32m+[m[32m  # config.require_master_key = true[m
[32m+[m
[32m+[m[32m  # Disable serving static files from the `/public` folder by default since[m
[32m+[m[32m  # Apache or NGINX already handles this.[m
[32m+[m[32m  config.public_file_server.enabled = ENV['RAILS_SERVE_STATIC_FILES'].present?[m
[32m+[m
[32m+[m[32m  # Compress JavaScripts and CSS.[m
[32m+[m[32m  config.assets.js_compressor = :uglifier[m
[32m+[m[32m  # config.assets.css_compressor = :sass[m
[32m+[m
[32m+[m[32m  # Do not fallback to assets pipeline if a precompiled asset is missed.[m
[32m+[m[32m  config.assets.compile = true[m
[32m+[m
[32m+[m[32m  # `config.assets.precompile` and `config.assets.version` have moved to config/initializers/assets.rb[m
[32m+[m
[32m+[m[32m  # Enable serving of images, stylesheets, and JavaScripts from an asset server.[m
[32m+[m[32m  # config.action_controller.asset_host = 'http://assets.example.com'[m
[32m+[m
[32m+[m[32m  # Specifies the header that your server uses for sending files.[m
[32m+[m[32m  # config.action_dispatch.x_sendfile_header = 'X-Sendfile' # for Apache[m
[32m+[m[32m  # config.action_dispatch.x_sendfile_header = 'X-Accel-Redirect' # for NGINX[m
[32m+[m
[32m+[m[32m  # Store uploaded files on the local file system (see config/storage.yml for options)[m
[32m+[m[32m  config.active_storage.service = :local[m
[32m+[m
[32m+[m[32m  # Mount Action Cable outside main process or domain[m
[32m+[m[32m  # config.action_cable.mount_path = nil[m
[32m+[m[32m  # config.action_cable.url = 'wss://example.com/cable'[m
[32m+[m[32m  # config.action_cable.allowed_request_origins = [ 'http://example.com', /http:\/\/example.*/ ][m
[32m+[m
[32m+[m[32m  # Force all access to the app over SSL, use Strict-Transport-Security, and use secure cookies.[m
[32m+[m[32m  # config.force_ssl = true[m
[32m+[m
[32m+[m[32m  # Use the lowest log level to ensure availability of diagnostic information[m
[32m+[m[32m  # when problems arise.[m
[32m+[m[32m  config.log_level = :debug[m
[32m+[m
[32m+[m[32m  # Prepend all log lines with the following tags.[m
[32m+[m[32m  config.log_tags = [ :request_id ][m
[32m+[m
[32m+[m[32m  # Use a different cache store in production.[m
[32m+[m[32m  # config.cache_store = :mem_cache_store[m
[32m+[m
[32m+[m[32m  # Use a real queuing backend for Active Job (and separate queues per environment)[m
[32m+[m[32m  # config.active_job.queue_adapter     = :resque[m
[32m+[m[32m  # config.active_job.queue_name_prefix = "sub_app_#{Rails.env}"[m
[32m+[m
[32m+[m[32m  config.action_mailer.perform_caching = false[m
[32m+[m
[32m+[m[32m  # Ignore bad email addresses and do not raise email delivery errors.[m
[32m+[m[32m  # Set this to true and configure the email server for immediate delivery to raise delivery errors.[m
[32m+[m[32m  # config.action_mailer.raise_delivery_errors = false[m
[32m+[m
[32m+[m[32m  # Enable locale fallbacks for I18n (makes lookups for any locale fall back to[m
[32m+[m[32m  # the I18n.default_locale when a translation cannot be found).[m
[32m+[m[32m  config.i18n.fallbacks = true[m
[32m+[m
[32m+[m[32m  # Send deprecation notices to registered listeners.[m
[32m+[m[32m  config.active_support.deprecation = :notify[m
[32m+[m
[32m+[m[32m  # Use default logging formatter so that PID and timestamp are not suppressed.[m
[32m+[m[32m  config.log_formatter = ::Logger::Formatter.new[m
[32m+[m
[32m+[m[32m  # Use a different logger for distributed setups.[m
[32m+[m[32m  # require 'syslog/logger'[m
[32m+[m[32m  # config.logger = ActiveSupport::TaggedLogging.new(Syslog::Logger.new 'app-name')[m
[32m+[m
[32m+[m[32m  if ENV["RAILS_LOG_TO_STDOUT"].present?[m
[32m+[m[32m    logger           = ActiveSupport::Logger.new(STDOUT)[m
[32m+[m[32m    logger.formatter = config.log_formatter[m
[32m+[m[32m    config.logger    = ActiveSupport::TaggedLogging.new(logger)[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  # Do not dump schema after migrations.[m
[32m+[m[32m  config.active_record.dump_schema_after_migration = false[m
[32m+[m[32mend[m
[1mdiff --git a/config/environments/test.rb b/config/environments/test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..0a38fd3[m
[1m--- /dev/null[m
[1m+++ b/config/environments/test.rb[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32mRails.application.configure do[m
[32m+[m[32m  # Settings specified here will take precedence over those in config/application.rb.[m
[32m+[m
[32m+[m[32m  # The test environment is used exclusively to run your application's[m
[32m+[m[32m  # test suite. You never need to work with it otherwise. Remember that[m
[32m+[m[32m  # your test database is "scratch space" for the test suite and is wiped[m
[32m+[m[32m  # and recreated between test runs. Don't rely on the data there![m
[32m+[m[32m  config.cache_classes = true[m
[32m+[m
[32m+[m[32m  # Do not eager load code on boot. This avoids loading your whole application[m
[32m+[m[32m  # just for the purpose of running a single test. If you are using a tool that[m
[32m+[m[32m  # preloads Rails for running tests, you may have to set it to true.[m
[32m+[m[32m  config.eager_load = false[m
[32m+[m
[32m+[m[32m  # Configure public file server for tests with Cache-Control for performance.[m
[32m+[m[32m  config.public_file_server.enabled = true[m
[32m+[m[32m  config.public_file_server.headers = {[m
[32m+[m[32m    'Cache-Control' => "public, max-age=#{1.hour.to_i}"[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  # Show full error reports and disable caching.[m
[32m+[m[32m  config.consider_all_requests_local       = true[m
[32m+[m[32m  config.action_controller.perform_caching = false[m
[32m+[m
[32m+[m[32m  # Raise exceptions instead of rendering exception templates.[m
[32m+[m[32m  config.action_dispatch.show_exceptions = false[m
[32m+[m
[32m+[m[32m  # Disable request forgery protection in test environment.[m
[32m+[m[32m  config.action_controller.allow_forgery_protection = false[m
[32m+[m
[32m+[m[32m  # Store uploaded files on the local file system in a temporary directory[m
[32m+[m[32m  config.active_storage.service = :test[m
[32m+[m
[32m+[m[32m  config.action_mailer.perform_caching = false[m
[32m+[m
[32m+[m[32m  # Tell Action Mailer not to deliver emails to the real world.[m
[32m+[m[32m  # The :test delivery method accumulates sent emails in the[m
[32m+[m[32m  # ActionMailer::Base.deliveries array.[m
[32m+[m[32m  config.action_mailer.delivery_method = :test[m
[32m+[m
[32m+[m[32m  # Print deprecation notices to the stderr.[m
[32m+[m[32m  config.active_support.deprecation = :stderr[m
[32m+[m
[32m+[m[32m  # Raises error for missing translations[m
[32m+[m[32m  # config.action_view.raise_on_missing_translations = true[m
[32m+[m[32mend[m
[1mdiff --git a/config/initializers/application_controller_renderer.rb b/config/initializers/application_controller_renderer.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..89d2efa[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/application_controller_renderer.rb[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# ActiveSupport::Reloader.to_prepare do[m
[32m+[m[32m#   ApplicationController.renderer.defaults.merge!([m
[32m+[m[32m#     http_host: 'example.org',[m
[32m+[m[32m#     https: false[m
[32m+[m[32m#   )[m
[32m+[m[32m# end[m
[1mdiff --git a/config/initializers/assets.rb b/config/initializers/assets.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..4b828e8[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/assets.rb[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# Version of your assets, change this if you want to expire all your assets.[m
[32m+[m[32mRails.application.config.assets.version = '1.0'[m
[32m+[m
[32m+[m[32m# Add additional assets to the asset load path.[m
[32m+[m[32m# Rails.application.config.assets.paths << Emoji.images_path[m
[32m+[m[32m# Add Yarn node_modules folder to the asset load path.[m
[32m+[m[32mRails.application.config.assets.paths << Rails.root.join('node_modules')[m
[32m+[m
[32m+[m[32m# Precompile additional assets.[m
[32m+[m[32m# application.js, application.css, and all non-JS/CSS in the app/assets[m
[32m+[m[32m# folder are already added.[m
[32m+[m[32m# Rails.application.config.assets.precompile += %w( admin.js admin.css )[m
[1mdiff --git a/config/initializers/backtrace_silencers.rb b/config/initializers/backtrace_silencers.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..59385cd[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/backtrace_silencers.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# You can add backtrace silencers for libraries that you're using but don't wish to see in your backtraces.[m
[32m+[m[32m# Rails.backtrace_cleaner.add_silencer { |line| line =~ /my_noisy_library/ }[m
[32m+[m
[32m+[m[32m# You can also remove all the silencers if you're trying to debug a problem that might stem from framework code.[m
[32m+[m[32m# Rails.backtrace_cleaner.remove_silencers![m
[1mdiff --git a/config/initializers/content_security_policy.rb b/config/initializers/content_security_policy.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..d3bcaa5[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/content_security_policy.rb[m
[36m@@ -0,0 +1,25 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# Define an application-wide content security policy[m
[32m+[m[32m# For further information see the following documentation[m
[32m+[m[32m# https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy[m
[32m+[m
[32m+[m[32m# Rails.application.config.content_security_policy do |policy|[m
[32m+[m[32m#   policy.default_src :self, :https[m
[32m+[m[32m#   policy.font_src    :self, :https, :data[m
[32m+[m[32m#   policy.img_src     :self, :https, :data[m
[32m+[m[32m#   policy.object_src  :none[m
[32m+[m[32m#   policy.script_src  :self, :https[m
[32m+[m[32m#   policy.style_src   :self, :https[m
[32m+[m
[32m+[m[32m#   # Specify URI for violation reports[m
[32m+[m[32m#   # policy.report_uri "/csp-violation-report-endpoint"[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m# If you are using UJS then enable automatic nonce generation[m
[32m+[m[32m# Rails.application.config.content_security_policy_nonce_generator = -> request { SecureRandom.base64(16) }[m
[32m+[m
[32m+[m[32m# Report CSP violations to a specified URI[m
[32m+[m[32m# For further information see the following documentation:[m
[32m+[m[32m# https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only[m
[32m+[m[32m# Rails.application.config.content_security_policy_report_only = true[m
[1mdiff --git a/config/initializers/cookies_serializer.rb b/config/initializers/cookies_serializer.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..5a6a32d[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/cookies_serializer.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# Specify a serializer for the signed and encrypted cookie jars.[m
[32m+[m[32m# Valid options are :json, :marshal, and :hybrid.[m
[32m+[m[32mRails.application.config.action_dispatch.cookies_serializer = :json[m
[1mdiff --git a/config/initializers/filter_parameter_logging.rb b/config/initializers/filter_parameter_logging.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..4a994e1[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/filter_parameter_logging.rb[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# Configure sensitive parameters which will be filtered from the log file.[m
[32m+[m[32mRails.application.config.filter_parameters += [:password][m
[1mdiff --git a/config/initializers/inflections.rb b/config/initializers/inflections.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..ac033bf[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/inflections.rb[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# Add new inflection rules using the following format. Inflections[m
[32m+[m[32m# are locale specific, and you may define rules for as many different[m
[32m+[m[32m# locales as you wish. All of these examples are active by default:[m
[32m+[m[32m# ActiveSupport::Inflector.inflections(:en) do |inflect|[m
[32m+[m[32m#   inflect.plural /^(ox)$/i, '\1en'[m
[32m+[m[32m#   inflect.singular /^(ox)en/i, '\1'[m
[32m+[m[32m#   inflect.irregular 'person', 'people'[m
[32m+[m[32m#   inflect.uncountable %w( fish sheep )[m
[32m+[m[32m# end[m
[32m+[m
[32m+[m[32m# These inflection rules are supported but not enabled by default:[m
[32m+[m[32m# ActiveSupport::Inflector.inflections(:en) do |inflect|[m
[32m+[m[32m#   inflect.acronym 'RESTful'[m
[32m+[m[32m# end[m
[1mdiff --git a/config/initializers/mime_types.rb b/config/initializers/mime_types.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..dc18996[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/mime_types.rb[m
[36m@@ -0,0 +1,4 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# Add new mime types for use in respond_to blocks:[m
[32m+[m[32m# Mime::Type.register "text/richtext", :rtf[m
[1mdiff --git a/config/initializers/wrap_parameters.rb b/config/initializers/wrap_parameters.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..bbfc396[m
[1m--- /dev/null[m
[1m+++ b/config/initializers/wrap_parameters.rb[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m# Be sure to restart your server when you modify this file.[m
[32m+[m
[32m+[m[32m# This file contains settings for ActionController::ParamsWrapper which[m
[32m+[m[32m# is enabled by default.[m
[32m+[m
[32m+[m[32m# Enable parameter wrapping for JSON. You can disable this by setting :format to an empty array.[m
[32m+[m[32mActiveSupport.on_load(:action_controller) do[m
[32m+[m[32m  wrap_parameters format: [:json][m
[32m+[m[32mend[m
[32m+[m
[32m+[m[32m# To enable root element in JSON for ActiveRecord objects.[m
[32m+[m[32m# ActiveSupport.on_load(:active_record) do[m
[32m+[m[32m#   self.include_root_in_json = true[m
[32m+[m[32m# end[m
[1mdiff --git a/config/locales/en.yml b/config/locales/en.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..decc5a8[m
[1m--- /dev/null[m
[1m+++ b/config/locales/en.yml[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32m# Files in the config/locales directory are used for internationalization[m
[32m+[m[32m# and are automatically loaded by Rails. If you want to use locales other[m
[32m+[m[32m# than English, add the necessary files in this directory.[m
[32m+[m[32m#[m
[32m+[m[32m# To use the locales, use `I18n.t`:[m
[32m+[m[32m#[m
[32m+[m[32m#     I18n.t 'hello'[m
[32m+[m[32m#[m
[32m+[m[32m# In views, this is aliased to just `t`:[m
[32m+[m[32m#[m
[32m+[m[32m#     <%= t('hello') %>[m
[32m+[m[32m#[m
[32m+[m[32m# To use a different locale, set it with `I18n.locale`:[m
[32m+[m[32m#[m
[32m+[m[32m#     I18n.locale = :es[m
[32m+[m[32m#[m
[32m+[m[32m# This would use the information in config/locales/es.yml.[m
[32m+[m[32m#[m
[32m+[m[32m# The following keys must be escaped otherwise they will not be retrieved by[m
[32m+[m[32m# the default I18n backend:[m
[32m+[m[32m#[m
[32m+[m[32m# true, false, on, off, yes, no[m
[32m+[m[32m#[m
[32m+[m[32m# Instead, surround them with single quotes.[m
[32m+[m[32m#[m
[32m+[m[32m# en:[m
[32m+[m[32m#   'true': 'foo'[m
[32m+[m[32m#[m
[32m+[m[32m# To learn more, please read the Rails Internationalization guide[m
[32m+[m[32m# available at http://guides.rubyonrails.org/i18n.html.[m
[32m+[m
[32m+[m[32men:[m
[32m+[m[32m  hello: "Hello world"[m
[1mdiff --git a/config/puma.rb b/config/puma.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..b210207[m
[1m--- /dev/null[m
[1m+++ b/config/puma.rb[m
[36m@@ -0,0 +1,37 @@[m
[32m+[m[32m# Puma can serve each request in a thread from an internal thread pool.[m
[32m+[m[32m# The `threads` method setting takes two numbers: a minimum and maximum.[m
[32m+[m[32m# Any libraries that use thread pools should be configured to match[m
[32m+[m[32m# the maximum value specified for Puma. Default is set to 5 threads for minimum[m
[32m+[m[32m# and maximum; this matches the default thread size of Active Record.[m
[32m+[m[32m#[m
[32m+[m[32mthreads_count = ENV.fetch("RAILS_MAX_THREADS") { 5 }[m
[32m+[m[32mthreads threads_count, threads_count[m
[32m+[m
[32m+[m[32m# Specifies the `port` that Puma will listen on to receive requests; default is 3000.[m
[32m+[m[32m#[m
[32m+[m[32mport        ENV.fetch("PORT") { 3000 }[m
[32m+[m
[32m+[m[32m# Specifies the `environment` that Puma will run in.[m
[32m+[m[32m#[m
[32m+[m[32menvironment ENV.fetch("RAILS_ENV") { "development" }[m
[32m+[m
[32m+[m[32m# Specifies the `pidfile` that Puma will use.[m
[32m+[m[32mpidfile ENV.fetch("PIDFILE") { "tmp/pids/server.pid" }[m
[32m+[m
[32m+[m[32m# Specifies the number of `workers` to boot in clustered mode.[m
[32m+[m[32m# Workers are forked webserver processes. If using threads and workers together[m
[32m+[m[32m# the concurrency of the application would be max `threads` * `workers`.[m
[32m+[m[32m# Workers do not work on JRuby or Windows (both of which do not support[m
[32m+[m[32m# processes).[m
[32m+[m[32m#[m
[32m+[m[32m# workers ENV.fetch("WEB_CONCURRENCY") { 2 }[m
[32m+[m
[32m+[m[32m# Use the `preload_app!` method when specifying a `workers` number.[m
[32m+[m[32m# This directive tells Puma to first boot the application and load code[m
[32m+[m[32m# before forking the application. This takes advantage of Copy On Write[m
[32m+[m[32m# process behavior so workers use less memory.[m
[32m+[m[32m#[m
[32m+[m[32m# preload_app![m
[32m+[m
[32m+[m[32m# Allow puma to be restarted by `rails restart` command.[m
[32m+[m[32mplugin :tmp_restart[m
[1mdiff --git a/config/routes.rb b/config/routes.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..2fee34b[m
[1m--- /dev/null[m
[1m+++ b/config/routes.rb[m
[36m@@ -0,0 +1,57 @@[m
[32m+[m[32mRails.application.routes.draw do[m
[32m+[m
[32m+[m[32m  get '/' => 'home#top'[m
[32m+[m[41m  [m
[32m+[m[32m  post 'users/create' => 'users#create'[m
[32m+[m[32m  post 'users/enter' => 'users#enter'[m
[32m+[m[32m  post 'users/delete' => 'users#delete'[m
[32m+[m[32m  post 'users/cancel' => 'users#cancel'[m
[32m+[m[32m  get '/rooms/:room_id/matching' => 'rooms#matching'[m
[32m+[m[32m  get '/rooms/:room_id/create' => 'rooms#create'[m
[32m+[m[32m  post '/rooms/:room_id/create' => 'rooms#create'[m
[32m+[m
[32m+[m[32m  get '/rooms/:room_id/group' => 'rooms#group'[m
[32m+[m[32m  post '/rooms/:room_id/group_confirm' => 'rooms#group_confirm'[m
[32m+[m[32m  get '/rooms/:room_id/group_confirm' => 'rooms#group_confirm'[m
[32m+[m[41m  [m
[32m+[m[32m  get '/rooms/:room_id/meeting' => 'rooms#meeting'[m
[32m+[m[32m  post '/rooms/:room_id/select' => 'rooms#select'[m
[32m+[m[32m  get '/rooms/:room_id/select' => 'rooms#select'[m
[32m+[m[32m  post '/rooms/:room_id/decide' => 'rooms#decide'[m
[32m+[m[32m  get '/rooms/:room_id/wait' => 'rooms#wait'[m
[32m+[m[41m  [m
[32m+[m[32m  get '/rooms/:room_id/check' => 'rooms#check'[m
[32m+[m[32m  get '/rooms/:room_id/announcement_two' => 'rooms#announcement_two'[m
[32m+[m[32m  get '/rooms/:room_id/announcement_three' => 'rooms#announcement_three'[m
[32m+[m[32m  get '/rooms/:room_id/announcement_four' => 'rooms#announcement_four'[m
[32m+[m[32m  post '/rooms/:room_id/announcement' => 'rooms#announcement'[m
[32m+[m[32m  get '/rooms/:room_id/announcement' => 'rooms#announcement'[m
[32m+[m
[32m+[m[32m  get '/rooms/:room_id/branch' => 'rooms#branch'[m
[32m+[m[32m  get '/rooms/:room_id/result' => 'rooms#result'[m
[32m+[m[32m  get '/rooms/:room_id/chapter' => 'rooms#chapter'[m
[32m+[m[32m  post '/rooms/:room_id/next' => 'rooms#next'[m
[32m+[m[41m  [m
[32m+[m[32m  get '/drafts/:room_id/preparation' => 'drafts#preparation'[m
[32m+[m[32m  get '/drafts/:room_id/lottery' => 'drafts#lottery'[m
[32m+[m[32m  post '/drafts/:room_id/preparation_second' => 'drafts#preparation_second'[m
[32m+[m[32m  get '/drafts/:room_id/preparation_second' => 'drafts#preparation_second'[m
[32m+[m[32m  get '/drafts/:room_id/lottery_second' => 'drafts#lottery_second'[m
[32m+[m[32m  post '/drafts/:room_id/second_select' => 'drafts#second_select'[m
[32m+[m[32m  get '/drafts/:room_id/second_select' => 'drafts#second_select'[m
[32m+[m[32m  post '/drafts/:room_id/second_decide' => 'drafts#second_decide'[m
[32m+[m[32m  post '/drafts/:room_id/second_to_wait' => 'drafts#second_to_wait'[m
[32m+[m[32m  get '/drafts/:room_id/second_wait' => 'drafts#second_wait'[m
[32m+[m[32m  get '/drafts/:room_id/second_preparation' => 'drafts#second_preparation'[m
[32m+[m[41m  [m
[32m+[m[32m  get '/drafts/:room_id/second_check' => 'drafts#second_check'[m
[32m+[m[32m  get '/drafts/:room_id/second_announcement_two' => 'drafts#second_announcement_two'[m
[32m+[m[32m  get '/drafts/:room_id/second_announcement_three' => 'drafts#second_announcement_three'[m
[32m+[m[32m  get '/drafts/:room_id/second_announcement_four' => 'drafts#second_announcement_four'[m
[32m+[m[32m  post '/drafts/:room_id/second_announcement_go' => 'drafts#second_announcement_go'[m
[32m+[m[32m  post '/drafts/:room_id/second_announcement' => 'drafts#second_announcement'[m
[32m+[m[32m  get '/drafts/:room_id/second_announcement' => 'drafts#second_announcement'[m
[32m+[m[32m  get '/drafts/:room_id/branch' => 'drafts#second_branch'[m
[32m+[m
[32m+[m[32m  # For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html[m
[32m+[m[32mend[m
[1mdiff --git a/config/storage.yml b/config/storage.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..d32f76e[m
[1m--- /dev/null[m
[1m+++ b/config/storage.yml[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32mtest:[m
[32m+[m[32m  service: Disk[m
[32m+[m[32m  root: <%= Rails.root.join("tmp/storage") %>[m
[32m+[m
[32m+[m[32mlocal:[m
[32m+[m[32m  service: Disk[m
[32m+[m[32m  root: <%= Rails.root.join("storage") %>[m
[32m+[m
[32m+[m[32m# Use rails credentials:edit to set the AWS secrets (as aws:access_key_id|secret_access_key)[m
[32m+[m[32m# amazon:[m
[32m+[m[32m#   service: S3[m
[32m+[m[32m#   access_key_id: <%= Rails.application.credentials.dig(:aws, :access_key_id) %>[m
[32m+[m[32m#   secret_access_key: <%= Rails.application.credentials.dig(:aws, :secret_access_key) %>[m
[32m+[m[32m#   region: us-east-1[m
[32m+[m[32m#   bucket: your_own_bucket[m
[32m+[m
[32m+[m[32m# Remember not to checkin your GCS keyfile to a repository[m
[32m+[m[32m# google:[m
[32m+[m[32m#   service: GCS[m
[32m+[m[32m#   project: your_project[m
[32m+[m[32m#   credentials: <%= Rails.root.join("path/to/gcs.keyfile") %>[m
[32m+[m[32m#   bucket: your_own_bucket[m
[32m+[m
[32m+[m[32m# Use rails credentials:edit to set the Azure Storage secret (as azure_storage:storage_access_key)[m
[32m+[m[32m# microsoft:[m
[32m+[m[32m#   service: AzureStorage[m
[32m+[m[32m#   storage_account_name: your_account_name[m
[32m+[m[32m#   storage_access_key: <%= Rails.application.credentials.dig(:azure_storage, :storage_access_key) %>[m
[32m+[m[32m#   container: your_container_name[m
[32m+[m
[32m+[m[32m# mirror:[m
[32m+[m[32m#   service: Mirror[m
[32m+[m[32m#   primary: local[m
[32m+[m[32m#   mirrors: [ amazon, google, microsoft ][m
[1mdiff --git a/db/migrate/20200417010026_create_rooms.rb b/db/migrate/20200417010026_create_rooms.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..1c706f3[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200417010026_create_rooms.rb[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32mclass CreateRooms < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    create_table :rooms do |t|[m
[32m+[m[32m      t.integer :room_id[m
[32m+[m[32m      t.integer :number_of_members[m
[32m+[m[32m      t.integer :number_of_players[m
[32m+[m[32m      t.integer :order[m
[32m+[m[32m      t.integer :user1[m
[32m+[m[32m      t.integer :user2[m
[32m+[m[32m      t.integer :user3[m
[32m+[m[32m      t.integer :user4[m
[32m+[m
[32m+[m[32m      t.timestamps[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200417010109_create_users.rb b/db/migrate/20200417010109_create_users.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..634fa6b[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200417010109_create_users.rb[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32mclass CreateUsers < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    create_table :users do |t|[m
[32m+[m[32m      t.integer :room_id[m
[32m+[m[32m      t.string :name[m
[32m+[m[32m      t.integer :color[m
[32m+[m[32m      t.string :select[m
[32m+[m[32m      t.text :memo[m
[32m+[m
[32m+[m[32m      t.timestamps[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200417010155_create_members.rb b/db/migrate/20200417010155_create_members.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..453349a[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200417010155_create_members.rb[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32mclass CreateMembers < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    create_table :members do |t|[m
[32m+[m[32m      t.string :name[m
[32m+[m[32m      t.string :team[m
[32m+[m[32m      t.integer :generation[m
[32m+[m
[32m+[m[32m      t.timestamps[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200418001254_create_drafts.rb b/db/migrate/20200418001254_create_drafts.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..135c95f[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200418001254_create_drafts.rb[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mclass CreateDrafts < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    create_table :drafts do |t|[m
[32m+[m[32m      t.integer :user_id[m
[32m+[m[32m      t.string :member_name[m
[32m+[m
[32m+[m[32m      t.timestamps[m
[32m+[m[32m    end[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200418054222_drafts.rb b/db/migrate/20200418054222_drafts.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..2b674b0[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200418054222_drafts.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mclass Drafts < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    add_column :drafts, :room_id, :integer[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200419061709_draft.rb b/db/migrate/20200419061709_draft.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..bf64a5e[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200419061709_draft.rb[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32mclass Draft < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    add_column :drafts, :order, :integer[m
[32m+[m[32m    add_column :drafts, :position, :integer[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200419062040_user.rb b/db/migrate/20200419062040_user.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..519f396[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200419062040_user.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mclass User < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    add_column :users, :select_beta, :string[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200429103239_users.rb b/db/migrate/20200429103239_users.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..f1fcdd0[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200429103239_users.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mclass Users < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m    add_column :users, :color, :string[m
[32m+[m[32m    add_column :users, :logo, :string[m
[32m+[m[32m  end[m
[32m+[m[41m  [m
[32m+[m[32mend[m
[1mdiff --git a/db/migrate/20200505163659_rooms.rb b/db/migrate/20200505163659_rooms.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..a45ffec[m
[1m--- /dev/null[m
[1m+++ b/db/migrate/20200505163659_rooms.rb[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32mclass Rooms < ActiveRecord::Migration[5.2][m
[32m+[m[32m  def change[m
[32m+[m[32m      remove_column :rooms, :next, :string[m
[32m+[m[32m      add_column :rooms, :next, :integer[m
[32m+[m[32m  end[m
[32m+[m[32mend[m
[1mdiff --git a/db/schema.rb b/db/schema.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..c2e0343[m
[1m--- /dev/null[m
[1m+++ b/db/schema.rb[m
[36m@@ -0,0 +1,59 @@[m
[32m+[m[32m# This file is auto-generated from the current state of the database. Instead[m
[32m+[m[32m# of editing this file, please use the migrations feature of Active Record to[m
[32m+[m[32m# incrementally modify your database, and then regenerate this schema definition.[m
[32m+[m[32m#[m
[32m+[m[32m# Note that this schema.rb definition is the authoritative source for your[m
[32m+[m[32m# database schema. If you need to create the application database on another[m
[32m+[m[32m# system, you should be using db:schema:load, not running all the migrations[m
[32m+[m[32m# from scratch. The latter is a flawed and unsustainable approach (the more migrations[m
[32m+[m[32m# you'll amass, the slower it'll run and the greater likelihood for issues).[m
[32m+[m[32m#[m
[32m+[m[32m# It's strongly recommended that you check this file into your version control system.[m
[32m+[m
[32m+[m[32mActiveRecord::Schema.define(version: 2020_05_05_163659) do[m
[32m+[m
[32m+[m[32m  create_table "drafts", force: :cascade do |t|[m
[32m+[m[32m    t.integer "user_id"[m
[32m+[m[32m    t.string "member_name"[m
[32m+[m[32m    t.datetime "created_at", null: false[m
[32m+[m[32m    t.datetime "updated_at", null: false[m
[32m+[m[32m    t.integer "room_id"[m
[32m+[m[32m    t.integer "order"[m
[32m+[m[32m    t.integer "position"[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  create_table "members", force: :cascade do |t|[m
[32m+[m[32m    t.string "name"[m
[32m+[m[32m    t.string "team"[m
[32m+[m[32m    t.integer "generation"[m
[32m+[m[32m    t.datetime "created_at", null: false[m
[32m+[m[32m    t.datetime "updated_at", null: false[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  create_table "rooms", force: :cascade do |t|[m
[32m+[m[32m    t.integer "room_id"[m
[32m+[m[32m    t.integer "number_of_members"[m
[32m+[m[32m    t.integer "number_of_players"[m
[32m+[m[32m    t.integer "order"[m
[32m+[m[32m    t.integer "user1"[m
[32m+[m[32m    t.integer "user2"[m
[32m+[m[32m    t.integer "user3"[m
[32m+[m[32m    t.integer "user4"[m
[32m+[m[32m    t.datetime "created_at", null: false[m
[32m+[m[32m    t.datetime "updated_at", null: false[m
[32m+[m[32m    t.integer "next"[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32m  create_table "users", force: :cascade do |t|[m
[32m+[m[32m    t.integer "room_id"[m
[32m+[m[32m    t.string "name"[m
[32m+[m[32m    t.string "select"[m
[32m+[m[32m    t.text "memo"[m
[32m+[m[32m    t.datetime "created_at", null: false[m
[32m+[m[32m    t.datetime "updated_at", null: false[m
[32m+[m[32m    t.integer "lottery"[m
[32m+[m[32m    t.string "color"[m
[32m+[m[32m    t.string "logo"[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32mend[m
[1mdiff --git a/db/seeds.rb b/db/seeds.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..28b1c36[m
[1m--- /dev/null[m
[1m+++ b/db/seeds.rb[m
[36m@@ -0,0 +1,110 @@[m
[32m+[m[32m# This file should contain all the record creation needed to seed the database with its default values.[m
[32m+[m[32m# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).[m
[32m+[m[32m#[m
[32m+[m[32m# Examples:[m
[32m+[m[32m#[m
[32m+[m[32m#   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])[m
[32m+[m[32m#   Character.create(name: 'Luke', movie: movies.first)[m
[32m+[m
[32m+[m[32mMember.create(:name => '秋元 真夏',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '生田 絵梨花',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '齋藤 飛鳥',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '白石 麻衣',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '高山 一実',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '中田 花奈',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '樋口 日奈',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '星野 みなみ',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '松村 沙友理',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '和田 まあや',:team => '乃木坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '伊藤 純奈',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '北野 日奈子',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '新内 眞衣',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '鈴木 絢音',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '寺田 蘭世',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '堀未 央奈',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '山崎 怜奈',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '渡辺 みり愛',:team => '乃木坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '伊藤 理々杏',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '岩本 蓮加',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '梅澤 美波',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '大園 桃子',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '久保 史緒里',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '阪口 珠美',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '佐藤 楓',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '中村 麗乃',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '向井 葉月',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '山下 美月',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '吉田 綾乃',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '与田 祐希',:team => '乃木坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '遠藤 さくら',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '賀喜 遥香',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '掛橋 沙耶香',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '金川 紗耶',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '北川 悠理',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '黒見 明香',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '佐藤 璃果',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '柴田 柚菜',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '清宮 レイ',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '田村 真佑',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '筒井 あやめ',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '早川 聖来',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '林 瑠奈',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '松尾 美佑',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '矢久保 美緒',:team => '乃木坂46',:generation => 4)[m
[32m+[m[32mMember.create(:name => '弓木 奈於',:team => '乃木坂46',:generation => 4)[m
[32m+[m
[32m+[m
[32m+[m[32mMember.create(:name => '石森 虹花',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '上村 莉菜',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '尾関 梨香',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '小池 美波',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '小林 由依',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '齋藤 冬優花',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '佐藤 詩織',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '菅井 友香',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '土生 瑞穂',:team => '欅坂46',:generation =>  1)[m
[32m+[m[32mMember.create(:name => '原田 葵',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '守屋 茜',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '渡辺 梨加',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '渡邉 理佐',:team => '欅坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '井上 梨名',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '遠藤 光莉',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '大園 玲',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '大沼 晶保',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '幸阪 茉里乃',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '関 有美子',:team => '欅坂46',:generation =>  2)[m
[32m+[m[32mMember.create(:name => '武元 唯衣',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '田村 保乃',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '藤吉 夏鈴',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '増本 綺良',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '松田 里奈',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '松平 璃子',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '森田 ひかる',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '守屋 麗奈',:team => '欅坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '山﨑 天',:team => '欅坂46',:generation => 2)[m
[32m+[m
[32m+[m
[32m+[m[32mMember.create(:name => '潮紗 理菜',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '影山 優佳',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '加藤 史帆',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '齊藤 京子',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '佐々木 久美',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '佐々木 美玲',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '高瀬 愛奈',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '高本 彩花',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '東村 芽依',:team => '日向坂46',:generation => 1)[m
[32m+[m[32mMember.create(:name => '金村 美玖',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '河田 陽菜',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '小坂 菜緒',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '富田 鈴花',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '丹生 明里',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '濱岸 ひより',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '松田 好花',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '宮田 愛萌',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '渡邉 美穂',:team => '日向坂46',:generation => 2)[m
[32m+[m[32mMember.create(:name => '上村 ひなの',:team => '日向坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '髙橋 未来虹',:team => '日向坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '森本 茉莉',:team => '日向坂46',:generation => 3)[m
[32m+[m[32mMember.create(:name => '山口 陽世',:team => '日向坂46',:generation => 3)[m
[32m+[m
[32m+[m
[1mdiff --git a/git b/git[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/lib/assets/.keep b/lib/assets/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/lib/tasks/.keep b/lib/tasks/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/log/.keep b/log/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/package.json b/package.json[m
[1mnew file mode 100644[m
[1mindex 0000000..b470858[m
[1m--- /dev/null[m
[1m+++ b/package.json[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "name": "sub_app",[m
[32m+[m[32m  "private": true,[m
[32m+[m[32m  "dependencies": {}[m
[32m+[m[32m}[m
[1mdiff --git a/public/404.html b/public/404.html[m
[1mnew file mode 100644[m
[1mindex 0000000..2be3af2[m
[1m--- /dev/null[m
[1m+++ b/public/404.html[m
[36m@@ -0,0 +1,67 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m[32m<html>[m
[32m+[m[32m<head>[m
[32m+[m[32m  <title>The page you were looking for doesn't exist (404)</title>[m
[32m+[m[32m  <meta name="viewport" content="width=device-width,initial-scale=1">[m
[32m+[m[32m  <style>[m
[32m+[m[32m  .rails-default-error-page {[m
[32m+[m[32m    background-color: #EFEFEF;[m
[32m+[m[32m    color: #2E2F30;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    font-family: arial, sans-serif;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog {[m
[32m+[m[32m    width: 95%;[m
[32m+[m[32m    max-width: 33em;[m
[32m+[m[32m    margin: 4em auto 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog > div {[m
[32m+[m[32m    border: 1px solid #CCC;[m
[32m+[m[32m    border-right-color: #999;[m
[32m+[m[32m    border-left-color: #999;[m
[32m+[m[32m    border-bottom-color: #BBB;[m
[32m+[m[32m    border-top: #B00100 solid 4px;[m
[32m+[m[32m    border-top-left-radius: 9px;[m
[32m+[m[32m    border-top-right-radius: 9px;[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    padding: 7px 12% 0;[m
[32m+[m[32m    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page h1 {[m
[32m+[m[32m    font-size: 100%;[m
[32m+[m[32m    color: #730E15;[m
[32m+[m[32m    line-height: 1.5em;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog > p {[m
[32m+[m[32m    margin: 0 0 1em;[m
[32m+[m[32m    padding: 1em;[m
[32m+[m[32m    background-color: #F7F7F7;[m
[32m+[m[32m    border: 1px solid #CCC;[m
[32m+[m[32m    border-right-color: #999;[m
[32m+[m[32m    border-left-color: #999;[m
[32m+[m[32m    border-bottom-color: #999;[m
[32m+[m[32m    border-bottom-left-radius: 4px;[m
[32m+[m[32m    border-bottom-right-radius: 4px;[m
[32m+[m[32m    border-top-color: #DADADA;[m
[32m+[m[32m    color: #666;[m
[32m+[m[32m    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);[m
[32m+[m[32m  }[m
[32m+[m[32m  </style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body class="rails-default-error-page">[m
[32m+[m[32m  <!-- This file lives in public/404.html -->[m
[32m+[m[32m  <div class="dialog">[m
[32m+[m[32m    <div>[m
[32m+[m[32m      <h1>The page you were looking for doesn't exist.</h1>[m
[32m+[m[32m      <p>You may have mistyped the address or the page may have moved.</p>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <p>If you are the application owner check the logs for more information.</p>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/public/422.html b/public/422.html[m
[1mnew file mode 100644[m
[1mindex 0000000..c08eac0[m
[1m--- /dev/null[m
[1m+++ b/public/422.html[m
[36m@@ -0,0 +1,67 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m[32m<html>[m
[32m+[m[32m<head>[m
[32m+[m[32m  <title>The change you wanted was rejected (422)</title>[m
[32m+[m[32m  <meta name="viewport" content="width=device-width,initial-scale=1">[m
[32m+[m[32m  <style>[m
[32m+[m[32m  .rails-default-error-page {[m
[32m+[m[32m    background-color: #EFEFEF;[m
[32m+[m[32m    color: #2E2F30;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    font-family: arial, sans-serif;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog {[m
[32m+[m[32m    width: 95%;[m
[32m+[m[32m    max-width: 33em;[m
[32m+[m[32m    margin: 4em auto 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog > div {[m
[32m+[m[32m    border: 1px solid #CCC;[m
[32m+[m[32m    border-right-color: #999;[m
[32m+[m[32m    border-left-color: #999;[m
[32m+[m[32m    border-bottom-color: #BBB;[m
[32m+[m[32m    border-top: #B00100 solid 4px;[m
[32m+[m[32m    border-top-left-radius: 9px;[m
[32m+[m[32m    border-top-right-radius: 9px;[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    padding: 7px 12% 0;[m
[32m+[m[32m    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page h1 {[m
[32m+[m[32m    font-size: 100%;[m
[32m+[m[32m    color: #730E15;[m
[32m+[m[32m    line-height: 1.5em;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog > p {[m
[32m+[m[32m    margin: 0 0 1em;[m
[32m+[m[32m    padding: 1em;[m
[32m+[m[32m    background-color: #F7F7F7;[m
[32m+[m[32m    border: 1px solid #CCC;[m
[32m+[m[32m    border-right-color: #999;[m
[32m+[m[32m    border-left-color: #999;[m
[32m+[m[32m    border-bottom-color: #999;[m
[32m+[m[32m    border-bottom-left-radius: 4px;[m
[32m+[m[32m    border-bottom-right-radius: 4px;[m
[32m+[m[32m    border-top-color: #DADADA;[m
[32m+[m[32m    color: #666;[m
[32m+[m[32m    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);[m
[32m+[m[32m  }[m
[32m+[m[32m  </style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body class="rails-default-error-page">[m
[32m+[m[32m  <!-- This file lives in public/422.html -->[m
[32m+[m[32m  <div class="dialog">[m
[32m+[m[32m    <div>[m
[32m+[m[32m      <h1>The change you wanted was rejected.</h1>[m
[32m+[m[32m      <p>Maybe you tried to change something you didn't have access to.</p>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <p>If you are the application owner check the logs for more information.</p>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/public/500.html b/public/500.html[m
[1mnew file mode 100644[m
[1mindex 0000000..78a030a[m
[1m--- /dev/null[m
[1m+++ b/public/500.html[m
[36m@@ -0,0 +1,66 @@[m
[32m+[m[32m<!DOCTYPE html>[m
[32m+[m[32m<html>[m
[32m+[m[32m<head>[m
[32m+[m[32m  <title>We're sorry, but something went wrong (500)</title>[m
[32m+[m[32m  <meta name="viewport" content="width=device-width,initial-scale=1">[m
[32m+[m[32m  <style>[m
[32m+[m[32m  .rails-default-error-page {[m
[32m+[m[32m    background-color: #EFEFEF;[m
[32m+[m[32m    color: #2E2F30;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    font-family: arial, sans-serif;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog {[m
[32m+[m[32m    width: 95%;[m
[32m+[m[32m    max-width: 33em;[m
[32m+[m[32m    margin: 4em auto 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog > div {[m
[32m+[m[32m    border: 1px solid #CCC;[m
[32m+[m[32m    border-right-color: #999;[m
[32m+[m[32m    border-left-color: #999;[m
[32m+[m[32m    border-bottom-color: #BBB;[m
[32m+[m[32m    border-top: #B00100 solid 4px;[m
[32m+[m[32m    border-top-left-radius: 9px;[m
[32m+[m[32m    border-top-right-radius: 9px;[m
[32m+[m[32m    background-color: white;[m
[32m+[m[32m    padding: 7px 12% 0;[m
[32m+[m[32m    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page h1 {[m
[32m+[m[32m    font-size: 100%;[m
[32m+[m[32m    color: #730E15;[m
[32m+[m[32m    line-height: 1.5em;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .rails-default-error-page div.dialog > p {[m
[32m+[m[32m    margin: 0 0 1em;[m
[32m+[m[32m    padding: 1em;[m
[32m+[m[32m    background-color: #F7F7F7;[m
[32m+[m[32m    border: 1px solid #CCC;[m
[32m+[m[32m    border-right-color: #999;[m
[32m+[m[32m    border-left-color: #999;[m
[32m+[m[32m    border-bottom-color: #999;[m
[32m+[m[32m    border-bottom-left-radius: 4px;[m
[32m+[m[32m    border-bottom-right-radius: 4px;[m
[32m+[m[32m    border-top-color: #DADADA;[m
[32m+[m[32m    color: #666;[m
[32m+[m[32m    box-shadow: 0 3px 8px rgba(50, 50, 50, 0.17);[m
[32m+[m[32m  }[m
[32m+[m[32m  </style>[m
[32m+[m[32m</head>[m
[32m+[m
[32m+[m[32m<body class="rails-default-error-page">[m
[32m+[m[32m  <!-- This file lives in public/500.html -->[m
[32m+[m[32m  <div class="dialog">[m
[32m+[m[32m    <div>[m
[32m+[m[32m      <h1>We're sorry, but something went wrong.</h1>[m
[32m+[m[32m    </div>[m
[32m+[m[32m    <p>If you are the application owner check the logs for more information.</p>[m
[32m+[m[32m  </div>[m
[32m+[m[32m</body>[m
[32m+[m[32m</html>[m
[1mdiff --git a/public/apple-touch-icon-precomposed.png b/public/apple-touch-icon-precomposed.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/public/apple-touch-icon.png b/public/apple-touch-icon.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/public/favicon.ico b/public/favicon.ico[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/public/logo-original.png b/public/logo-original.png[m
[1mnew file mode 100644[m
[1mindex 0000000..943e5d1[m
Binary files /dev/null and b/public/logo-original.png differ
[1mdiff --git a/public/logo/00552e.png b/public/logo/00552e.png[m
[1mnew file mode 100644[m
[1mindex 0000000..804d158[m
Binary files /dev/null and b/public/logo/00552e.png differ
[1mdiff --git a/public/logo/009b9f.png b/public/logo/009b9f.png[m
[1mnew file mode 100644[m
[1mindex 0000000..57fc511[m
Binary files /dev/null and b/public/logo/009b9f.png differ
[1mdiff --git a/public/logo/192f60.png b/public/logo/192f60.png[m
[1mnew file mode 100644[m
[1mindex 0000000..c07be80[m
Binary files /dev/null and b/public/logo/192f60.png differ
[1mdiff --git a/public/logo/333333.png b/public/logo/333333.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8070dab[m
Binary files /dev/null and b/public/logo/333333.png differ
[1mdiff --git a/public/logo/5eb954.png b/public/logo/5eb954.png[m
[1mnew file mode 100644[m
[1mindex 0000000..6f370ab[m
Binary files /dev/null and b/public/logo/5eb954.png differ
[1mdiff --git a/public/logo/7cc8e9.png b/public/logo/7cc8e9.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e3a921f[m
Binary files /dev/null and b/public/logo/7cc8e9.png differ
[1mdiff --git a/public/logo/812990.png b/public/logo/812990.png[m
[1mnew file mode 100644[m
[1mindex 0000000..255cd61[m
Binary files /dev/null and b/public/logo/812990.png differ
[1mdiff --git a/public/logo/947d17.png b/public/logo/947d17.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b28f8d7[m
Binary files /dev/null and b/public/logo/947d17.png differ
[1mdiff --git a/public/logo/b87333.png b/public/logo/b87333.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e3ea28b[m
Binary files /dev/null and b/public/logo/b87333.png differ
[1mdiff --git a/public/logo/c0c0c0.png b/public/logo/c0c0c0.png[m
[1mnew file mode 100644[m
[1mindex 0000000..9a67861[m
Binary files /dev/null and b/public/logo/c0c0c0.png differ
[1mdiff --git a/public/logo/e60033.png b/public/logo/e60033.png[m
[1mnew file mode 100644[m
[1mindex 0000000..0516d4c[m
Binary files /dev/null and b/public/logo/e60033.png differ
[1mdiff --git a/public/logo/eb6ea0.png b/public/logo/eb6ea0.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4ded0cc[m
Binary files /dev/null and b/public/logo/eb6ea0.png differ
[1mdiff --git a/public/logo/ee7800.png b/public/logo/ee7800.png[m
[1mnew file mode 100644[m
[1mindex 0000000..e53d044[m
Binary files /dev/null and b/public/logo/ee7800.png differ
[1mdiff --git a/public/logo/ffdc28.png b/public/logo/ffdc28.png[m
[1mnew file mode 100644[m
[1mindex 0000000..1a27305[m
Binary files /dev/null and b/public/logo/ffdc28.png differ
[1mdiff --git a/public/logo/ffffff.png b/public/logo/ffffff.png[m
[1mnew file mode 100644[m
[1mindex 0000000..658f95a[m
Binary files /dev/null and b/public/logo/ffffff.png differ
[1mdiff --git a/public/robots.txt b/public/robots.txt[m
[1mnew file mode 100644[m
[1mindex 0000000..37b576a[m
[1m--- /dev/null[m
[1m+++ b/public/robots.txt[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m# See http://www.robotstxt.org/robotstxt.html for documentation on how to use the robots.txt file[m
[1mdiff --git a/public/under-construction.png b/public/under-construction.png[m
[1mnew file mode 100644[m
[1mindex 0000000..7244c05[m
Binary files /dev/null and b/public/under-construction.png differ
[1mdiff --git a/storage/.keep b/storage/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/application_system_test_case.rb b/test/application_system_test_case.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..d19212a[m
[1m--- /dev/null[m
[1m+++ b/test/application_system_test_case.rb[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32mrequire "test_helper"[m
[32m+[m
[32m+[m[32mclass ApplicationSystemTestCase < ActionDispatch::SystemTestCase[m
[32m+[m[32m  driven_by :selenium, using: :chrome, screen_size: [1400, 1400][m
[32m+[m[32mend[m
[1mdiff --git a/test/controllers/.keep b/test/controllers/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/controllers/drafts_controller_test.rb b/test/controllers/drafts_controller_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..3243a12[m
[1m--- /dev/null[m
[1m+++ b/test/controllers/drafts_controller_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass DraftsControllerTest < ActionDispatch::IntegrationTest[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/controllers/home_controller_test.rb b/test/controllers/home_controller_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..4dea01a[m
[1m--- /dev/null[m
[1m+++ b/test/controllers/home_controller_test.rb[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass HomeControllerTest < ActionDispatch::IntegrationTest[m
[32m+[m[32m  test "should get top" do[m
[32m+[m[32m    get home_top_url[m
[32m+[m[32m    assert_response :success[m
[32m+[m[32m  end[m
[32m+[m
[32m+[m[32mend[m
[1mdiff --git a/test/controllers/rooms_controller_test.rb b/test/controllers/rooms_controller_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..285e122[m
[1m--- /dev/null[m
[1m+++ b/test/controllers/rooms_controller_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass RoomsControllerTest < ActionDispatch::IntegrationTest[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/controllers/users_controller_test.rb b/test/controllers/users_controller_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..6c3da77[m
[1m--- /dev/null[m
[1m+++ b/test/controllers/users_controller_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass UsersControllerTest < ActionDispatch::IntegrationTest[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/fixtures/.keep b/test/fixtures/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/fixtures/drafts.yml b/test/fixtures/drafts.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..7a9d281[m
[1m--- /dev/null[m
[1m+++ b/test/fixtures/drafts.yml[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m# Read about fixtures at http://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html[m
[32m+[m
[32m+[m[32mone:[m
[32m+[m[32m  user_id: 1[m
[32m+[m[32m  member_name: MyString[m
[32m+[m
[32m+[m[32mtwo:[m
[32m+[m[32m  user_id: 1[m
[32m+[m[32m  member_name: MyString[m
[1mdiff --git a/test/fixtures/files/.keep b/test/fixtures/files/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/fixtures/members.yml b/test/fixtures/members.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..308adec[m
[1m--- /dev/null[m
[1m+++ b/test/fixtures/members.yml[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m# Read about fixtures at http://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html[m
[32m+[m
[32m+[m[32mone:[m
[32m+[m[32m  name: MyString[m
[32m+[m[32m  team: MyString[m
[32m+[m[32m  generation: 1[m
[32m+[m
[32m+[m[32mtwo:[m
[32m+[m[32m  name: MyString[m
[32m+[m[32m  team: MyString[m
[32m+[m[32m  generation: 1[m
[1mdiff --git a/test/fixtures/rooms.yml b/test/fixtures/rooms.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..d800e62[m
[1m--- /dev/null[m
[1m+++ b/test/fixtures/rooms.yml[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m# Read about fixtures at http://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html[m
[32m+[m
[32m+[m[32mone:[m
[32m+[m[32m  room_id: 1[m
[32m+[m[32m  number_of_members: 1[m
[32m+[m[32m  number_of_players: 1[m
[32m+[m[32m  order: 1[m
[32m+[m[32m  user1: 1[m
[32m+[m[32m  user2: 1[m
[32m+[m[32m  user3: 1[m
[32m+[m[32m  user4: 1[m
[32m+[m
[32m+[m[32mtwo:[m
[32m+[m[32m  room_id: 1[m
[32m+[m[32m  number_of_members: 1[m
[32m+[m[32m  number_of_players: 1[m
[32m+[m[32m  order: 1[m
[32m+[m[32m  user1: 1[m
[32m+[m[32m  user2: 1[m
[32m+[m[32m  user3: 1[m
[32m+[m[32m  user4: 1[m
[1mdiff --git a/test/fixtures/users.yml b/test/fixtures/users.yml[m
[1mnew file mode 100644[m
[1mindex 0000000..2e665ab[m
[1m--- /dev/null[m
[1m+++ b/test/fixtures/users.yml[m
[36m@@ -0,0 +1,15 @@[m
[32m+[m[32m# Read about fixtures at http://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html[m
[32m+[m
[32m+[m[32mone:[m
[32m+[m[32m  room_id: 1[m
[32m+[m[32m  name: MyString[m
[32m+[m[32m  color: 1[m
[32m+[m[32m  select: MyString[m
[32m+[m[32m  memo: MyText[m
[32m+[m
[32m+[m[32mtwo:[m
[32m+[m[32m  room_id: 1[m
[32m+[m[32m  name: MyString[m
[32m+[m[32m  color: 1[m
[32m+[m[32m  select: MyString[m
[32m+[m[32m  memo: MyText[m
[1mdiff --git a/test/helpers/.keep b/test/helpers/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/integration/.keep b/test/integration/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/mailers/.keep b/test/mailers/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/models/.keep b/test/models/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/models/draft_test.rb b/test/models/draft_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..bddbe60[m
[1m--- /dev/null[m
[1m+++ b/test/models/draft_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass DraftTest < ActiveSupport::TestCase[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/models/member_test.rb b/test/models/member_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..7c0e92c[m
[1m--- /dev/null[m
[1m+++ b/test/models/member_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass MemberTest < ActiveSupport::TestCase[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/models/room_test.rb b/test/models/room_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..2f0b89f[m
[1m--- /dev/null[m
[1m+++ b/test/models/room_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass RoomTest < ActiveSupport::TestCase[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/models/user_test.rb b/test/models/user_test.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..82f61e0[m
[1m--- /dev/null[m
[1m+++ b/test/models/user_test.rb[m
[36m@@ -0,0 +1,7 @@[m
[32m+[m[32mrequire 'test_helper'[m
[32m+[m
[32m+[m[32mclass UserTest < ActiveSupport::TestCase[m
[32m+[m[32m  # test "the truth" do[m
[32m+[m[32m  #   assert true[m
[32m+[m[32m  # end[m
[32m+[m[32mend[m
[1mdiff --git a/test/system/.keep b/test/system/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/test/test_helper.rb b/test/test_helper.rb[m
[1mnew file mode 100644[m
[1mindex 0000000..3ab84e3[m
[1m--- /dev/null[m
[1m+++ b/test/test_helper.rb[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32mENV['RAILS_ENV'] ||= 'test'[m
[32m+[m[32mrequire_relative '../config/environment'[m
[32m+[m[32mrequire 'rails/test_help'[m
[32m+[m
[32m+[m[32mclass ActiveSupport::TestCase[m
[32m+[m[32m  # Setup all fixtures in test/fixtures/*.yml for all tests in alphabetical order.[m
[32m+[m[32m  fixtures :all[m
[32m+[m
[32m+[m[32m  # Add more helper methods to be used by all tests here...[m
[32m+[m[32mend[m
[1mdiff --git a/tmp/.keep b/tmp/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
[1mdiff --git a/vendor/.keep b/vendor/.keep[m
[1mnew file mode 100644[m
[1mindex 0000000..e69de29[m
